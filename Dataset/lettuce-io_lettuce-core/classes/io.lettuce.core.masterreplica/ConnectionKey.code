/** 
 * Connection to identify a connection by host/port.
 */
static class ConnectionKey {
  private final String host;
  private final int port;
  ConnectionKey(  String host,  int port){
    this.host=host;
    this.port=port;
  }
  @Override public boolean equals(  Object o){
    if (this == o)     return true;
    if (!(o instanceof ConnectionKey))     return false;
    ConnectionKey that=(ConnectionKey)o;
    if (port != that.port)     return false;
    return !(host != null ? !host.equals(that.host) : that.host != null);
  }
  @Override public int hashCode(){
    int result=(host != null ? host.hashCode() : 0);
    result=31 * result + port;
    return result;
  }
}
