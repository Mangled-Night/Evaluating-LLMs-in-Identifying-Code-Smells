/** 
 * Publish the given OMEMO bundle to the server using PubSub.
 * @param connection our connection.
 * @param userDevice our device
 * @param bundle the bundle we want to publish
 * @throws XMPPException.XMPPErrorException if there was an XMPP error returned.
 * @throws SmackException.NotConnectedException if the XMPP connection is not connected.
 * @throws InterruptedException if the calling thread was interrupted.
 * @throws SmackException.NoResponseException if there was no response from the remote entity.
 * @throws NotALeafNodeException if a PubSub leaf node operation was attempted on a non-leaf node.
 */
static void publishBundle(XMPPConnection connection,OmemoDevice userDevice,OmemoBundleElement bundle) throws XMPPException.XMPPErrorException, SmackException.NotConnectedException, InterruptedException, SmackException.NoResponseException, NotALeafNodeException {
  PepManager pm=PepManager.getInstanceFor(connection);
  pm.publish(userDevice.getBundleNodeName(),new PayloadItem<>(bundle));
}
