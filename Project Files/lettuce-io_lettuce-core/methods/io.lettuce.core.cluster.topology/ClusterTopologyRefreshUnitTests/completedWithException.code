private static <T>ConnectionFuture<T> completedWithException(Exception e){
  CompletableFuture<T> future=new CompletableFuture<>();
  future.completeExceptionally(e);
  return ConnectionFuture.from(InetSocketAddress.createUnresolved(TestSettings.host(),TestSettings.port()),future);
}
