protected State constructState(ModularXmppClientToServerConnectionInternal connectionInternal){
  ModularXmppClientToServerConnection connection=connectionInternal.connection;
  try {
    return stateClassConstructor.newInstance(connection,this,connectionInternal);
  }
 catch (  InstantiationException|IllegalAccessException|IllegalArgumentException|InvocationTargetException e) {
    throw new IllegalStateException(e);
  }
}
