/** 
 * 用户足迹列表
 * @param page 分页页数
 * @param limit 分页大小
 * @return 用户足迹列表
 */
@GetMapping("list") public Object list(@LoginUser Integer userId,@RequestParam(defaultValue="1") Integer page,@RequestParam(defaultValue="10") Integer limit){
  if (userId == null) {
    return ResponseUtil.unlogin();
  }
  List<LitemallFootprint> footprintList=footprintService.queryByAddTime(userId,page,limit);
  List<Object> footprintVoList=new ArrayList<>(footprintList.size());
  for (  LitemallFootprint footprint : footprintList) {
    Map<String,Object> c=new HashMap<String,Object>();
    c.put("id",footprint.getId());
    c.put("goodsId",footprint.getGoodsId());
    c.put("addTime",footprint.getAddTime());
    LitemallGoods goods=goodsService.findById(footprint.getGoodsId());
    c.put("name",goods.getName());
    c.put("brief",goods.getBrief());
    c.put("picUrl",goods.getPicUrl());
    c.put("retailPrice",goods.getRetailPrice());
    footprintVoList.add(c);
  }
  return ResponseUtil.okList(footprintVoList,footprintList);
}
