@Tag("MteTest") public abstract class ModuleEnvironmentTest {
  protected ModuleManager moduleManager;
  protected ModuleTypeRegistry typeRegistry;
  @BeforeEach public void before(  @TempDir Path tempHome) throws Exception {
    PathManager.getInstance().useOverrideHomePath(tempHome);
    moduleManager=ModuleManagerFactory.create();
    TypeRegistry.WHITELISTED_CLASSES=ExternalApiWhitelist.CLASSES.stream().map(Class::getName).collect(Collectors.toSet());
    TypeRegistry.WHITELISTED_PACKAGES=ExternalApiWhitelist.PACKAGES;
    typeRegistry=new ModuleTypeRegistry(moduleManager.getEnvironment());
    setup();
  }
  protected void setup(){
  }
}
