public static final long readLength(InputStream in) throws IOException {
  int length=in.read();
  if (length < 0) {
    throw new EOFException();
  }
switch (length) {
case 251:
    return NULL_LENGTH;
case 252:
  return readUB2(in);
case 253:
return readUB3(in);
case 254:
return readLong(in);
default :
return length;
}
}
