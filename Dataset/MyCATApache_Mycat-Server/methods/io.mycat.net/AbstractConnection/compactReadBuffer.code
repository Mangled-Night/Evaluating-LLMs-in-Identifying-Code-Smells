private ByteBuffer compactReadBuffer(ByteBuffer buffer,int offset){
  if (buffer == null) {
    return null;
  }
  buffer.limit(buffer.position());
  buffer.position(offset);
  buffer=buffer.compact();
  readBufferOffset=0;
  return buffer;
}
