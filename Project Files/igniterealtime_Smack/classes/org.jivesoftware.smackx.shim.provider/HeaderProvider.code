/** 
 * Parses the header element as defined in <a href="http://xmpp.org/extensions/xep-0131">Stanza Headers and Internet Metadata (SHIM)</a>.
 * @author Robin Collier
 */
public class HeaderProvider extends ExtensionElementProvider<Header> {
  @Override public Header parse(  XmlPullParser parser,  int initialDepth,  XmlEnvironment xmlEnvironment) throws XmlPullParserException, IOException {
    String name=parser.getAttributeValue(null,"name");
    String value=null;
    parser.next();
    if (parser.getEventType() == XmlPullParser.Event.TEXT_CHARACTERS) {
      value=parser.getText();
    }
    while (parser.getEventType() != XmlPullParser.Event.END_ELEMENT) {
      parser.next();
    }
    return new Header(name,value);
  }
}
