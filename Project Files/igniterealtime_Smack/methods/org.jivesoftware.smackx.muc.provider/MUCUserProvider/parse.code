/** 
 * Parses a MUCUser stanza (extension sub-packet).
 * @param parser the XML parser, positioned at the starting element of the extension.
 * @return a PacketExtension.
 * @throws IOException if an I/O error occurred.
 * @throws XmlPullParserException if an error in the XML parser occurred.
 */
@Override public MUCUser parse(XmlPullParser parser,int initialDepth,XmlEnvironment xmlEnvironment) throws XmlPullParserException, IOException {
  MUCUser mucUser=new MUCUser();
  outerloop:   while (true) {
switch (parser.next()) {
case START_ELEMENT:
switch (parser.getName()) {
case "invite":
        mucUser.setInvite(parseInvite(parser));
      break;
case "item":
    mucUser.setItem(MUCParserUtils.parseItem(parser));
  break;
case "password":
mucUser.setPassword(parser.nextText());
break;
case "status":
String statusString=parser.getAttributeValue("","code");
mucUser.addStatusCode(MUCUser.Status.create(statusString));
break;
case "decline":
mucUser.setDecline(parseDecline(parser));
break;
case "destroy":
mucUser.setDestroy(MUCParserUtils.parseDestroy(parser));
break;
}
break;
case END_ELEMENT:
if (parser.getDepth() == initialDepth) {
break outerloop;
}
break;
default :
break;
}
}
return mucUser;
}
