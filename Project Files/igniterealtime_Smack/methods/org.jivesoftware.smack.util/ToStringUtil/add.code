public <V>Builder add(String name,Collection<? extends V> values,Function<?,V> toStringFunction){
  if (values.isEmpty()) {
    return this;
  }
  sb.append(' ').append(name).append('[');
  List<String> stringValues=new ArrayList<>(values.size());
  for (  V value : values) {
    String valueString=toStringFunction.apply(value).toString();
    stringValues.add(valueString);
  }
  StringUtils.appendTo(stringValues,", ",sb);
  sb.append(']');
  return this;
}
