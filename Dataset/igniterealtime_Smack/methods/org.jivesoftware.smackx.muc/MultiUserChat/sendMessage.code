/** 
 * Sends a message to the chat room.
 * @param text the text of the message to send.
 * @throws NotConnectedException if the XMPP connection is not connected.
 * @throws InterruptedException if the calling thread was interrupted.
 */
public void sendMessage(String text) throws NotConnectedException, InterruptedException {
  Message message=buildMessage().setBody(text).build();
  connection.sendStanza(message);
}
/** 
 * Sends a Message to the chat room.
 * @param message the message.
 * @throws NotConnectedException if the XMPP connection is not connected.
 * @throws InterruptedException if the calling thread was interrupted.
 * @deprecated use {@link #sendMessage(MessageBuilder)} instead.
 */
@Deprecated public void sendMessage(Message message) throws NotConnectedException, InterruptedException {
  sendMessage(message.asBuilder());
}
/** 
 * Sends a Message to the chat room.
 * @param messageBuilder the message.
 * @return a read-only view of the send message.
 * @throws NotConnectedException if the XMPP connection is not connected.
 * @throws InterruptedException if the calling thread was interrupted.
 */
public MessageView sendMessage(MessageBuilder messageBuilder) throws NotConnectedException, InterruptedException {
  for (  MucMessageInterceptor interceptor : messageInterceptors) {
    interceptor.intercept(messageBuilder,this);
  }
  Message message=messageBuilder.to(room).ofType(Message.Type.groupchat).build();
  connection.sendStanza(message);
  return message;
}
