@Configuration public class CorsConfig {
  private long maxAge=30 * 24 * 60* 60;
  private CorsConfiguration buildConfig(){
    CorsConfiguration corsConfiguration=new CorsConfiguration();
    corsConfiguration.addAllowedOrigin("*");
    corsConfiguration.addAllowedHeader("*");
    corsConfiguration.addAllowedMethod("*");
    corsConfiguration.setMaxAge(maxAge);
    corsConfiguration.setAllowCredentials(true);
    return corsConfiguration;
  }
  @Bean public CorsFilter corsFilter(){
    UrlBasedCorsConfigurationSource source=new UrlBasedCorsConfigurationSource();
    source.registerCorsConfiguration("/**",buildConfig());
    return new CorsFilter(source);
  }
}
