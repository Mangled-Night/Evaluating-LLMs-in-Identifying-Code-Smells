/** 
 * Represents information about a Chat where this Agent is participating.
 * @author Gaston Dombiak
 */
public static class ChatInfo {
  private final String sessionID;
  private final String userID;
  private final Date date;
  private final String email;
  private final String username;
  private final String question;
  public ChatInfo(  String sessionID,  String userID,  Date date,  String email,  String username,  String question){
    this.sessionID=sessionID;
    this.userID=userID;
    this.date=date;
    this.email=email;
    this.username=username;
    this.question=question;
  }
  /** 
 * Returns the sessionID associated to this chat. Each chat will have a unique sessionID that could be used for retrieving the whole transcript of the conversation.
 * @return the sessionID associated to this chat.
 */
  public String getSessionID(){
    return sessionID;
  }
  /** 
 * Returns the user unique identification of the user that made the initial request and for which this chat was generated. If the user joined using an anonymous connection then the userID will be the value of the ID attribute of the USER element. Otherwise, the userID will be the bare JID of the user that made the request.
 * @return the user unique identification of the user that made the initial request.
 */
  public String getUserID(){
    return userID;
  }
  /** 
 * Returns the date when this agent joined the chat.
 * @return the date when this agent joined the chat.
 */
  public Date getDate(){
    return date;
  }
  /** 
 * Returns the email address associated with the user.
 * @return the email address associated with the user.
 */
  public String getEmail(){
    return email;
  }
  /** 
 * Returns the username(nickname) associated with the user.
 * @return the username associated with the user.
 */
  public String getUsername(){
    return username;
  }
  /** 
 * Returns the question the user asked.
 * @return the question the user asked, if any.
 */
  public String getQuestion(){
    return question;
  }
  public String toXML(){
    StringBuilder buf=new StringBuilder();
    buf.append("<chat ");
    if (sessionID != null) {
      buf.append(" sessionID=\"").append(sessionID).append('"');
    }
    if (userID != null) {
      buf.append(" userID=\"").append(userID).append('"');
    }
    if (date != null) {
      buf.append(" startTime=\"");
synchronized (UTC_FORMAT) {
        buf.append(UTC_FORMAT.format(date));
      }
      buf.append('"');
    }
    if (email != null) {
      buf.append(" email=\"").append(email).append('"');
    }
    if (username != null) {
      buf.append(" username=\"").append(username).append('"');
    }
    if (question != null) {
      buf.append(" question=\"").append(question).append('"');
    }
    buf.append("/>");
    return buf.toString();
  }
}
