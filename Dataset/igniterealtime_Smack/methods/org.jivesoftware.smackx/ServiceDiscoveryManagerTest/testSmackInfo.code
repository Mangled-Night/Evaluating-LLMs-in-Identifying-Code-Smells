/** 
 * Tests info discovery of a Smack client.
 */
public void testSmackInfo(){
  ServiceDiscoveryManager discoManager=ServiceDiscoveryManager.getInstanceFor(getConnection(0));
  try {
    DiscoverInfo info=discoManager.discoverInfo(getFullJID(1));
    Iterator<Identity> identities=info.getIdentities();
    assertTrue("No identities were found",identities.hasNext());
    Identity identity=identities.next();
    assertEquals("Name in identity is wrong",discoManager.getIdentityName(),identity.getName());
    assertEquals("Category in identity is wrong","client",identity.getCategory());
    assertEquals("Type in identity is wrong",discoManager.getIdentityType(),identity.getType());
    assertFalse("More identities were found",identities.hasNext());
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail(e.getMessage());
  }
}
