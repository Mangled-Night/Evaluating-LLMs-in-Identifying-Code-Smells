/** 
 * Manager for HTTP ove XMPP transport (XEP-0332) extension.
 * @author Andriy Tsykholyas
 * @see <a href="http://xmpp.org/extensions/xep-0332.html">XEP-0332: HTTP over XMPP transport</a>
 */
public class HOXTManager {
  /** 
 * Namespace for this extension.
 */
  public static final String NAMESPACE=AbstractHttpOverXmpp.NAMESPACE;
static {
    XMPPConnectionRegistry.addConnectionCreationListener(new ConnectionCreationListener(){
      @Override public void connectionCreated(      XMPPConnection connection){
        ServiceDiscoveryManager.getInstanceFor(connection).addFeature(NAMESPACE);
      }
    }
);
  }
  /** 
 * Returns true if the given entity understands the HTTP ove XMPP transport format and allows the exchange of such.
 * @param jid jid
 * @param connection connection
 * @return true if the given entity understands the HTTP ove XMPP transport format and exchange.
 * @throws XMPPErrorException if there was an XMPP error returned.
 * @throws NoResponseException if there was no response from the remote entity.
 * @throws NotConnectedException if the XMPP connection is not connected.
 * @throws InterruptedException if the calling thread was interrupted.
 */
  public static boolean isSupported(  Jid jid,  XMPPConnection connection) throws NoResponseException, XMPPErrorException, NotConnectedException, InterruptedException {
    return ServiceDiscoveryManager.getInstanceFor(connection).supportsFeature(jid,NAMESPACE);
  }
}
