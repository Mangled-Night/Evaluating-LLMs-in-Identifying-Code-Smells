private Field getField(String name) throws IllegalAccessException {
  Field field=getAccessibleField(name);
  if ((field.getModifiers() & Modifier.FINAL) == Modifier.FINAL) {
    try {
      Field modifiersField=Field.class.getDeclaredField("modifiers");
      modifiersField.setAccessible(true);
      modifiersField.setInt(field,field.getModifiers() & ~Modifier.FINAL);
    }
 catch (    NoSuchFieldException ignore) {
      field.setAccessible(true);
    }
  }
  return field;
}
