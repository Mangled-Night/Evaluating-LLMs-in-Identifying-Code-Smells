void configForTest(Config config,ModuleManager moduleManager){
  Set<Name> dependencyNames=dependencies.stream().map(Name::new).collect(Collectors.toSet());
  if (dependencyNames.isEmpty()) {
    Path workingDirectory=Path.of(".").toAbsolutePath().normalize();
    var defaultModule=moduleManager.getModuleAt(workingDirectory);
    logger.info("No module dependencies given. Checked current directory `{}`, found `{}` to use as default.",workingDirectory,defaultModule.orElse(null));
    defaultModule.ifPresent(m -> dependencyNames.add(m.getId()));
  }
  dependencyNames.add(MTE_MODULE_NAME);
  ModuleConfig moduleSelection=config.getDefaultModSelection();
  moduleSelection.clear();
  dependencyNames.forEach(moduleSelection::addModule);
  WorldGenerationConfig worldGenerationConfig=config.getWorldGeneration();
  worldGenerationConfig.setDefaultGenerator(worldGeneratorUri);
  worldGenerationConfig.setWorldTitle(WORLD_TITLE);
  worldGenerationConfig.setDefaultSeed(DEFAULT_SEED);
}
