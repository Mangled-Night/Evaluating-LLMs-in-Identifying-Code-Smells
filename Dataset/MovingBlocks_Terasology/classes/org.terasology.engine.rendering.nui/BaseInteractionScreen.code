/** 
 * A base screen to help create screens with less plumbing. This will use the InteractionTarget system to get the entity that the character activated. Every time the screen is opened,  it ensures that the correct entity has been initialized in the UI.
 */
public abstract class BaseInteractionScreen extends CoreScreenLayer {
  @In private LocalPlayer localPlayer;
  protected EntityRef getInteractionTarget(){
    EntityRef characterEntity=localPlayer.getCharacterEntity();
    CharacterComponent characterComponent=characterEntity.getComponent(CharacterComponent.class);
    return characterComponent.predictedInteractionTarget;
  }
  @Override public void onOpened(){
    super.onOpened();
    initializeWithInteractionTarget(getInteractionTarget());
  }
  protected abstract void initializeWithInteractionTarget(  EntityRef interactionTarget);
}
