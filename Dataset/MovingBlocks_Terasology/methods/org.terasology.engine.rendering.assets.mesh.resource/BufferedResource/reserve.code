/** 
 * expand the capacity of the buffer without increasing  {@link #inSize()}
 * @param size the size of the capacity of the buffer
 */
protected void reserve(int size){
  if (size > buffer.capacity()) {
    int newCap=Math.max(buffer.capacity() << 1,size);
    ByteBuffer newBuffer=BufferUtils.createByteBuffer(newCap);
    buffer.limit(this.inSize);
    buffer.position(0);
    newBuffer.put(buffer);
    this.buffer=newBuffer;
  }
  mark();
}
