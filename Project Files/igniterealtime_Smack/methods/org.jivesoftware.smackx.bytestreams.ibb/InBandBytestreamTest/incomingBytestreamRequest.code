public void incomingBytestreamRequest(InBandBytestreamRequest request){
  InputStream inputStream;
  try {
    inputStream=request.accept().getInputStream();
    byte[] receivedData=new byte[dataSize];
    int totalRead=0;
    while (totalRead < dataSize) {
      int read=inputStream.read(receivedData,totalRead,dataSize - totalRead);
      totalRead+=read;
    }
    queue.put(receivedData);
  }
 catch (  Exception e) {
    fail(e.getMessage());
  }
}
public void incomingBytestreamRequest(InBandBytestreamRequest request){
  InputStream inputStream;
  try {
    inputStream=request.accept().getInputStream();
    byte[] receivedData=new byte[dataSize];
    int totalRead=0;
    while (totalRead < dataSize) {
      int read=inputStream.read(receivedData,totalRead,dataSize - totalRead);
      totalRead+=read;
    }
    queue.put(receivedData);
  }
 catch (  Exception e) {
    fail(e.getMessage());
  }
}
public void incomingBytestreamRequest(InBandBytestreamRequest request){
  try {
    InBandBytestreamSession session=request.accept();
    OutputStream outputStream=session.getOutputStream();
    outputStream.write(data);
    outputStream.flush();
    InputStream inputStream=session.getInputStream();
    byte[] receivedData=new byte[dataSize];
    int totalRead=0;
    while (totalRead < dataSize) {
      int read=inputStream.read(receivedData,totalRead,dataSize - totalRead);
      totalRead+=read;
    }
    queue.put(receivedData);
  }
 catch (  Exception e) {
    fail(e.getMessage());
  }
}
