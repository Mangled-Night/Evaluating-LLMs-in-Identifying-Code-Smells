@Test public void dateFormatsTest() throws Exception {
  DelayInformationProvider p=new DelayInformationProvider();
  DelayInformation delayInfo;
  String control;
  control=XMLBuilder.create("delay").a("xmlns","urn:xmpp:delay").a("from","capulet.com").a("stamp","2002-09-10T23:08:25.12Z").asString(outputProperties);
  delayInfo=p.parse(PacketParserUtils.getParserFor(control));
  GregorianCalendar cal=(GregorianCalendar)calendar.clone();
  cal.add(Calendar.MILLISECOND,120);
  assertEquals(cal.getTime(),delayInfo.getStamp());
  control=XMLBuilder.create("delay").a("xmlns","urn:xmpp:delay").a("from","capulet.com").a("stamp","2002-09-10T23:08:25Z").asString(outputProperties);
  delayInfo=p.parse(PacketParserUtils.getParserFor(control));
  assertEquals(calendar.getTime(),delayInfo.getStamp());
  control=XMLBuilder.create("delay").a("xmlns","urn:xmpp:delay").a("from","capulet.com").a("stamp","2002-9-10T23:08:25Z").asString(outputProperties);
  delayInfo=p.parse(PacketParserUtils.getParserFor(control));
  assertEquals(calendar.getTime(),delayInfo.getStamp());
}
