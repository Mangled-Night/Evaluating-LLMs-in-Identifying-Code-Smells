@Test void testAsynchronicityOfMultiNodeExecution(){
  StatefulRedisClusterConnection<String,String> connection2=clusterClient.connect();
  RedisAdvancedClusterAsyncCommands<String,String> async2=connection2.async();
  AsyncNodeSelection<String,String> masters=async2.masters();
  TestFutures.awaitOrTimeout(masters.commands().configSet("lua-time-limit","10"));
  AsyncExecutions<Object> eval=masters.commands().eval("while true do end",STATUS,new String[0]);
  for (  CompletableFuture<Object> future : eval.futures()) {
    assertThat(future.isDone()).isFalse();
    assertThat(future.isCancelled()).isFalse();
  }
  Delay.delay(Duration.ofMillis(200));
  AsyncExecutions<String> kill=commands.masters().commands().scriptKill();
  TestFutures.awaitOrTimeout(kill);
  for (  CompletionStage<String> execution : kill) {
    assertThat(TestFutures.getOrTimeout(execution)).isEqualTo("OK");
  }
  TestFutures.awaitOrTimeout(CompletableFuture.allOf(eval.futures()).exceptionally(throwable -> null));
  for (  CompletableFuture<Object> future : eval.futures()) {
    assertThat(future.isDone()).isTrue();
  }
  connection2.close();
}
