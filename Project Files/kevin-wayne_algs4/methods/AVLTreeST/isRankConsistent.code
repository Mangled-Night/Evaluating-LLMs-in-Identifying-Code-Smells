/** 
 * Checks if rank is consistent.
 * @return {@code true} if rank is consistent
 */
private boolean isRankConsistent(){
  for (int i=0; i < size(); i++)   if (i != rank(select(i)))   return false;
  for (  Key key : keys())   if (key.compareTo(select(rank(key))) != 0)   return false;
  return true;
}
