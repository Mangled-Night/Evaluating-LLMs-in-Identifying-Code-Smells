/** 
 * Returns a parameterized version of the given raw type, if it has generic type parameters. If it has no generic type parameters, the raw type itself is returned.
 */
public static Type parameterizeRawType(Class<?> rawType){
  if (rawType == null) {
    return null;
  }
  TypeVariable<?>[] typeParameters=rawType.getTypeParameters();
  if (typeParameters.length == 0) {
    return rawType;
  }
  return parameterizedTypeOf(parameterizeRawType(rawType.getEnclosingClass()),typeParameters,rawType);
}
