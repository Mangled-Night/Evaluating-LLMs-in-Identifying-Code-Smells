/** 
 * Pre-approve the subscription if it is required and possible.
 * @param roster The roster which should be used for the pre-approval.
 * @param jid The XMPP address which should be pre-approved.
 * @throws NotLoggedInException if the XMPP connection is not authenticated.
 * @throws NotConnectedException if the XMPP connection is not connected.
 * @throws InterruptedException if the calling thread was interrupted.
 * @since 4.2.2
 */
public static void preApproveSubscriptionIfRequiredAndPossible(Roster roster,BareJid jid) throws NotLoggedInException, NotConnectedException, InterruptedException {
  if (!roster.isSubscriptionPreApprovalSupported()) {
    return;
  }
  RosterEntry entry=roster.getEntry(jid);
  if (entry == null || (!entry.canSeeMyPresence() && !entry.isApproved())) {
    try {
      roster.preApprove(jid);
    }
 catch (    FeatureNotSupportedException e) {
      throw new AssertionError(e);
    }
  }
}
