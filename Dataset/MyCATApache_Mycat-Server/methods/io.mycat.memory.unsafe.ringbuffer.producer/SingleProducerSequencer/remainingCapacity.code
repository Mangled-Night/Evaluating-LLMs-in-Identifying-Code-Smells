@Override public long remainingCapacity(){
  long nextValue=this.nextValue;
  long consumed=Util.getMinimumSequence(gatingSequences,nextValue);
  long produced=nextValue;
  return getBufferSize() - (produced - consumed);
}
