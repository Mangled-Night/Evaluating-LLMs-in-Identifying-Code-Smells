/** 
 * This class append the user id to error log. And then the  {@link org.terasology.engine.telemetry.logstash.TelemetryLogstashAppender} will send logs to the server.The user id is based on user's MAC address. Normally it differs from one to another.
 */
public class UserIdJsonProvider extends AbstractFieldJsonProvider<ILoggingEvent> implements FieldNamesAware<LogstashFieldNames> {
  public static final String FIELD_USER_ID="user_id";
  public UserIdJsonProvider(){
    setFieldName(FIELD_USER_ID);
  }
  public void writeTo(  JsonGenerator generator,  ILoggingEvent event) throws IOException {
    JsonWritingUtils.writeStringField(generator,getFieldName(),TelemetryParams.userId);
  }
  public void setFieldNames(  LogstashFieldNames fieldNames){
    setFieldName(fieldNames.getMessage());
  }
}
