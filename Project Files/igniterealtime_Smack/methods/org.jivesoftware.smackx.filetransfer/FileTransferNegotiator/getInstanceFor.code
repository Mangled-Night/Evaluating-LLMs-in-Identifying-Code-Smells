/** 
 * Returns the file transfer negotiator related to a particular connection. When this class is requested on a particular connection the file transfer service is automatically enabled.
 * @param connection The connection for which the transfer manager is desired
 * @return The FileTransferNegotiator
 */
public static synchronized FileTransferNegotiator getInstanceFor(final XMPPConnection connection){
  FileTransferNegotiator fileTransferNegotiator=INSTANCES.get(connection);
  if (fileTransferNegotiator == null) {
    fileTransferNegotiator=new FileTransferNegotiator(connection);
    INSTANCES.put(connection,fileTransferNegotiator);
  }
  return fileTransferNegotiator;
}
