/** 
 * Returns an unmodifiable map of all properties.
 * @return all properties.
 */
public synchronized Map<String,Object> getProperties(){
  if (properties == null) {
    return Collections.emptyMap();
  }
  return Collections.unmodifiableMap(new HashMap<>(properties));
}
