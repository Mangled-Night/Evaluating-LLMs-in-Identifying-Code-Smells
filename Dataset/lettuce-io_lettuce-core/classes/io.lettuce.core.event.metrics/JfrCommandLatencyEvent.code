/** 
 * JFR Event for CommandLatencyEvent A JfrCommandLatencyEvent is only a trigger of multiple JfrCommandLatency
 * @author Hash.Jang
 * @since 6.2
 * @see JfrCommandLatency
 */
@Category({"Lettuce","Command Events"}) @Label("Command Latency Trigger") @StackTrace(false) class JfrCommandLatencyEvent extends Event {
  private final int size;
  public JfrCommandLatencyEvent(  CommandLatencyEvent commandLatencyEvent){
    this.size=commandLatencyEvent.getLatencies().size();
    commandLatencyEvent.getLatencies().forEach((commandLatencyId,commandMetrics) -> {
      new JfrCommandLatency(commandLatencyId,commandMetrics).commit();
    }
);
  }
}
