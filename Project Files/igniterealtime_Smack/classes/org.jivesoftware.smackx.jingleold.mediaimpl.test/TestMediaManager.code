/** 
 * Implements a MediaManager for test purposes.
 * @author Thiago Camargo
 */
public class TestMediaManager extends JingleMediaManager {
  public static final String MEDIA_NAME="TestMedia";
  private List<PayloadType> payloads=new ArrayList<>();
  private PayloadType preferredPayloadType=null;
  public TestMediaManager(  JingleTransportManager transportManager){
    super(transportManager);
  }
  /** 
 * Return all supported Payloads for this Manager.
 * @return The Payload List
 */
  @Override public List<PayloadType> getPayloads(){
    return payloads;
  }
  public void setPayloads(  List<PayloadType> payloads){
    this.payloads.addAll(payloads);
  }
  /** 
 * Returns a new JingleMediaSession.
 * @param payloadType payloadType
 * @param remote      remote Candidate
 * @param local       local Candidate
 * @return JingleMediaSession JingleMediaSession
 */
  @Override public JingleMediaSession createMediaSession(  PayloadType payloadType,  final TransportCandidate remote,  final TransportCandidate local,  final JingleSession jingleSession){
    TestMediaSession session;
    session=new TestMediaSession(payloadType,remote,local,"",jingleSession);
    return session;
  }
  @Override public PayloadType getPreferredPayloadType(){
    if (preferredPayloadType != null)     return preferredPayloadType;
    return super.getPreferredPayloadType();
  }
  public void setPreferredPayloadType(  PayloadType preferredPayloadType){
    this.preferredPayloadType=preferredPayloadType;
  }
  @Override public String getName(){
    return MEDIA_NAME;
  }
}
