private void sendEvents(NetData.NetMessage.Builder message){
  List<NetData.BlockChangeMessage> blockChanges=Lists.newArrayListWithExpectedSize(queuedOutgoingBlockChanges.size());
  queuedOutgoingBlockChanges.drainTo(blockChanges);
  message.addAllBlockChange(blockChanges);
  List<NetData.ExtraDataChangeMessage> extraDataChanges=Lists.newArrayListWithExpectedSize(queuedOutgoingExtraDataChanges.size());
  queuedOutgoingExtraDataChanges.drainTo(extraDataChanges);
  message.addAllExtraDataChange(extraDataChanges);
  message.addAllEvent(queuedOutgoingEvents);
  queuedOutgoingEvents.clear();
}
