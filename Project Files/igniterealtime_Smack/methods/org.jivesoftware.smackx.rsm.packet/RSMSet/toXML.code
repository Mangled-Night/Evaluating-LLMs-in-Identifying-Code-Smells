@Override public XmlStringBuilder toXML(org.jivesoftware.smack.packet.XmlEnvironment enclosingNamespace){
  XmlStringBuilder xml=new XmlStringBuilder(this);
  xml.rightAngleBracket();
  xml.optElement("after",after);
  xml.optElement("before",before);
  xml.optIntElement("count",count);
  if (firstString != null) {
    xml.halfOpenElement("first");
    xml.optIntAttribute("index",firstIndex);
    xml.rightAngleBracket();
    xml.append(firstString);
    xml.closeElement("first");
  }
  xml.optIntElement("index",index);
  xml.optElement("last",last);
  xml.optIntElement("max",max);
  xml.closeElement(this);
  return xml;
}
