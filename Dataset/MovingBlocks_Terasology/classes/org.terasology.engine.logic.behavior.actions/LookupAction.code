/** 
 * Runs a given behavior tree.
 */
@API @BehaviorAction(name="lookup") public class LookupAction extends BaseAction {
  @OneOf.Provider(name="behaviorTrees") private BehaviorTree tree;
  @Override public void construct(  Actor actor){
    if (tree != null) {
      BehaviorNode root=tree.getRoot().deepCopy();
      if (root != null) {
        actor.setValue(getId(),root);
        root.construct(actor);
      }
    }
  }
  @Override public BehaviorState modify(  Actor actor,  BehaviorState result){
    BehaviorNode root=actor.getValue(getId());
    if (root == null) {
      return BehaviorState.FAILURE;
    }
    return root.execute(actor);
  }
  @Override public void destruct(  Actor actor){
    BehaviorNode root=actor.getValue(getId());
    if (root != null) {
      root.destruct(actor);
    }
  }
}
