private Matrix4f getMatrix(GLTF gltf,int nodeIndex){
  Matrix4f transform=new Matrix4f();
  if (nodeIndex != -1) {
    GLTFNode node=gltf.getNodes().get(nodeIndex);
    if (node.getMatrix() == null) {
      Vector3f position=new Vector3f();
      Quaternionf rotation=new Quaternionf();
      Vector3f scale=new Vector3f(1,1,1);
      if (node.getTranslation() != null) {
        position.set(node.getTranslation());
      }
      if (node.getRotation() != null) {
        rotation.set(node.getRotation());
      }
      if (node.getScale() != null) {
        scale.set(node.getScale());
      }
      transform.translationRotateScale(position,rotation,scale);
    }
 else {
      transform.set(node.getMatrix());
    }
    int parentNodeIndex=getParentNode(gltf,nodeIndex);
    Matrix4f parentTransform=getMatrix(gltf,parentNodeIndex);
    parentTransform.mul(transform);
    transform.set(parentTransform);
  }
  return transform;
}
