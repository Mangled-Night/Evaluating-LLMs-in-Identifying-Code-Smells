public class AfterXStanzas implements StanzaFilter {
  final int count;
  int currentCount;
  public AfterXStanzas(  int count){
    this.count=count;
    currentCount=0;
  }
  @Override public synchronized boolean accept(  Stanza packet){
    currentCount++;
    if (currentCount == count) {
      resetCounter();
      return true;
    }
    return false;
  }
  public synchronized void resetCounter(){
    currentCount=0;
  }
}
