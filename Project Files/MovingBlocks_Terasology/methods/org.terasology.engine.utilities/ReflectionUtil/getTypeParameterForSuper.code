public static <T>Type getTypeParameterForSuper(Type target,Class<T> superClass,int index){
  Class targetClass=getRawType(target);
  Preconditions.checkArgument(superClass.isAssignableFrom(targetClass),"Target must be a child of superClass");
  if (superClass.isInterface()) {
    return getTypeParameterForSuperInterface(target,superClass,index);
  }
 else {
    return getTypeParameterForSuperClass(target,superClass,index);
  }
}
