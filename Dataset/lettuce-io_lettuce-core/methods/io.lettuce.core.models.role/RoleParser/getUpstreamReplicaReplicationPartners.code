private static List<ReplicationPartner> getUpstreamReplicaReplicationPartners(List<?> roleOutput){
  List<ReplicationPartner> replicas=new ArrayList<>();
  if (roleOutput.size() > 2 && roleOutput.get(2) instanceof Collection) {
    Collection<?> segments=(Collection<?>)roleOutput.get(2);
    for (    Object output : segments) {
      if (!(output instanceof Collection<?>)) {
        continue;
      }
      ReplicationPartner replicationPartner=getReplicationPartner((Collection<?>)output);
      replicas.add(replicationPartner);
    }
  }
  return replicas;
}
