/** 
 * An AgentDetail contains information of an Agent that was involved in a conversation.
 */
public static class AgentDetail {
  private final String agentJID;
  private final Date joinTime;
  private final Date leftTime;
  public AgentDetail(  String agentJID,  Date joinTime,  Date leftTime){
    this.agentJID=agentJID;
    this.joinTime=joinTime;
    this.leftTime=leftTime;
  }
  /** 
 * Returns the bare JID of the Agent that was involved in the conversation.
 * @return the bared JID of the Agent that was involved in the conversation.
 */
  public String getAgentJID(){
    return agentJID;
  }
  /** 
 * Returns the Date when the Agent joined the conversation.
 * @return the Date when the Agent joined the conversation.
 */
  public Date getJoinTime(){
    return joinTime;
  }
  /** 
 * Returns the Date when the Agent left the conversation.
 * @return the Date when the Agent left the conversation.
 */
  public Date getLeftTime(){
    return leftTime;
  }
  public String toXML(){
    StringBuilder buf=new StringBuilder();
    buf.append("<agent>");
    if (agentJID != null) {
      buf.append("<agentJID>").append(agentJID).append("</agentJID>");
    }
    if (joinTime != null) {
      buf.append("<joinTime>");
synchronized (UTC_FORMAT) {
        buf.append(UTC_FORMAT.format(joinTime));
      }
      buf.append("</joinTime>");
    }
    if (leftTime != null) {
      buf.append("<leftTime>");
synchronized (UTC_FORMAT) {
        buf.append(UTC_FORMAT.format(leftTime));
      }
      buf.append("</leftTime>");
    }
    buf.append("</agent>");
    return buf.toString();
  }
}
