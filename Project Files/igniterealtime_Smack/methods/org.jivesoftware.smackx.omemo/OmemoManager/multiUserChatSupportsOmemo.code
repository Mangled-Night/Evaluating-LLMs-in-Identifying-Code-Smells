/** 
 * Returns true, if the MUC with the EntityBareJid multiUserChat is non-anonymous and members only (prerequisite for OMEMO encryption in MUC).
 * @param multiUserChat MUC
 * @return true if chat supports OMEMO
 * @throws XMPPException.XMPPErrorException     if there was an XMPP protocol level error
 * @throws SmackException.NotConnectedException if the connection is not connected
 * @throws InterruptedException                 if the thread is interrupted
 * @throws SmackException.NoResponseException   if the server does not respond
 */
public boolean multiUserChatSupportsOmemo(MultiUserChat multiUserChat) throws XMPPException.XMPPErrorException, SmackException.NotConnectedException, InterruptedException, SmackException.NoResponseException {
  EntityBareJid jid=multiUserChat.getRoom();
  RoomInfo roomInfo=MultiUserChatManager.getInstanceFor(connection()).getRoomInfo(jid);
  return roomInfo.isNonanonymous() && roomInfo.isMembersOnly();
}
