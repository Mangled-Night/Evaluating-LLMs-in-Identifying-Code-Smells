@Test public void testAffiliationsExtensionToXml() throws SAXException, IOException {
  BareJid affiliatedJid=JidTestUtil.BARE_JID_1;
  Affiliation affiliation=new Affiliation(affiliatedJid,Affiliation.Type.member);
  List<Affiliation> affiliationsList=new ArrayList<>();
  affiliationsList.add(affiliation);
  AffiliationsExtension affiliationsExtension=new AffiliationsExtension(affiliationsList,"testNode");
  CharSequence xml=affiliationsExtension.toXML(PubSub.NAMESPACE);
  assertXmlSimilar("<affiliations node='testNode'><affiliation xmlns='http://jabber.org/protocol/pubsub#owner' jid='one@exampleone.org' affiliation='member'/></affiliations>",xml);
}
