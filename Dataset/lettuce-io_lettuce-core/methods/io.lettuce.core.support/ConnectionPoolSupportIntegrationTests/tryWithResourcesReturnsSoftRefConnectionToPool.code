@Test void tryWithResourcesReturnsSoftRefConnectionToPool() throws Exception {
  SoftReferenceObjectPool<StatefulRedisConnection<String,String>> pool=ConnectionPoolSupport.createSoftReferenceObjectPool(() -> client.connect());
  StatefulRedisConnection<String,String> usedConnection=null;
  try (StatefulRedisConnection<String,String> connection=pool.borrowObject()){
    RedisCommands<String,String> sync=connection.sync();
    sync.ping();
    usedConnection=connection;
  }
   try {
    usedConnection.isMulti();
    fail("Missing RedisException");
  }
 catch (  RedisException e) {
    assertThat(e).hasMessageContaining("deallocated");
  }
  pool.close();
}
