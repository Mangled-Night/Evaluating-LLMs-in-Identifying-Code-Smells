private CompilationUnitFactory createFactory(String templateName){
  String targetName=templateName.replace("Commands","AsyncCommands");
  File templateFile=new File(Constants.TEMPLATES,"io/lettuce/core/api/" + templateName + ".java");
  String targetPackage;
  if (templateName.contains("RedisSentinel")) {
    targetPackage="io.lettuce.core.sentinel.api.async";
  }
 else {
    targetPackage="io.lettuce.core.api.async";
  }
  CompilationUnitFactory factory=new CompilationUnitFactory(templateFile,Constants.SOURCES,targetPackage,targetName,commentMutator(),methodTypeMutator(),methodDeclaration -> true,importSupplier(),null,Function.identity());
  factory.keepMethodSignaturesFor(KEEP_METHOD_RESULT_TYPE);
  return factory;
}
