private void openConnections(ConnectionTracker tracker,Iterable<RedisURI> redisURIs,long timeout,TimeUnit timeUnit){
  for (  RedisURI redisURI : redisURIs) {
    if (redisURI.getHost() == null || tracker.contains(redisURI) || !isEventLoopActive()) {
      continue;
    }
    try {
      SocketAddress socketAddress=clientResources.socketAddressResolver().resolve(redisURI);
      ConnectionFuture<StatefulRedisConnection<String,String>> connectionFuture=nodeConnectionFactory.connectToNodeAsync(StringCodec.UTF8,socketAddress);
      CompletableFuture<StatefulRedisConnection<String,String>> sync=new CompletableFuture<>();
      Timeout cancelTimeout=clientResources.timer().newTimeout(it -> {
        String message=String.format("Unable to connect to [%s]: Timeout after %s",socketAddress,ExceptionFactory.formatTimeout(Duration.ofNanos(timeUnit.toNanos(timeout))));
        sync.completeExceptionally(new RedisConnectionException(message));
      }
,timeout,timeUnit);
      connectionFuture.whenComplete((connection,throwable) -> {
        cancelTimeout.cancel();
        if (throwable != null) {
          Throwable throwableToUse=Exceptions.unwrap(throwable);
          String message=String.format("Unable to connect to [%s]: %s",socketAddress,throwableToUse.getMessage() != null ? throwableToUse.getMessage() : throwableToUse.toString());
          if (throwableToUse instanceof RedisConnectionException || throwableToUse instanceof IOException) {
            if (logger.isDebugEnabled()) {
              logger.debug(message,throwableToUse);
            }
 else {
              logger.warn(message);
            }
          }
 else {
            logger.warn(message,throwableToUse);
          }
          sync.completeExceptionally(new RedisConnectionException(message,throwableToUse));
        }
 else {
          connection.async().clientSetname("lettuce#ClusterTopologyRefresh");
          if (!sync.complete(connection)) {
            connection.close();
          }
        }
      }
);
      tracker.addConnection(redisURI,sync);
    }
 catch (    RuntimeException e) {
      logger.warn(String.format("Unable to connect to [%s]",redisURI),e);
    }
  }
}
