/** 
 * 测试别名路由
 * @throws Exception
 */
public void testAlias() throws Exception {
  SchemaConfig schema=schemaMap.get("TESTDB");
  RouteResultset rrs=null;
  String sql="update company a set name = '' where a.id = 1;";
  rrs=routeStrategy.route(new SystemConfig(),schema,1,sql,null,null,cachePool);
  Assert.assertEquals(3,rrs.getNodes().length);
  sql="update travelrecord a set name = '' where a.id = 1;";
  rrs=routeStrategy.route(new SystemConfig(),schema,1,sql,null,null,cachePool);
  Assert.assertEquals(1,rrs.getNodes().length);
  sql="select * from travelrecord A where a.id = 1;";
  rrs=routeStrategy.route(new SystemConfig(),schema,1,sql,null,null,cachePool);
  Assert.assertEquals(1,rrs.getNodes().length);
}
