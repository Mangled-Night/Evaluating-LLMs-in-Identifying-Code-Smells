private static <T>ConnectionFuture<T> transformAsyncConnectionException(ConnectionFuture<T> future){
  return future.thenCompose((v,e) -> {
    if (e != null) {
      return Futures.failed(RedisConnectionException.create(future.getRemoteAddress(),e));
    }
    return CompletableFuture.completedFuture(v);
  }
);
}
private static <T>CompletableFuture<T> transformAsyncConnectionException(CompletionStage<T> future,RedisURI target){
  return ConnectionFuture.from(null,future.toCompletableFuture()).thenCompose((v,e) -> {
    if (e != null) {
      return Futures.failed(RedisConnectionException.create(target.toString(),e));
    }
    return CompletableFuture.completedFuture(v);
  }
).toCompletableFuture();
}
