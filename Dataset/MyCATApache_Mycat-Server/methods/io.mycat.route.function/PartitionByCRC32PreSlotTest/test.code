@Test public void test(){
  PartitionByCRC32PreSlot partition=new PartitionByCRC32PreSlot();
  partition.setRuleName("test");
  partition.setTableConfig(genTableConfig(1000));
  partition.reInit();
  Assert.assertEquals(true,521 == partition.calculate("1000316"));
  Assert.assertEquals(true,637 == partition.calculate("2"));
  partition.setTableConfig(genTableConfig(2));
  partition.reInit();
  Assert.assertEquals(true,0 == partition.calculate("1"));
  Assert.assertEquals(true,1 == partition.calculate("2"));
  Assert.assertEquals(true,0 == partition.calculate("3"));
  Assert.assertEquals(true,1 == partition.calculate("4"));
  Assert.assertEquals(true,0 == partition.calculate("5"));
  Assert.assertEquals(true,0 == partition.calculate("6"));
  Assert.assertEquals(true,0 == partition.calculate("7"));
  Assert.assertEquals(true,0 == partition.calculate("8"));
  Assert.assertEquals(true,0 == partition.calculate("9"));
  Assert.assertEquals(true,0 == partition.calculate("9999"));
  Assert.assertEquals(true,1 == partition.calculate("123456789"));
  Assert.assertEquals(true,1 == partition.calculate("35565"));
  partition.setTableConfig(genTableConfig(3));
  partition.reInit();
  Assert.assertEquals(true,1 == partition.calculate("1"));
  Assert.assertEquals(true,1 == partition.calculate("2"));
  Assert.assertEquals(true,0 == partition.calculate("3"));
  Assert.assertEquals(true,2 == partition.calculate("4"));
  Assert.assertEquals(true,0 == partition.calculate("5"));
  Assert.assertEquals(true,1 == partition.calculate("6"));
  Assert.assertEquals(true,1 == partition.calculate("7"));
  Assert.assertEquals(true,0 == partition.calculate("8"));
  Assert.assertEquals(true,0 == partition.calculate("9"));
  Assert.assertEquals(true,0 == partition.calculate("9999"));
  Assert.assertEquals(true,2 == partition.calculate("123456789"));
  Assert.assertEquals(true,2 == partition.calculate("35565"));
}
