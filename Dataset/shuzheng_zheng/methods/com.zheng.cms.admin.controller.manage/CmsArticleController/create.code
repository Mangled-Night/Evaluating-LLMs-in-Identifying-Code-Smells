@ApiOperation(value="新增文章") @RequiresPermissions("cms:article:create") @RequestMapping(value="/create",method=RequestMethod.GET) public String create(ModelMap modelMap){
  CmsTopicExample cmsTopicExample=new CmsTopicExample();
  cmsTopicExample.setOrderByClause("ctime desc");
  List<CmsTopic> cmsTopics=cmsTopicService.selectByExample(cmsTopicExample);
  modelMap.put("cmsTopics",cmsTopics);
  return "/manage/article/create.jsp";
}
@ApiOperation(value="新增文章") @RequiresPermissions("cms:article:create") @RequestMapping(value="/create",method=RequestMethod.POST) @ResponseBody public Object create(CmsArticle cmsArticle){
  ComplexResult result=FluentValidator.checkAll().on(cmsArticle.getTitle(),new LengthValidator(1,200,"标题")).doValidate().result(ResultCollectors.toComplex());
  if (!result.isSuccess()) {
    return new CmsResult(CmsResultConstant.INVALID_LENGTH,result.getErrors());
  }
  long time=System.currentTimeMillis();
  cmsArticle.setCtime(time);
  cmsArticle.setOrders(time);
  cmsArticle.setReadnumber(0);
  int count=cmsArticleService.insertSelective(cmsArticle);
  return new CmsResult(CmsResultConstant.SUCCESS,count);
}
