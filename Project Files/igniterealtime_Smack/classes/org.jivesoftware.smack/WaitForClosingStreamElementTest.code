public class WaitForClosingStreamElementTest extends AbstractSmackLowLevelIntegrationTest {
  public WaitForClosingStreamElementTest(  SmackIntegrationTestEnvironment environment){
    super(environment);
  }
  @SmackIntegrationTest public void waitForClosingStreamElementTest(  AbstractXMPPConnection connection) throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException {
    connection.disconnect();
    Field closingStreamReceivedField=AbstractXMPPConnection.class.getDeclaredField("closingStreamReceived");
    closingStreamReceivedField.setAccessible(true);
    boolean closingStreamReceived=(boolean)closingStreamReceivedField.get(connection);
    assertTrue(closingStreamReceived);
  }
}
