@Test void containsAllUsesReadView(){
  Partitions partitions=new Partitions();
  partitions.getPartitions().add(node1);
  assertThat(partitions.containsAll(Arrays.asList(node1))).isFalse();
  partitions.updateCache();
  assertThat(partitions.containsAll(Arrays.asList(node1))).isTrue();
}
