/** 
 * Implements a JingleMediaManager for ScreenSharing. It currently uses an Audio payload Type. Which needs to be fixed in the next version.
 * @author Thiago Camargo
 */
@SuppressWarnings("UnusedVariable") public class ScreenShareMediaManager extends JingleMediaManager {
  public static final String MEDIA_NAME="ScreenShare";
  private List<PayloadType> payloads=new ArrayList<>();
  private ImageDecoder decoder=null;
  private ImageEncoder encoder=null;
  public ScreenShareMediaManager(  JingleTransportManager transportManager){
    super(transportManager);
    setupPayloads();
  }
  /** 
 * Setup API supported Payloads
 */
  private void setupPayloads(){
    payloads.add(new PayloadType.Audio(30,"sshare"));
  }
  /** 
 * Return all supported Payloads for this Manager.
 * @return The Payload List
 */
  @Override public List<PayloadType> getPayloads(){
    return payloads;
  }
  /** 
 * Returns a new JingleMediaSession.
 * @param payloadType payloadType
 * @param remote      remote Candidate
 * @param local       local Candidate
 * @return JingleMediaSession JingleMediaSession
 */
  @Override public JingleMediaSession createMediaSession(  PayloadType payloadType,  final TransportCandidate remote,  final TransportCandidate local,  final JingleSession jingleSession){
    ScreenShareSession session=null;
    session=new ScreenShareSession(payloadType,remote,local,"Screen",jingleSession);
    if (encoder != null) {
      session.setEncoder(encoder);
    }
    if (decoder != null) {
      session.setDecoder(decoder);
    }
    return session;
  }
  @Override public PayloadType getPreferredPayloadType(){
    return super.getPreferredPayloadType();
  }
  public ImageDecoder getDecoder(){
    return decoder;
  }
  public void setDecoder(  ImageDecoder decoder){
    this.decoder=decoder;
  }
  public ImageEncoder getEncoder(){
    return encoder;
  }
  public void setEncoder(  ImageEncoder encoder){
    this.encoder=encoder;
  }
  @Override public String getName(){
    return MEDIA_NAME;
  }
}
