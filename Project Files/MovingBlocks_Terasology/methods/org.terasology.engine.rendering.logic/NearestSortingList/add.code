/** 
 * Add an Entity with a LocationComponent to this container. Note that it will be inserted, rather than appended. So until a new sorting pass has been made, this new entity is returned whenever entities are requested from this container.
 * @param e The entity to add. Must have a LocationComponent or anIllegalArgumentException is thrown.
 */
public synchronized void add(EntityRef e){
  if (e.getComponent(LocationComponent.class) == null) {
    logger.warn("Adding entity without LocationComponent to container that sorts on location. Entity: {}",e);
    throw new IllegalArgumentException("Entity has no LocationComponent");
  }
  entities.add(0,e);
  if (sorting) {
    commands.add(new AddCommand(e));
  }
}
