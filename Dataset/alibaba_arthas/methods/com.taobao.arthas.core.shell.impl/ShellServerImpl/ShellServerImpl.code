public ShellServerImpl(ShellServerOptions options){
  this.welcomeMessage=options.getWelcomeMessage();
  this.termServers=new ArrayList<TermServer>();
  this.timeoutMillis=options.getSessionTimeout();
  this.sessions=new ConcurrentHashMap<String,ShellImpl>();
  this.reaperInterval=options.getReaperInterval();
  this.resolvers=new CopyOnWriteArrayList<CommandResolver>();
  this.commandManager=new InternalCommandManager(resolvers);
  this.instrumentation=options.getInstrumentation();
  this.pid=options.getPid();
  resolvers.add(new BuiltinCommandResolver());
}
