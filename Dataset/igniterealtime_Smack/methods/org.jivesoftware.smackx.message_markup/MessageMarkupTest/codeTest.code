@Test public void codeTest() throws Exception {
  String xml="<markup xmlns='urn:xmpp:markup:0'>" + "<span start='9' end='15'>" + "<code/>"+ "</span>"+ "</markup>";
  MarkupElement.Builder m=MarkupElement.getBuilder();
  m.setCode(9,15);
  assertXmlSimilar(xml,m.build().toXML().toString());
  XmlPullParser parser=TestUtils.getParser(xml);
  MarkupElement parsed=new MarkupElementProvider().parse(parser);
  List<MarkupElement.MarkupChildElement> children=parsed.getChildElements();
  assertEquals(1,children.size());
  SpanElement spanElement=(SpanElement)children.get(0);
  assertEquals(9,spanElement.getStart());
  assertEquals(15,spanElement.getEnd());
  assertEquals(1,spanElement.getStyles().size());
  assertEquals(SpanElement.SpanStyle.code,spanElement.getStyles().iterator().next());
}
