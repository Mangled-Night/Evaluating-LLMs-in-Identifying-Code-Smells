/** 
 * Set the navigation bar's visibility.
 * @param activity  The activity.
 * @param isVisible True to set navigation bar visible, false otherwise.
 */
public static void setNavBarVisibility(@NonNull final Activity activity,boolean isVisible){
  if (Build.VERSION.SDK_INT < Build.VERSION_CODES.KITKAT)   return;
  setNavBarVisibility(activity.getWindow(),isVisible);
}
/** 
 * Set the navigation bar's visibility.
 * @param window    The window.
 * @param isVisible True to set navigation bar visible, false otherwise.
 */
public static void setNavBarVisibility(@NonNull final Window window,boolean isVisible){
  if (Build.VERSION.SDK_INT < Build.VERSION_CODES.KITKAT)   return;
  final ViewGroup decorView=(ViewGroup)window.getDecorView();
  for (int i=0, count=decorView.getChildCount(); i < count; i++) {
    final View child=decorView.getChildAt(i);
    final int id=child.getId();
    if (id != View.NO_ID) {
      String resourceEntryName=getResNameById(id);
      if ("navigationBarBackground".equals(resourceEntryName)) {
        child.setVisibility(isVisible ? View.VISIBLE : View.INVISIBLE);
      }
    }
  }
  final int uiOptions=View.SYSTEM_UI_FLAG_HIDE_NAVIGATION | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY;
  if (isVisible) {
    decorView.setSystemUiVisibility(decorView.getSystemUiVisibility() & ~uiOptions);
  }
 else {
    decorView.setSystemUiVisibility(decorView.getSystemUiVisibility() | uiOptions);
  }
}
