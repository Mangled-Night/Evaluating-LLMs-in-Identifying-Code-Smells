@Override public void onActivityStopped(Activity activity){
  if (activity.isChangingConfigurations()) {
    --mConfigCount;
  }
 else {
    --mForegroundCount;
    if (mForegroundCount <= 0) {
      mIsBackground=true;
      postStatus(activity,false);
    }
  }
  processHideSoftInputOnActivityDestroy(activity,true);
  consumeActivityLifecycleCallbacks(activity,Lifecycle.Event.ON_STOP);
}
