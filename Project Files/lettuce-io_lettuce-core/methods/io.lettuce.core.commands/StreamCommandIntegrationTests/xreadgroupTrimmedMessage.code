@Test void xreadgroupTrimmedMessage(){
  for (int i=0; i < 10; i++) {
    redis.xadd(key,Collections.singletonMap("key","value1"));
  }
  redis.xgroupCreate(StreamOffset.from(key,"0-0"),"del-group",XGroupCreateArgs.Builder.mkstream());
  redis.xreadgroup(Consumer.from("del-group","consumer1"),XReadArgs.Builder.count(10),StreamOffset.lastConsumed(key));
  redis.xtrim(key,1);
  List<StreamMessage<String,String>> messages=redis.xreadgroup(Consumer.from("del-group","consumer1"),XReadArgs.Builder.count(10),StreamOffset.from(key,"0-0"));
  assertThat(messages).hasSize(10);
}
