@Override public <T extends WorldFacet>T getFacet(Class<T> dataType){
  T facet=generatedFacets.getInstance(dataType);
  if (facet == null) {
    for (    FacetProvider provider : facetProviderChains.get(dataType)) {
      if (!processedProviders.contains(provider)) {
        if (scale == 1) {
          provider.process(this);
        }
 else {
          ((ScalableFacetProvider)provider).process(this,scale);
        }
        processedProviders.add(provider);
      }
    }
    facet=generatingFacets.getInstance(dataType);
    generatedFacets.put(dataType,facet);
  }
  return facet;
}
