private static void throwIfPubSubNotSupported(XMPPConnection connection) throws XMPPException.XMPPErrorException, SmackException.NotConnectedException, InterruptedException, SmackException.NoResponseException, TestNotPossibleException {
  if (!PepManager.getInstanceFor(connection).isSupported()) {
    throw new TestNotPossibleException("Server " + connection.getXMPPServiceDomain().toString() + " does not support PEP.");
  }
}
