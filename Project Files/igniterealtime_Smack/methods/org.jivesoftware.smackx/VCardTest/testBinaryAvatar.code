public void testBinaryAvatar() throws Throwable {
  VCard card=new VCard();
  card.setAvatar(getAvatarBinary());
  card.save(getConnection(0));
  VCard loaded=new VCard();
  try {
    loaded.load(getConnection(0));
  }
 catch (  XMPPException e) {
    e.printStackTrace();
    fail(e.getMessage());
  }
  byte[] initialAvatar=card.getAvatar();
  byte[] loadedAvatar=loaded.getAvatar();
  assertEquals("Should load own Avatar successfully",initialAvatar,loadedAvatar);
  loaded=new VCard();
  try {
    loaded.load(getConnection(1),getBareJID(0));
  }
 catch (  XMPPException e) {
    e.printStackTrace();
    fail(e.getMessage());
  }
  assertEquals("Should load avatar successfully",card.getAvatar(),loaded.getAvatar());
}
