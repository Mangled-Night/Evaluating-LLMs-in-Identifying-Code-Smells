/** 
 * Low level API test. This is a simple test to use with an XMPP client and check if the client receives the message 1. User_1 will send his/her roster entries to user_2
 */
public void testSendRosterEntries(){
  Chat chat1=getConnection(0).getChatManager().createChat(getBareJID(1),null);
  Message msg=new Message();
  msg.setSubject("Any subject you want");
  msg.setBody("This message contains roster items.");
  assertTrue("Roster has no entries",getConnection(0).getRoster().getEntryCount() > 0);
  RosterExchange rosterExchange=new RosterExchange(getConnection(0).getRoster());
  msg.addExtension(rosterExchange);
  try {
    chat1.sendMessage(msg);
  }
 catch (  Exception e) {
    fail("An error occurred sending the message with the roster");
  }
}
