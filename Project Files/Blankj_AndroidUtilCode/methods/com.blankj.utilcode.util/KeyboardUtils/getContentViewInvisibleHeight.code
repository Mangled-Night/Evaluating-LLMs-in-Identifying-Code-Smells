private static int getContentViewInvisibleHeight(final Window window){
  final View contentView=window.findViewById(android.R.id.content);
  if (contentView == null) {
    return 0;
  }
  final Rect outRect=new Rect();
  contentView.getWindowVisibleDisplayFrame(outRect);
  Log.d("KeyboardUtils","getContentViewInvisibleHeight: " + (contentView.getBottom() - outRect.bottom));
  int delta=Math.abs(contentView.getBottom() - outRect.bottom);
  if (delta <= UtilsBridge.getStatusBarHeight() + UtilsBridge.getNavBarHeight()) {
    return 0;
  }
  return delta;
}
