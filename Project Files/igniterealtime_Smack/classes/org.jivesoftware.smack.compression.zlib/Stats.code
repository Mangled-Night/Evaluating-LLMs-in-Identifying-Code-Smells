public static final class Stats {
  public final long compressorInBytes;
  public final long compressorOutBytes;
  public final double compressionRatio;
  public final long decompressorInBytes;
  public final long decompressorOutBytes;
  public final double decompressionRatio;
  public final int maxOutputOutput;
  public final int maxInputOutput;
  public final int maxBytesWrittenAfterFullFlush;
  private Stats(  ZlibXmppInputOutputFilter filter){
    compressorOutBytes=filter.compressorOutBytes;
    compressorInBytes=filter.compressorInBytes;
    compressionRatio=(double)compressorOutBytes / compressorInBytes;
    decompressorOutBytes=filter.decompressorOutBytes;
    decompressorInBytes=filter.decompressorInBytes;
    decompressionRatio=(double)decompressorInBytes / decompressorOutBytes;
    maxOutputOutput=filter.maxOutputOutput;
    maxInputOutput=filter.maxInputOutput;
    maxBytesWrittenAfterFullFlush=filter.maxBytesWrittenAfterFullFlush;
  }
  private transient String toStringCache;
  @Override public String toString(){
    if (toStringCache != null) {
      return toStringCache;
    }
    toStringCache="compressor-in-bytes: " + compressorInBytes + '\n'+ "compressor-out-bytes: "+ compressorOutBytes+ '\n'+ "compression-ratio: "+ compressionRatio+ '\n'+ "decompressor-in-bytes: "+ decompressorInBytes+ '\n'+ "decompressor-out-bytes: "+ decompressorOutBytes+ '\n'+ "decompression-ratio: "+ decompressionRatio+ '\n'+ "max-output-output: "+ maxOutputOutput+ '\n'+ "max-input-output: "+ maxInputOutput+ '\n'+ "max-bytes-written-after-full-flush: "+ maxBytesWrittenAfterFullFlush+ '\n';
    return toStringCache;
  }
}
