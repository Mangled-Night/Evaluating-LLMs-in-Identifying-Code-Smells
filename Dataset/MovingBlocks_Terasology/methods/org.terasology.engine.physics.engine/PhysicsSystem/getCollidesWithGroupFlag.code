private short getCollidesWithGroupFlag(EntityRef entity){
  List<CollisionGroup> collidesWithGroup=Lists.<CollisionGroup>newArrayList(StandardCollisionGroup.NONE);
  if (entity.hasComponent(TriggerComponent.class)) {
    TriggerComponent entityTrigger=entity.getComponent(TriggerComponent.class);
    collidesWithGroup=entityTrigger.detectGroups;
  }
 else   if (entity.hasComponent(RigidBodyComponent.class)) {
    RigidBodyComponent entityRigidBody=entity.getComponent(RigidBodyComponent.class);
    collidesWithGroup=entityRigidBody.collidesWith;
  }
  short flag=0;
  Iterator<CollisionGroup> iter=collidesWithGroup.iterator();
  while (iter.hasNext()) {
    CollisionGroup group=iter.next();
    flag|=group.getFlag();
  }
  return flag;
}
