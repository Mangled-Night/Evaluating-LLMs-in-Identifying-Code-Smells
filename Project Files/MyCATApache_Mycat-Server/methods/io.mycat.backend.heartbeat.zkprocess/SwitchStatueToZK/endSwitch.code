public static boolean endSwitch(String dataHost){
  String path=ZKUtils.getZKBasePath() + "heartbeat/" + dataHost+ "/";
  String changingResultPath=path + "changingStatue";
  Map<String,String> propertyMap=new HashMap<>();
  String myId=ZkConfig.getInstance().getValue(ZkParamCfg.ZK_CFG_MYID);
  propertyMap.put(myId + "_changing_statue","switching success");
  propertyMap.put(myId + "_endTime",new Date().toString());
  try {
    try {
      changingStatueLock.acquire(30000,TimeUnit.MILLISECONDS);
      ZKUtils.writeProperty(changingResultPath,propertyMap);
    }
  finally {
      changingStatueLock.release();
    }
    return true;
  }
 catch (  Exception e) {
    LOGGER.error(dataHost + " endSwitch err ",e);
    return false;
  }
}
