public void testSubscribeConfigRequired() throws Exception {
  ConfigureForm form=new ConfigureForm(FormType.submit);
  form.setAccessModel(AccessModel.open);
  FormField required=new FormField("pubsub#subscription_required");
  required.setType(FormField.TYPE_BOOLEAN);
  form.addField(required);
  form.setAnswer("pubsub#subscription_required",true);
  LeafNode node=(LeafNode)getManager().createNode("Pubnode" + System.currentTimeMillis(),form);
  Subscription sub=node.subscribe(getJid());
  assertEquals(getJid(),sub.getJid());
  assertNotNull(sub.getId());
  assertEquals(node.getId(),sub.getNode());
  assertEquals(true,sub.isConfigRequired());
}
