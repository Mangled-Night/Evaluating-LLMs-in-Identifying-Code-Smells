/** 
 * response method.
 * @param c
 */
public static void response(ServerConnection c){
  int i=0;
  byte packetId=0;
  header.packetId=++packetId;
  fields[i]=PacketUtil.getField("State",Fields.FIELD_TYPE_VAR_STRING);
  fields[i].packetId=++packetId;
  fields[i + 1]=PacketUtil.getField("Duration",Fields.FIELD_TYPE_DECIMAL);
  fields[i + 1].packetId=++packetId;
  fields[i + 2]=PacketUtil.getField("Percentage",Fields.FIELD_TYPE_DECIMAL);
  fields[i + 2].packetId=++packetId;
  eof.packetId=++packetId;
  ByteBuffer buffer=c.allocate();
  buffer=header.write(buffer,c,true);
  for (  FieldPacket field : fields) {
    buffer=field.write(buffer,c,true);
  }
  buffer=eof.write(buffer,c,true);
  packetId=eof.packetId;
  EOFPacket lastEof=new EOFPacket();
  lastEof.packetId=++packetId;
  buffer=lastEof.write(buffer,c,true);
  c.write(buffer);
}
