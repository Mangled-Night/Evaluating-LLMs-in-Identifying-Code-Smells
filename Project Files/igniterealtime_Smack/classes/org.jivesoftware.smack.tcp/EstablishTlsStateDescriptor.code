static final class EstablishTlsStateDescriptor extends StateDescriptor {
  private EstablishTlsStateDescriptor(){
    super(XmppTcpTransportModule.EstablishTlsState.class,"RFC 6120 ยง 5");
    addSuccessor(ConnectedButUnauthenticatedStateDescriptor.class);
    declarePrecedenceOver(ConnectedButUnauthenticatedStateDescriptor.class);
  }
  @Override protected EstablishTlsState constructState(  ModularXmppClientToServerConnectionInternal connectionInternal){
    XmppTcpTransportModule tcpTransportModule=connectionInternal.connection.getConnectionModuleFor(XmppTcpTransportModuleDescriptor.class);
    return tcpTransportModule.constructEstablishingTlsState(this,connectionInternal);
  }
}
