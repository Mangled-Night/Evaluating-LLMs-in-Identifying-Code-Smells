/** 
 * Pre-approve user presence subscription.
 * @param user the user. (e.g. johndoe@jabber.org)
 * @throws NotLoggedInException if not logged in.
 * @throws NotConnectedException if the XMPP connection is not connected.
 * @throws InterruptedException if the calling thread was interrupted.
 * @throws FeatureNotSupportedException if pre-approving is not supported.
 * @since 4.2
 */
public void preApprove(BareJid user) throws NotLoggedInException, NotConnectedException, InterruptedException, FeatureNotSupportedException {
  final XMPPConnection connection=connection();
  if (!isSubscriptionPreApprovalSupported()) {
    throw new FeatureNotSupportedException("Pre-approving");
  }
  Presence presencePacket=connection.getStanzaFactory().buildPresenceStanza().ofType(Presence.Type.subscribed).to(user).build();
  connection.sendStanza(presencePacket);
}
