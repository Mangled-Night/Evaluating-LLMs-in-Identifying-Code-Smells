public void waitUntilInvocationOrTimeout(){
  try {
    boolean res=latch.await(300,TimeUnit.SECONDS);
    if (!res) {
      throw new IllegalStateException("Latch timed out before it reached zero");
    }
  }
 catch (  InterruptedException e) {
    throw new IllegalStateException(e);
  }
}
