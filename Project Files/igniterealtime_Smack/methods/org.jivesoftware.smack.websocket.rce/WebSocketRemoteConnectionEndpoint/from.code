public static WebSocketRemoteConnectionEndpoint from(CharSequence uriCharSequence) throws URISyntaxException {
  String uriString=uriCharSequence.toString();
  URI uri=URI.create(uriString);
  return from(uri);
}
public static WebSocketRemoteConnectionEndpoint from(URI uri){
  String scheme=uri.getScheme();
switch (scheme) {
case INSECURE_WEB_SOCKET_SCHEME:
    return new InsecureWebSocketRemoteConnectionEndpoint(uri);
case SECURE_WEB_SOCKET_SCHEME:
  return new SecureWebSocketRemoteConnectionEndpoint(uri);
default :
throw new IllegalArgumentException("Only allowed protocols are " + INSECURE_WEB_SOCKET_SCHEME + " and "+ SECURE_WEB_SOCKET_SCHEME);
}
}
