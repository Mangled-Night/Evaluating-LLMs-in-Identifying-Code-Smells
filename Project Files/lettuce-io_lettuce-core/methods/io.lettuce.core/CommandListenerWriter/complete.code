@Override public void complete(){
  super.complete();
  if (getOutput().hasError()) {
    CommandFailedEvent failedEvent=new CommandFailedEvent((RedisCommand<Object,Object,Object>)command,context,ExceptionFactory.createExecutionException(getOutput().getError()));
    listener.commandFailed(failedEvent);
  }
 else {
    long now=clock.millis();
    CommandSucceededEvent succeededEvent=new CommandSucceededEvent((RedisCommand<Object,Object,Object>)command,context,startedAt,now);
    listener.commandSucceeded(succeededEvent);
  }
}
