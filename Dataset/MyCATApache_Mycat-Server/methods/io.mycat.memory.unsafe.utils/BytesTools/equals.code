/** 
 * @param left left operand
 * @param right right operand
 * @return True if equal
 */
public static boolean equals(final byte[] left,final byte[] right){
  if (left == right)   return true;
  if (left == null || right == null)   return false;
  if (left.length != right.length)   return false;
  if (left.length == 0)   return true;
  if (left[left.length - 1] != right[right.length - 1])   return false;
  return compareTo(left,right) == 0;
}
public static boolean equals(final byte[] left,int leftOffset,int leftLen,final byte[] right,int rightOffset,int rightLen){
  if (left == right && leftOffset == rightOffset && leftLen == rightLen) {
    return true;
  }
  if (leftLen != rightLen) {
    return false;
  }
  if (leftLen == 0) {
    return true;
  }
  if (left[leftOffset + leftLen - 1] != right[rightOffset + rightLen - 1])   return false;
  return LexicographicalComparerHolder.BEST_COMPARER.compareTo(left,leftOffset,leftLen,right,rightOffset,rightLen) == 0;
}
/** 
 * @param a left operand
 * @param buf right operand
 * @return True if equal
 */
public static boolean equals(byte[] a,ByteBuffer buf){
  if (a == null)   return buf == null;
  if (buf == null)   return false;
  if (a.length != buf.remaining())   return false;
  ByteBuffer b=buf.duplicate();
  for (  byte anA : a) {
    if (anA != b.get()) {
      return false;
    }
  }
  return true;
}
