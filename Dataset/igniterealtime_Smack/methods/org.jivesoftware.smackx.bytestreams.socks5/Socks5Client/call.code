@Override public Socket call() throws IOException, SmackMessageException {
  Socket socket=new Socket();
  SocketAddress socketAddress=new InetSocketAddress(streamHost.getAddress().asInetAddress(),streamHost.getPort());
  socket.connect(socketAddress);
  try {
    establish(socket);
  }
 catch (  SmackMessageException e) {
    if (!socket.isClosed()) {
      CloseableUtil.maybeClose(socket,LOGGER);
    }
    throw e;
  }
  return socket;
}
