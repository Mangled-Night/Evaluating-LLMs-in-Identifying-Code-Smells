/** 
 * Return the gray bitmap.
 * @param src The source of bitmap.
 * @return the gray bitmap
 */
public static Bitmap toGray(final Bitmap src){
  return toGray(src,false);
}
/** 
 * Return the gray bitmap.
 * @param src     The source of bitmap.
 * @param recycle True to recycle the source of bitmap, false otherwise.
 * @return the gray bitmap
 */
public static Bitmap toGray(final Bitmap src,final boolean recycle){
  if (isEmptyBitmap(src))   return null;
  Bitmap ret=Bitmap.createBitmap(src.getWidth(),src.getHeight(),src.getConfig());
  Canvas canvas=new Canvas(ret);
  Paint paint=new Paint();
  ColorMatrix colorMatrix=new ColorMatrix();
  colorMatrix.setSaturation(0);
  ColorMatrixColorFilter colorMatrixColorFilter=new ColorMatrixColorFilter(colorMatrix);
  paint.setColorFilter(colorMatrixColorFilter);
  canvas.drawBitmap(src,0,0,paint);
  if (recycle && !src.isRecycled() && ret != src)   src.recycle();
  return ret;
}
