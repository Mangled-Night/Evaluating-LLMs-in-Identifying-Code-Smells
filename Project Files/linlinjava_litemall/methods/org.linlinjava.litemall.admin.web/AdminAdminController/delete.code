@RequiresPermissions("admin:admin:delete") @RequiresPermissionsDesc(menu={"系统管理","管理员管理"},button="删除") @PostMapping("/delete") public Object delete(@RequestBody LitemallAdmin admin){
  Integer anotherAdminId=admin.getId();
  if (anotherAdminId == null) {
    return ResponseUtil.badArgument();
  }
  Subject currentUser=SecurityUtils.getSubject();
  LitemallAdmin currentAdmin=(LitemallAdmin)currentUser.getPrincipal();
  if (currentAdmin.getId().equals(anotherAdminId)) {
    return ResponseUtil.fail(ADMIN_DELETE_NOT_ALLOWED,"管理员不能删除自己账号");
  }
  adminService.deleteById(anotherAdminId);
  logHelper.logAuthSucceed("删除管理员",admin.getUsername());
  return ResponseUtil.ok();
}
