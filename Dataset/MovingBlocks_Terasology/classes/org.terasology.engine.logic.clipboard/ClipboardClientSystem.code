@RegisterSystem(RegisterMode.CLIENT) @Share(ClipboardManager.class) public class ClipboardClientSystem extends BaseComponentSystem implements ClipboardManager {
  @Override public String getClipboardContentsAsString(){
    return AccessController.doPrivileged((PrivilegedAction<String>)() -> {
      Transferable t=Toolkit.getDefaultToolkit().getSystemClipboard().getContents(null);
      try {
        if (t != null) {
          return (String)t.getTransferData(DataFlavor.stringFlavor);
        }
      }
 catch (      UnsupportedFlavorException|IOException e) {
        return null;
      }
      return null;
    }
);
  }
  @Override public boolean setClipboardContents(  String value){
    return AccessController.doPrivileged((PrivilegedAction<Boolean>)() -> {
      Clipboard clipboard=Toolkit.getDefaultToolkit().getSystemClipboard();
      try {
        clipboard.setContents(new StringSelection(value),null);
      }
 catch (      IllegalStateException exp) {
        return false;
      }
      return true;
    }
);
  }
}
