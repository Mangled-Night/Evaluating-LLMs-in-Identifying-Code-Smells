public static void execute(ManagerConnection c,int numLines){
  ByteBuffer buffer=c.allocate();
  buffer=header.write(buffer,c,true);
  for (  FieldPacket field : fields) {
    buffer=field.write(buffer,c,true);
  }
  buffer=eof.write(buffer,c,true);
  byte packetId=eof.packetId;
  String filename=SystemConfig.getHomePath() + File.separator + "logs"+ File.separator+ "mycat.log";
  String[] lines=getLinesByLogFile(filename,numLines);
  boolean linesIsEmpty=true;
  for (int i=0; i < lines.length; i++) {
    String line=lines[i];
    if (line != null) {
      RowDataPacket row=new RowDataPacket(FIELD_COUNT);
      row.add(StringUtil.encode(line.substring(0,19),c.getCharset()));
      row.add(StringUtil.encode(line.substring(19,line.length()),c.getCharset()));
      row.packetId=++packetId;
      buffer=row.write(buffer,c,true);
      linesIsEmpty=false;
    }
  }
  if (linesIsEmpty) {
    RowDataPacket row=new RowDataPacket(FIELD_COUNT);
    row.add(StringUtil.encode("NULL",c.getCharset()));
    row.add(StringUtil.encode("NULL",c.getCharset()));
    row.packetId=++packetId;
    buffer=row.write(buffer,c,true);
  }
  EOFPacket lastEof=new EOFPacket();
  lastEof.packetId=++packetId;
  buffer=lastEof.write(buffer,c,true);
  c.write(buffer);
}
