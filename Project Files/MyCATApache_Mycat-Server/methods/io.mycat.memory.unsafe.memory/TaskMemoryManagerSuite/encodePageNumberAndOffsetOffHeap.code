@Test public void encodePageNumberAndOffsetOffHeap(){
  final MycatPropertyConf conf=new MycatPropertyConf().set("mycat.memory.offHeap.enabled","true").set("mycat.memory.offHeap.size","1000");
  final DataNodeMemoryManager manager=new DataNodeMemoryManager(new TestMemoryManager(conf),0);
  final MemoryBlock dataPage=manager.allocatePage(256,null);
  final long offset=((1L << DataNodeMemoryManager.OFFSET_BITS) + 10);
  final long encodedAddress=manager.encodePageNumberAndOffset(dataPage,offset);
  Assert.assertEquals(null,manager.getPage(encodedAddress));
  Assert.assertEquals(offset,manager.getOffsetInPage(encodedAddress));
}
