static class TestCommandListener implements CommandListener {
  final List<CommandStartedEvent> started=new ArrayList<>();
  final List<CommandSucceededEvent> succeeded=new ArrayList<>();
  final List<CommandFailedEvent> failed=new ArrayList<>();
  @Override public void commandStarted(  CommandStartedEvent event){
synchronized (started) {
      started.add(event);
    }
  }
  @Override public void commandSucceeded(  CommandSucceededEvent event){
synchronized (succeeded) {
      succeeded.add(event);
    }
  }
  @Override public void commandFailed(  CommandFailedEvent event){
synchronized (failed) {
      failed.add(event);
    }
  }
}
