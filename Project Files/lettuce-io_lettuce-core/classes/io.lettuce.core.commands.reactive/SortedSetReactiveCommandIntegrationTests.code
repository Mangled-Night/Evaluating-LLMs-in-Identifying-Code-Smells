/** 
 * Integration tests for Sorted Sets via  {@link io.lettuce.core.api.reactive.RedisReactiveCommands}.
 * @author Mark Paluch
 */
class SortedSetReactiveCommandIntegrationTests extends SortedSetCommandIntegrationTests {
  private final RedisReactiveCommands<String,String> reactive;
  private final StatefulRedisConnection<String,String> connection;
  @Inject SortedSetReactiveCommandIntegrationTests(  StatefulRedisConnection<String,String> connection){
    super(ReactiveSyncInvocationHandler.sync(connection));
    this.reactive=connection.reactive();
    this.connection=connection;
  }
  @Test @EnabledOnCommand("ZMSCORE") public void zmscore(){
    connection.sync().zadd("zset1",1.0,"a",2.0,"b");
    reactive.zmscore("zset1","a","c","b").as(StepVerifier::create).assertNext(actual -> {
      assertThat(actual).isEqualTo(list(1.0,null,2.0));
    }
).verifyComplete();
  }
}
