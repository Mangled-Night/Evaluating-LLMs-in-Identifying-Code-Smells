private static class ReceiverEventHandlerInfo<T extends Event> implements EventHandlerInfo {
  private EventReceiver<T> receiver;
  private Class<? extends Component>[] components;
  private int priority;
  ReceiverEventHandlerInfo(  EventReceiver<T> receiver,  int priority,  Class<? extends Component>... components){
    this.receiver=receiver;
    this.priority=priority;
    this.components=Arrays.copyOf(components,components.length);
  }
  @Override public boolean isValidFor(  EntityRef entity){
    for (    Class<? extends Component> component : components) {
      if (!entity.hasComponent(component)) {
        return false;
      }
    }
    return true;
  }
  @Override public void invoke(  EntityRef entity,  Event event){
    receiver.onEvent((T)event,entity);
  }
  @Override public int getPriority(){
    return priority;
  }
  @Override public boolean equals(  Object obj){
    if (obj == this) {
      return true;
    }
    if (obj instanceof ReceiverEventHandlerInfo) {
      ReceiverEventHandlerInfo other=(ReceiverEventHandlerInfo)obj;
      if (Objects.equal(receiver,other.receiver)) {
        return true;
      }
    }
    return false;
  }
  @Override public int hashCode(){
    return Objects.hashCode(receiver);
  }
  @Override public Object getHandler(){
    return receiver;
  }
}
