/** 
 * Initialize a new instance that handles commands from the supplied queue.
 * @param clientOptions client options for this connection, must not be {@code null}
 * @param clientResources client resources for this connection, must not be {@code null}
 * @param endpoint must not be {@code null}.
 */
public CommandHandler(ClientOptions clientOptions,ClientResources clientResources,Endpoint endpoint){
  LettuceAssert.notNull(clientOptions,"ClientOptions must not be null");
  LettuceAssert.notNull(clientResources,"ClientResources must not be null");
  LettuceAssert.notNull(endpoint,"RedisEndpoint must not be null");
  this.clientOptions=clientOptions;
  this.clientResources=clientResources;
  this.endpoint=endpoint;
  this.commandLatencyRecorder=clientResources.commandLatencyRecorder();
  this.latencyMetricsEnabled=commandLatencyRecorder.isEnabled();
  this.boundedQueues=clientOptions.getRequestQueueSize() != Integer.MAX_VALUE;
  Tracing tracing=clientResources.tracing();
  this.tracingEnabled=tracing.isEnabled();
  this.decodeBufferPolicy=clientOptions.getDecodeBufferPolicy();
}
