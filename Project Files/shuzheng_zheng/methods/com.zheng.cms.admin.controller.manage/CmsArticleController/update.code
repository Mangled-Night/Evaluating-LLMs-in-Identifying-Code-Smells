@ApiOperation(value="修改文章") @RequiresPermissions("cms:article:update") @RequestMapping(value="/update/{id}",method=RequestMethod.GET) public String update(@PathVariable("id") int id,ModelMap modelMap){
  CmsTopicExample cmsTopicExample=new CmsTopicExample();
  cmsTopicExample.setOrderByClause("ctime desc");
  List<CmsTopic> cmsTopics=cmsTopicService.selectByExample(cmsTopicExample);
  CmsArticle article=cmsArticleService.selectByPrimaryKey(id);
  modelMap.put("cmsTopics",cmsTopics);
  modelMap.put("article",article);
  return "/manage/article/update.jsp";
}
@ApiOperation(value="修改文章") @RequiresPermissions("cms:article:update") @RequestMapping(value="/update/{id}",method=RequestMethod.POST) @ResponseBody public Object update(@PathVariable("id") int id,CmsArticle cmsArticle){
  ComplexResult result=FluentValidator.checkAll().on(cmsArticle.getTitle(),new LengthValidator(1,200,"标题")).doValidate().result(ResultCollectors.toComplex());
  if (!result.isSuccess()) {
    return new CmsResult(CmsResultConstant.INVALID_LENGTH,result.getErrors());
  }
  cmsArticle.setArticleId(id);
  int count=cmsArticleService.updateByPrimaryKeySelective(cmsArticle);
  return new CmsResult(CmsResultConstant.SUCCESS,count);
}
