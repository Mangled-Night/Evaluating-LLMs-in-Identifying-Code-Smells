@SuppressWarnings("unchecked") private <T>T[] toArray(Collection<T> c){
  Class<T> cls=(Class<T>)c.iterator().next().getClass();
  T[] array=(T[])Array.newInstance(cls,c.size());
  return c.toArray(array);
}
