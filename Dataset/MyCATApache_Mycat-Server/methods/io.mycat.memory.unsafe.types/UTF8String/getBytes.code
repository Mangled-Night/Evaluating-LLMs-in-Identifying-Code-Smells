/** 
 * Returns the underline bytes, will be a copy of it if it's part of another array.
 */
public byte[] getBytes(){
  if (offset == Platform.BYTE_ARRAY_OFFSET && base instanceof byte[] && ((byte[])base).length == numBytes) {
    return (byte[])base;
  }
 else {
    byte[] bytes=new byte[numBytes];
    Platform.copyMemory(base,offset,bytes,Platform.BYTE_ARRAY_OFFSET,numBytes);
    return bytes;
  }
}
