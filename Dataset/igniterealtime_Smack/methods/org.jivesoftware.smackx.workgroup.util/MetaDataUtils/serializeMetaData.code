/** 
 * Serializes a Map of String name/value pairs into the meta-data XML format.
 * @param metaData the Map of meta-data as Map&lt;String, List&lt;String&gt;&gt;
 * @return the meta-data values in XML form.
 */
public static String serializeMetaData(Map<String,List<String>> metaData){
  StringBuilder buf=new StringBuilder();
  if (metaData != null && metaData.size() > 0) {
    buf.append("<metadata xmlns=\"http://jivesoftware.com/protocol/workgroup\">");
    for (    String key : metaData.keySet()) {
      List<String> value=metaData.get(key);
      for (      String v : value) {
        buf.append("<value name=\"").append(key).append("\">");
        buf.append(StringUtils.escapeForXmlText(v));
        buf.append("</value>");
      }
    }
    buf.append("</metadata>");
  }
  return buf.toString();
}
