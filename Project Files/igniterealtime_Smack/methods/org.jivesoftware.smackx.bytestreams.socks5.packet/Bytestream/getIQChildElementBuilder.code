@Override protected IQChildElementXmlStringBuilder getIQChildElementBuilder(IQChildElementXmlStringBuilder xml){
switch (getType()) {
case set:
    xml.optAttribute("sid",getSessionID());
  xml.optAttribute("mode",getMode());
xml.rightAngleBracket();
if (getToActivate() == null) {
for (StreamHost streamHost : getStreamHosts()) {
  xml.append(streamHost.toXML());
}
}
 else {
xml.append(getToActivate().toXML());
}
break;
case result:
xml.rightAngleBracket();
xml.optAppend(getUsedHost());
for (StreamHost host : streamHosts) {
xml.append(host.toXML());
}
break;
case get:
xml.setEmptyElement();
break;
default :
throw new IllegalStateException();
}
return xml;
}
