private static AppInfo getBean(final PackageManager pm,final PackageInfo pi){
  if (pi == null)   return null;
  String versionName=pi.versionName;
  int versionCode=pi.versionCode;
  String packageName=pi.packageName;
  ApplicationInfo ai=pi.applicationInfo;
  if (ai == null) {
    return new AppInfo(packageName,"",null,"",versionName,versionCode,-1,-1,false);
  }
  String name=ai.loadLabel(pm).toString();
  Drawable icon=ai.loadIcon(pm);
  String packagePath=ai.sourceDir;
  int minSdkVersion=-1;
  if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.N) {
    minSdkVersion=ai.minSdkVersion;
  }
  int targetSdkVersion=ai.targetSdkVersion;
  boolean isSystem=(ApplicationInfo.FLAG_SYSTEM & ai.flags) != 0;
  return new AppInfo(packageName,name,icon,packagePath,versionName,versionCode,minSdkVersion,targetSdkVersion,isSystem);
}
