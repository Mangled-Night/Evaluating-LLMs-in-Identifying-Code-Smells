/** 
 * Calculate a random floating point value from the distribution.
 * @param rand java.util.Random object, appropriately seeded
 * @return
 */
public float getValue(Random rand){
  if (range == 0) {
    return mean;
  }
switch (type) {
case uniform:
    return (rand.nextFloat() * 2.0F - 1.0F) * range + mean;
case normal:
  float value=(float)rand.nextGaussian() / 2.5F;
if (value < -1.0F) {
  value=-1.0F;
}
 else if (value > 1.0F) {
  value=1.0F;
}
return value * range + mean;
default :
return 0;
}
}
