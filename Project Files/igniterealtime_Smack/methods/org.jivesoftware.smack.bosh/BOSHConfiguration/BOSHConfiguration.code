private BOSHConfiguration(Builder builder){
  super(builder);
  if (proxy != null) {
    if (proxy.getProxyType() != ProxyInfo.ProxyType.HTTP) {
      throw new IllegalArgumentException("Only HTTP proxies are support with BOSH connections");
    }
  }
  https=builder.https;
  if (builder.file != null) {
    if (builder.file.charAt(0) != '/') {
      file='/' + builder.file;
    }
 else {
      file=builder.file;
    }
  }
 else {
    file=null;
  }
  httpHeaders=builder.httpHeaders;
}
