/** 
 * Re-subscribe to all previously subscribed channels and patterns.
 * @return list of the futures of the {@literal subscribe} and {@literal psubscribe} commands.
 */
protected List<RedisFuture<Void>> resubscribe(){
  List<RedisFuture<Void>> result=new ArrayList<>();
  if (endpoint.hasChannelSubscriptions()) {
    result.add(async().subscribe(toArray(endpoint.getChannels())));
  }
  if (endpoint.hasPatternSubscriptions()) {
    result.add(async().psubscribe(toArray(endpoint.getPatterns())));
  }
  return result;
}
