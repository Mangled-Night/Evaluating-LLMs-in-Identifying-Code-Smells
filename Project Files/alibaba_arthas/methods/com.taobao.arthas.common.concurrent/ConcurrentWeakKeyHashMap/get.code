V get(Object key,int hash){
  if (count != 0) {
    HashEntry<K,V> e=getFirst(hash);
    while (e != null) {
      if (e.hash == hash && keyEq(key,e.key())) {
        Object opaque=e.valueRef;
        if (opaque != null) {
          return e.dereferenceValue(opaque);
        }
        return readValueUnderLock(e);
      }
      e=e.next;
    }
  }
  return null;
}
/** 
 * Returns the value to which the specified key is mapped, or  {@code null}if this map contains no mapping for the key. <p>More formally, if this map contains a mapping from a key  {@code k} toa value  {@code v} such that {@code key.equals(k)}, then this method returns  {@code v}; otherwise it returns  {@code null}.  (There can be at most one such mapping.)
 * @throws NullPointerException if the specified key is null
 */
@Override public V get(Object key){
  int hash=hashOf(key);
  return segmentFor(hash).get(key,hash);
}
