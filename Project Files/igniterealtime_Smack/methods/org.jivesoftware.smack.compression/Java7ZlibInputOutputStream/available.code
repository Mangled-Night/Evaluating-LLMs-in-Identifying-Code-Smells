/** 
 * Provide a more InputStream compatible version. A return value of 1 means that it is likely to read one byte without blocking, 0 means that the system is known to block for more input.
 * @return 0 if no data is available, 1 otherwise
 * @throws IOException if an I/O error occurred.
 */
@Override public int available() throws IOException {
  if (inf.needsInput()) {
    return 0;
  }
  return super.available();
}
