public class ModularXmppClientToServerConnectionTool {
  @SuppressWarnings("DefaultCharset") public static void main(  String[] args) throws XmppStringprepException, FileNotFoundException {
    final PrintWriter pw;
    final boolean breakStateName;
switch (args.length) {
case 0:
      pw=new PrintWriter(System.out);
    breakStateName=false;
  break;
case 1:
Path outputFilePath=Paths.get(args[0]);
File outputFile=outputFilePath.toFile();
if (outputFile.exists()) {
outputFile.delete();
}
pw=new PrintWriter(outputFile);
breakStateName=true;
break;
default :
throw new IllegalArgumentException("At most one argument allowed");
}
printStateGraph(pw,breakStateName);
pw.flush();
}
public static void printStateGraph(PrintWriter pw,boolean breakStateName) throws XmppStringprepException {
ModularXmppClientToServerConnectionConfiguration.Builder configurationBuilder=ModularXmppClientToServerConnectionConfiguration.builder().setUsernameAndPassword("user","password").setXmppDomain("example.org");
ModularXmppClientToServerConnectionConfiguration configuration=configurationBuilder.build();
configuration.printStateGraphInDotFormat(pw,breakStateName);
pw.flush();
}
}
