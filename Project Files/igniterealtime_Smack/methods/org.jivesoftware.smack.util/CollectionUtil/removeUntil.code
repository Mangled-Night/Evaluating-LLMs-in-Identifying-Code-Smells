public static <T,C extends Collection<T>>List<T> removeUntil(C collection,Predicate<T> predicate){
  List<T> removedElements=new ArrayList<>(collection.size());
  for (Iterator<T> it=collection.iterator(); it.hasNext(); ) {
    T t=it.next();
    if (predicate.test(t)) {
      break;
    }
    removedElements.add(t);
    it.remove();
  }
  return removedElements;
}
