@Test public void testValueMapperWithEmbeddedObject(){
  BasicDBObject dbObj=new BasicDBObject();
  dbObj.put("str","t1");
  dbObj.put("inte",1);
  dbObj.put("date",new Date());
  dbObj.put("lon",100L);
  dbObj.put("bool",true);
  dbObj.put("strs",new String[]{"a","b","c"});
  dbObj.put("intes",new Integer[]{1,2,3});
  dbObj.put("bytes","ttt".getBytes());
  dbObj.put("b","a".getBytes()[0]);
  Object o=MongoEmbeddedObjectProcessor.valueMapper("embObj",dbObj,TestObject.class);
  if (!(o instanceof TestObject)) {
    Assert.fail("not emb obj");
  }
}
