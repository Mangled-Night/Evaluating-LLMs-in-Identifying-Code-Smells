private static Set<CommandDetail.Flag> parseFlags(Object flags){
  Set<CommandDetail.Flag> result=new HashSet<>();
  if (flags instanceof Collection<?>) {
    Collection<?> collection=(Collection<?>)flags;
    for (    Object o : collection) {
      CommandDetail.Flag flag=FLAG_MAPPING.get(o);
      if (flag != null) {
        result.add(flag);
      }
    }
  }
  return Collections.unmodifiableSet(result);
}
