/** 
 * Provide a connection for the connectionIntent and cluster slot. The underlying connection is bound to the nodeId. If the slot responsibility changes, the connection will not point to the updated nodeId.
 * @param connectionIntent {@link ConnectionIntent#READ} or {@link ConnectionIntent#WRITE}.  {@literal READ} connections willbe provided with  {@literal READONLY} mode set.
 * @param slot the slot-hash of the key, see {@link SlotHash}.
 * @return a valid connection which handles the slot.
 * @throws RedisException if no know node can be found for the slot
 */
<K,V>StatefulRedisConnection<K,V> getConnection(ConnectionIntent connectionIntent,int slot);
/** 
 * Provide a connection for the connectionIntent and host/port. The connection can survive cluster topology updates. The connection will be closed if the node identified by  {@code host} and {@code port} is no longer part of the cluster.
 * @param connectionIntent {@link ConnectionIntent#READ} or {@link ConnectionIntent#WRITE}.  {@literal READ} connections willbe provided with  {@literal READONLY} mode set.
 * @param host host of the node.
 * @param port port of the node.
 * @return a valid connection to the given host.
 * @throws RedisException if the host is not part of the cluster
 */
<K,V>StatefulRedisConnection<K,V> getConnection(ConnectionIntent connectionIntent,String host,int port);
/** 
 * Provide a connection for the connectionIntent and nodeId. The connection can survive cluster topology updates. The connection will be closed if the node identified by  {@code nodeId} is no longer part of the cluster.
 * @param connectionIntent {@link ConnectionIntent#READ} or {@link ConnectionIntent#WRITE}.  {@literal READ} connections willbe provided with  {@literal READONLY} mode set.
 * @param nodeId the nodeId of the cluster node.
 * @return a valid connection to the given nodeId.
 * @throws RedisException if the {@code nodeId} is not part of the cluster
 */
<K,V>StatefulRedisConnection<K,V> getConnection(ConnectionIntent connectionIntent,String nodeId);
