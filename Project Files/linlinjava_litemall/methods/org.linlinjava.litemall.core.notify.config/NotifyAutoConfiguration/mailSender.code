public JavaMailSender mailSender(){
  NotifyProperties.Mail mailConfig=properties.getMail();
  JavaMailSenderImpl mailSender=new JavaMailSenderImpl();
  mailSender.setHost(mailConfig.getHost());
  mailSender.setUsername(mailConfig.getUsername());
  mailSender.setPassword(mailConfig.getPassword());
  mailSender.setPort(mailConfig.getPort());
  Properties properties=new Properties();
  properties.put("mail.smtp.auth",true);
  properties.put("mail.smtp.timeout",5000);
  properties.put("mail.smtp.starttls.enable",true);
  properties.put("mail.smtp.socketFactory.fallback","false");
  properties.put("mail.smtp.socketFactory.class","javax.net.ssl.SSLSocketFactory");
  properties.put("mail.smtp.socketFactory.port",mailConfig.getPort());
  properties.put("debug",true);
  mailSender.setJavaMailProperties(properties);
  return mailSender;
}
