private byte[] maxValue(Range<? extends V> range){
  Boundary<? extends V> upper=range.getUpper();
  if (upper.getValue() == null) {
    return PLUS_BYTES;
  }
  ByteBuffer encoded=codec.encodeValue(upper.getValue());
  ByteBuffer allocated=ByteBuffer.allocate(encoded.remaining() + 1);
  allocated.put(upper.isIncluding() ? (byte)'[' : (byte)'(').put(encoded);
  return allocated.array();
}
