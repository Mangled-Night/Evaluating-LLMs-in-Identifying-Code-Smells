protected final int getRelativeIndex(Vector3ic pos){
  if (!relativeRegion.contains(pos)) {
    throw new IllegalArgumentException(String.format("Out of bounds: %s for region %s",pos.toString(),relativeRegion.toString()));
  }
  return pos.x() - relativeRegion.minX() + relativeRegion.getSizeX() * (pos.z() - relativeRegion.minZ());
}
