/** 
 * Retrieve asynchronously a connection to the specified cluster node using the  {@code nodeId} suitable for{@link ConnectionIntent#WRITE write operations}. Host and port are looked up in the node list. This connection is bound to the node id. Once the cluster topology view is updated, the connection will try to reconnect the to the node with the specified  {@code nodeId}, that behavior can also lead to a closed connection once the node with the specified {@code nodeId} is no longer part of the cluster.<p> Do not close the connections. Otherwise, unpredictable behavior will occur. The nodeId must be part of the cluster and is validated against the current topology view in  {@link io.lettuce.core.cluster.models.partitions.Partitions}. <p> Calling this method is equivalent to calling  {@link #getConnectionAsync(String,ConnectionIntent)} with the{@code connectionIntent} parameter set to {@link ConnectionIntent#WRITE}<p> In contrast to the  {@link StatefulRedisClusterConnection}, node-connections do not route commands to other cluster nodes.
 * @param nodeId the node Id
 * @return {@link CompletableFuture} to indicate success or failure to connect to the requested cluster node.
 * @throws RedisException if the requested node identified by {@code nodeId} is not part of the cluster
 * @since 5.0
 */
default CompletableFuture<StatefulRedisConnection<K,V>> getConnectionAsync(String nodeId){
  return getConnectionAsync(nodeId,ConnectionIntent.WRITE);
}
/** 
 * Retrieve asynchronously a connection to the specified cluster node using the  {@code nodeId} for the given{@link ConnectionIntent}. Host and port are looked up in the node list. This connection is bound to the node id. Once the cluster topology view is updated, the connection will try to reconnect the to the node with the specified  {@code nodeId}, that behavior can also lead to a closed connection once the node with the specified  {@code nodeId} is no longer part ofthe cluster. <p> Do not close the connections. Otherwise, unpredictable behavior will occur. The nodeId must be part of the cluster and is validated against the current topology view in  {@link io.lettuce.core.cluster.models.partitions.Partitions}. <p> This method is intended to be used for cases where the caller requires a specific connection type (READ or WRITE) to a given node in a cluster. <p> In contrast to the  {@link StatefulRedisClusterConnection}, node-connections do not route commands to other cluster nodes.
 * @param nodeId the node Id
 * @param connectionIntent the intent for usage of the connection.
 * @return {@link CompletableFuture} to indicate success or failure to connect to the requested cluster node.
 * @throws RedisException if the requested node identified by {@code nodeId} is not part of the cluster
 * @since 6.2
 */
CompletableFuture<StatefulRedisConnection<K,V>> getConnectionAsync(String nodeId,ConnectionIntent connectionIntent);
/** 
 * Retrieve asynchronously a connection to the specified cluster node using host and port suitable for {@link ConnectionIntent#WRITE write operations}. This connection is bound to a host and port. Updates to the cluster topology view can close the connection once the host, identified by  {@code host} and {@code port}, are no longer part of the cluster. <p> Do not close the connections. Otherwise, unpredictable behavior will occur. Host and port connections are verified by default for cluster membership, see  {@link ClusterClientOptions#isValidateClusterNodeMembership()}. <p> Calling this method is equivalent to calling  {@link #getConnectionAsync(String,int,ConnectionIntent)} with the{@code connectionIntent} parameter set to {@link ConnectionIntent#WRITE}<p> In contrast to the  {@link StatefulRedisClusterConnection}, node-connections do not route commands to other cluster nodes.
 * @param host the host
 * @param port the port
 * @return {@link CompletableFuture} to indicate success or failure to connect to the requested cluster node.
 * @throws RedisException if the requested node identified by {@code host} and {@code port} is not part of the cluster
 * @since 5.0
 */
default CompletableFuture<StatefulRedisConnection<K,V>> getConnectionAsync(String host,int port){
  return getConnectionAsync(host,port,ConnectionIntent.WRITE);
}
/** 
 * Retrieve asynchronously a connection to the specified cluster node using host and port for the given {@link ConnectionIntent}. This connection is bound to a host and port. Updates to the cluster topology view can close the connection once the host, identified by  {@code host} and {@code port}, are no longer part of the cluster. <p> Do not close the connections. Otherwise, unpredictable behavior will occur. Host and port connections are verified by default for cluster membership, see  {@link ClusterClientOptions#isValidateClusterNodeMembership()}. <p> In contrast to the  {@link StatefulRedisClusterConnection}, node-connections do not route commands to other cluster nodes.
 * @param host the host
 * @param port the port
 * @param connectionIntent the intent of the connection see {@link #getConnection(String,ConnectionIntent)}
 * @return {@link CompletableFuture} to indicate success or failure to connect to the requested cluster node.
 * @throws RedisException if the requested node identified by {@code host} and {@code port} is not part of the cluster
 * @since 6.2
 */
CompletableFuture<StatefulRedisConnection<K,V>> getConnectionAsync(String host,int port,ConnectionIntent connectionIntent);
