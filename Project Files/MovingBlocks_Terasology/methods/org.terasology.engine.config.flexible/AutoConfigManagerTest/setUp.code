@BeforeEach public void setUp(@TempDir Path tempHome) throws Exception {
  PathManager.getInstance().useOverrideHomePath(tempHome);
  when(environment.getModuleProviding(any())).thenReturn(PROVIDING_MODULE);
  when(environment.getSubtypesOf(eq(AutoConfig.class))).thenReturn(Collections.singleton(TestAutoConfig.class));
  when(moduleManager.getEnvironment()).thenReturn(environment);
  when(context.get(eq(ModuleManager.class))).thenReturn(moduleManager);
}
