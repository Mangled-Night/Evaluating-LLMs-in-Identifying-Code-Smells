public byte[] readBytesWithNull(){
  final byte[] b=this.data;
  if (position >= length) {
    return EMPTY_BYTES;
  }
  int offset=-1;
  for (int i=position; i < length; i++) {
    if (b[i] == 0) {
      offset=i;
      break;
    }
  }
switch (offset) {
case -1:
    byte[] ab1=new byte[length - position];
  System.arraycopy(b,position,ab1,0,ab1.length);
position=length;
return ab1;
case 0:
position++;
return EMPTY_BYTES;
default :
byte[] ab2=new byte[offset - position];
System.arraycopy(b,position,ab2,0,ab2.length);
position=offset + 1;
return ab2;
}
}
