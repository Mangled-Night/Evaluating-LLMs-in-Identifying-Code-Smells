/** 
 * Send a HTTP request to the connection manager with the provided body element.
 * @param body the body which will be sent.
 * @throws BOSHException if an BOSH (Bidirectional-streams Over Synchronous HTTP, XEP-0124) related error occurs
 */
protected void send(ComposableBody body) throws BOSHException {
  if (!connected) {
    throw new IllegalStateException("Not connected to a server!");
  }
  if (body == null) {
    throw new NullPointerException("Body mustn't be null!");
  }
  if (sessionID != null) {
    body=body.rebuild().setAttribute(BodyQName.create(BOSH_URI,"sid"),sessionID).build();
  }
  client.send(body);
}
