private ByteBuffer readLine(ByteBuf buffer){
  ByteBuffer bytes=null;
  int end=findLineEnd(buffer);
  if (end > NOT_FOUND) {
    bytes=readBytes0(buffer,end - buffer.readerIndex());
    buffer.skipBytes(TERMINATOR_LENGTH);
    buffer.markReaderIndex();
  }
  return bytes;
}
