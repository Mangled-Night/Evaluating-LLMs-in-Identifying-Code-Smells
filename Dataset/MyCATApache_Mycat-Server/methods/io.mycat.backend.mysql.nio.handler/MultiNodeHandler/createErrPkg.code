protected ErrorPacket createErrPkg(String errmgs){
  ErrorPacket err=new ErrorPacket();
  lock.lock();
  try {
    err.packetId=++packetId;
  }
  finally {
    lock.unlock();
  }
  err.errno=ErrorCode.ER_UNKNOWN_ERROR;
  err.message=StringUtil.encode(errmgs,session.getSource().getCharset());
  return err;
}
