/** 
 * 支持insert into ... values (),()... 不支持insert into ... select...
 * @throws Exception
 */
public void testBatchInsert() throws Exception {
  SchemaConfig schema=schemaMap.get("TESTDB");
  RouteResultset rrs=null;
  String sql="insert into orders (id,name,customer_id) values(1,'testonly',1),(2,'testonly',2000001)";
  try {
    rrs=routeStrategy.route(new SystemConfig(),schema,1,sql,null,null,cachePool);
  }
 catch (  Exception e) {
    Assert.assertEquals("ChildTable multi insert not provided",e.getMessage());
  }
  sql="insert into employee (id,name,customer_id) select id,name,customer_id from customer";
  try {
    rrs=routeStrategy.route(new SystemConfig(),schema,1,sql,null,null,cachePool);
  }
 catch (  Exception e) {
    Assert.assertEquals("TODO:insert into .... select .... not supported!",e.getMessage());
  }
  sql="insert into employee (id,name,sharding_id) values(1,'testonly',10000),(2,'testonly','10010')";
  rrs=routeStrategy.route(new SystemConfig(),schema,1,sql,null,null,cachePool);
  Assert.assertEquals(2,rrs.getNodes().length);
  Assert.assertEquals(false,rrs.isCacheAble());
  Assert.assertEquals("dn1",rrs.getNodes()[0].getName());
  Assert.assertEquals("dn2",rrs.getNodes()[1].getName());
  String node1Sql=formatSql("insert into employee (id,name,sharding_id) values(1,'testonly','10000')");
  String node2Sql=formatSql("insert into employee (id,name,sharding_id) values(2,'testonly','10010')");
  RouteResultsetNode[] nodes=rrs.getNodes();
  Assert.assertEquals(node1Sql,nodes[0].getStatement());
  Assert.assertEquals(node2Sql,nodes[1].getStatement());
}
