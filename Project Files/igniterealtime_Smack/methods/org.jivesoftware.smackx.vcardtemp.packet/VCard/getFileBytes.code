private static byte[] getFileBytes(File file) throws IOException {
  try (BufferedInputStream bis=new BufferedInputStream(new FileInputStream(file))){
    int bytes=(int)file.length();
    byte[] buffer=new byte[bytes];
    int readBytes=bis.read(buffer);
    if (readBytes != buffer.length) {
      throw new IOException("Entire file not read");
    }
    return buffer;
  }
 }
