@Override public void run(){
  for (  ChatStateListener listener : finalListeners) {
    listener.stateChanged(chat,finalState,message);
  }
}
