/** 
 * @author hengyunabc 2021-08-11
 */
@Configuration public class WebSecurityConfig extends WebSecurityConfigurerAdapter {
  @Autowired ArthasProperties arthasProperties;
  @Override protected void configure(  HttpSecurity httpSecurity) throws Exception {
    httpSecurity.authorizeRequests().requestMatchers(EndpointRequest.toAnyEndpoint()).authenticated().anyRequest().permitAll().and().formLogin();
    if (arthasProperties.isEnableIframeSupport()) {
      httpSecurity.headers().frameOptions().disable();
    }
  }
}
