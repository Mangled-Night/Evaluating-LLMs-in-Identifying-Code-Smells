public class DisplayedExtensionTest {
  String displayedMessageStanza="<message to='northumberland@shakespeare.lit/westminster' id='message-2'>" + "<displayed xmlns='urn:xmpp:chat-markers:0' id='message-1'/>" + "</message>";
  String displayedExtension="<displayed xmlns='urn:xmpp:chat-markers:0' id='message-1'/>";
  @Test public void checkDisplayedExtension() throws Exception {
    Message message=StanzaBuilder.buildMessage("message-2").to("northumberland@shakespeare.lit/westminster").addExtension(new ChatMarkersElements.DisplayedExtension("message-1")).build();
    assertEquals(displayedMessageStanza,message.toXML(StreamOpen.CLIENT_NAMESPACE).toString());
  }
  @Test public void checkDisplayedProvider() throws Exception {
    XmlPullParser parser=PacketParserUtils.getParserFor(displayedExtension);
    DisplayedExtension displayedExtension1=new DisplayedProvider().parse(parser);
    assertEquals("message-1",displayedExtension1.getId());
    Message message=PacketParserUtils.parseStanza(displayedMessageStanza);
    DisplayedExtension displayedExtension2=DisplayedExtension.from(message);
    assertEquals("message-1",displayedExtension2.getId());
  }
}
