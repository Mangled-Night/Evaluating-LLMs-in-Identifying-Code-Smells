public void read(byte[] data){
  MySQLMessage mm=new MySQLMessage(data);
  packetLength=mm.readUB3();
  packetId=mm.read();
  clientFlags=mm.readUB4();
  maxPacketSize=mm.readUB4();
  charsetIndex=(mm.read() & 0xff);
  int current=mm.position();
  int len=(int)mm.readLength();
  if (len > 0 && len < FILLER.length) {
    byte[] ab=new byte[len];
    System.arraycopy(mm.bytes(),mm.position(),ab,0,len);
    this.extra=ab;
  }
  mm.position(current + FILLER.length);
  user=mm.readStringWithNull();
  password=mm.readBytesWithLength();
  if (((clientFlags & Capabilities.CLIENT_CONNECT_WITH_DB) != 0) && mm.hasRemaining()) {
    database=mm.readStringWithNull();
  }
  if ((clientFlags & Capabilities.CLIENT_MULTI_STATEMENTS) != 0) {
    allowMultiStatements=true;
  }
  if (((clientFlags & Capabilities.CLIENT_PLUGIN_AUTH) != 0) && mm.hasRemaining()) {
    clientAuthPlugin=mm.readStringWithNull();
  }
}
