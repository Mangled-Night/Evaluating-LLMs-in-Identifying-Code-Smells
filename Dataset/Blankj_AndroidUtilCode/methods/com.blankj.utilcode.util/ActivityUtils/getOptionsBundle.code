private static Bundle getOptionsBundle(final Fragment fragment,final int enterAnim,final int exitAnim){
  Activity activity=fragment.getActivity();
  if (activity == null)   return null;
  return ActivityOptionsCompat.makeCustomAnimation(activity,enterAnim,exitAnim).toBundle();
}
private static Bundle getOptionsBundle(final Context context,final int enterAnim,final int exitAnim){
  return ActivityOptionsCompat.makeCustomAnimation(context,enterAnim,exitAnim).toBundle();
}
private static Bundle getOptionsBundle(final Fragment fragment,final View[] sharedElements){
  Activity activity=fragment.getActivity();
  if (activity == null)   return null;
  return getOptionsBundle(activity,sharedElements);
}
private static Bundle getOptionsBundle(final Activity activity,final View[] sharedElements){
  if (Build.VERSION.SDK_INT < Build.VERSION_CODES.LOLLIPOP)   return null;
  if (sharedElements == null)   return null;
  int len=sharedElements.length;
  if (len <= 0)   return null;
  @SuppressWarnings("unchecked") Pair<View,String>[] pairs=new Pair[len];
  for (int i=0; i < len; i++) {
    pairs[i]=Pair.create(sharedElements[i],sharedElements[i].getTransitionName());
  }
  return ActivityOptionsCompat.makeSceneTransitionAnimation(activity,pairs).toBundle();
}
