@Override public CommandOutputFactory resolveCommandOutput(OutputSelector outputSelector){
  Map<OutputType,CommandOutputFactory> registry=outputRegistry.getRegistry();
  List<OutputType> outputTypes=registry.keySet().stream().filter((outputType) -> !outputType.isStreaming()).collect(Collectors.toList());
  List<OutputType> candidates=getCandidates(outputTypes,outputSelector);
  if (candidates.isEmpty()) {
    return null;
  }
  return registry.get(candidates.get(0));
}
