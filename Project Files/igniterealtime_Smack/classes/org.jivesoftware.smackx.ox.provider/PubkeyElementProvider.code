/** 
 * {@link ExtensionElementProvider} implementation for the {@link PubkeyElement}.
 */
public class PubkeyElementProvider extends ExtensionElementProvider<PubkeyElement> {
  public static final PubkeyElementProvider INSTANCE=new PubkeyElementProvider();
  @Override public PubkeyElement parse(  XmlPullParser parser,  int initialDepth,  XmlEnvironment xmlEnvironment) throws XmlPullParserException, IOException, ParseException {
    String dateString=parser.getAttributeValue(null,PubkeyElement.ATTR_DATE);
    Date date=ParserUtils.getDateFromOptionalXep82String(dateString);
    while (true) {
      XmlPullParser.Event tag=parser.next();
      if (tag == XmlPullParser.Event.START_ELEMENT) {
        String name=parser.getName();
switch (name) {
case PubkeyElement.PubkeyDataElement.ELEMENT:
          String base64EncodedOpenPgpPubKey=parser.nextText();
        PubkeyElement.PubkeyDataElement pubkeyDataElement=new PubkeyElement.PubkeyDataElement(base64EncodedOpenPgpPubKey);
      return new PubkeyElement(pubkeyDataElement,date);
  }
}
}
}
}
