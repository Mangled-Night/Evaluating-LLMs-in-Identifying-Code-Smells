public void close(String reason){
  if (term != null) {
    try {
      term.write("session (" + session.getSessionId() + ") is closed because "+ reason+ "\n");
    }
 catch (    Throwable t) {
      logger.error("Error writing data:",t);
    }
    term.close();
  }
 else {
    jobController.close(closedFutureHandler());
  }
}
