/** 
 * Build and rotate the block according to the specified rotation.
 * @param blockBuilder The builder instance to use
 * @param shape        The shape specified, or null if none was
 * @param definition   The definition instance of the family to pass to the builder
 * @param uri          The URI of the block being build
 * @param rotation     The rotation to apply to the block
 * @param side         The subsection of the block that this is.
 */
private Block transformBlock(BlockBuilderHelper blockBuilder,BlockShape shape,BlockFamilyDefinition definition,BlockUri uri,Rotation rotation,ExtendedSide side){
  Block block;
  if (shape == null) {
    block=blockBuilder.constructTransformedBlock(definition,side.name(),rotation,uri,this);
  }
 else {
    block=blockBuilder.constructTransformedBlock(definition,shape,side.name(),rotation,uri,this);
  }
  if (block != null) {
    return block;
  }
 else {
    throw new IllegalArgumentException("Missing block for side: " + side.toString());
  }
}
