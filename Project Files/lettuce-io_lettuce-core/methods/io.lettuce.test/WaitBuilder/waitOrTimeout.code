@SuppressWarnings("unchecked") public void waitOrTimeout(){
  Waiter waiter=new Waiter();
  waiter.duration=duration;
  waiter.sleeper=sleeper;
  waiter.messageFunction=(Function<Object,String>)messageFunction;
  if (waitCondition != null) {
    waiter.waitOrTimeout(waitCondition,supplier);
  }
 else {
    waiter.waitOrTimeout(supplier,check);
  }
}
