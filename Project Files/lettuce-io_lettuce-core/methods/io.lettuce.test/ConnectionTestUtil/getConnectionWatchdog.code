/** 
 * Extract the  {@link ConnectionWatchdog} from a {@link StatefulConnection}.
 * @param connection the connection
 * @return the {@link ConnectionWatchdog}
 */
public static ConnectionWatchdog getConnectionWatchdog(StatefulConnection<?,?> connection){
  RedisChannelWriter channelWriter=ConnectionTestUtil.getChannelWriter(connection);
  if (channelWriter instanceof DefaultEndpoint) {
    return (ConnectionWatchdog)ReflectionTestUtils.getField(channelWriter,"connectionWatchdog");
  }
  return null;
}
