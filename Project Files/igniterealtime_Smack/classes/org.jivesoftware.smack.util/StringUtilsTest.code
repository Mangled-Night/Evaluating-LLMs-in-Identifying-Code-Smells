/** 
 * A test case for the StringUtils class.
 */
public class StringUtilsTest {
  @Test public void testEscapeForXml(){
    assertNull(StringUtils.escapeForXml(null));
    String input="<b>";
    assertCharSequenceEquals("&lt;b&gt;",StringUtils.escapeForXml(input));
    input="\"";
    assertCharSequenceEquals("&quot;",StringUtils.escapeForXml(input));
    input="&";
    assertCharSequenceEquals("&amp;",StringUtils.escapeForXml(input));
    input="<b>\n\t\r</b>";
    assertCharSequenceEquals("&lt;b&gt;\n\t\r&lt;/b&gt;",StringUtils.escapeForXml(input));
    input="   &   ";
    assertCharSequenceEquals("   &amp;   ",StringUtils.escapeForXml(input));
    input="   \"   ";
    assertCharSequenceEquals("   &quot;   ",StringUtils.escapeForXml(input));
    input="> of me <";
    assertCharSequenceEquals("&gt; of me &lt;",StringUtils.escapeForXml(input));
    input="> of me & you<";
    assertCharSequenceEquals("&gt; of me &amp; you&lt;",StringUtils.escapeForXml(input));
    input="& <";
    assertCharSequenceEquals("&amp; &lt;",StringUtils.escapeForXml(input));
    input="&";
    assertCharSequenceEquals("&amp;",StringUtils.escapeForXml(input));
    input="It's a good day today";
    assertCharSequenceEquals("It&apos;s a good day today",StringUtils.escapeForXml(input));
  }
  public static void assertCharSequenceEquals(  CharSequence expected,  CharSequence actual){
    assertEquals(expected.toString(),actual.toString());
  }
  @Test public void testEncodeHex(){
    String input="";
    String output="";
    assertEquals(new String(StringUtils.encodeHex(input.getBytes(StandardCharsets.UTF_8))),output);
    input="foo bar 123";
    output="666f6f2062617220313233";
    assertEquals(new String(StringUtils.encodeHex(input.getBytes(StandardCharsets.UTF_8))),output);
  }
  @Test public void testRandomString(){
    String result;
    result=StringUtils.randomString(4);
    assertTrue(result.length() == 4);
    result=StringUtils.randomString(16);
    assertTrue(result.length() == 16);
    result=StringUtils.randomString(128);
    assertTrue(result.length() == 128);
  }
  @Test(expected=NegativeArraySizeException.class) public void testNegativeArraySizeException(){
    StringUtils.randomString(-1);
  }
  @Test public void testZeroLengthRandomString(){
    String result=StringUtils.randomString(0);
    assertEquals("",result);
  }
  @Test public void testeDeleteXmlWhitespace(){
    String noWhitespace=StringUtils.deleteXmlWhitespace(" foo\nbar ");
    assertEquals("foobar",noWhitespace);
    noWhitespace=StringUtils.deleteXmlWhitespace(" \tbaz\rbarz\t ");
    assertEquals("bazbarz",noWhitespace);
    noWhitespace=StringUtils.deleteXmlWhitespace("SNAFU");
    assertEquals("SNAFU",noWhitespace);
  }
}
