/** 
 * Checks if the symmetric order is consistent.
 * @return {@code true} if the symmetric order is consistent
 */
private boolean isBST(){
  return isBST(root,null,null);
}
/** 
 * Checks if the tree rooted at x is a BST with all keys strictly between min and max (if min or max is null, treat as empty constraint) Credit: Bob Dondero's elegant solution
 * @param x the subtree
 * @param min the minimum key in subtree
 * @param max the maximum key in subtree
 * @return {@code true} if if the symmetric order is consistent
 */
private boolean isBST(Node x,Key min,Key max){
  if (x == null)   return true;
  if (min != null && x.key.compareTo(min) <= 0)   return false;
  if (max != null && x.key.compareTo(max) >= 0)   return false;
  return isBST(x.left,min,x.key) && isBST(x.right,x.key,max);
}
