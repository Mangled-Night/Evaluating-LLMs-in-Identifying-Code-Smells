private void finishConnect(SelectionKey key,Object att){
  BackendAIOConnection c=(BackendAIOConnection)att;
  try {
    if (finishConnect(c,(SocketChannel)c.channel)) {
      clearSelectionKey(key);
      c.setId(ID_GENERATOR.getId());
      NIOProcessor processor=MycatServer.getInstance().nextProcessor();
      c.setProcessor(processor);
      NIOReactor reactor=reactorPool.getNextReactor();
      reactor.postRegister(c);
      c.onConnectfinish();
    }
  }
 catch (  Exception e) {
    clearSelectionKey(key);
    LOGGER.error("error:",e);
    c.close(e.toString());
    c.onConnectFailed(e);
  }
}
private boolean finishConnect(AbstractConnection c,SocketChannel channel) throws IOException {
  if (channel.finishConnect()) {
    channel.finishConnect();
    c.setLocalPort(channel.socket().getLocalPort());
    return true;
  }
 else {
    return false;
  }
}
