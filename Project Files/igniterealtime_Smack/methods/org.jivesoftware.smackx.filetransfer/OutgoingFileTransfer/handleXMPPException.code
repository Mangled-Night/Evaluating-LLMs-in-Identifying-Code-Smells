private void handleXMPPException(XMPPErrorException e){
  StanzaError error=e.getStanzaError();
  if (error != null) {
switch (error.getCondition()) {
case forbidden:
      setStatus(Status.refused);
    return;
case bad_request:
  setStatus(Status.error);
setError(Error.not_acceptable);
break;
default :
setStatus(FileTransfer.Status.error);
}
}
setException(e);
}
