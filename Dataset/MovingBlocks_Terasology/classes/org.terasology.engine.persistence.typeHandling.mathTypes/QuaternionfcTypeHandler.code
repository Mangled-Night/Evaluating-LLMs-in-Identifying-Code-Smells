public class QuaternionfcTypeHandler extends TypeHandler<Quaternionfc> {
  @Override public PersistedData serializeNonNull(  Quaternionfc value,  PersistedDataSerializer serializer){
    return serializer.serialize(value.x(),value.y(),value.z(),value.w());
  }
  @Override public Optional<Quaternionfc> deserialize(  PersistedData data){
    if (data.isArray()) {
      PersistedDataArray dataArray=data.getAsArray();
      if (dataArray.isNumberArray() && dataArray.size() > 3) {
        TFloatList floats=dataArray.getAsFloatArray();
        return Optional.of(new Quaternionf(floats.get(0),floats.get(1),floats.get(2),floats.get(3)));
      }
    }
    return Optional.empty();
  }
}
