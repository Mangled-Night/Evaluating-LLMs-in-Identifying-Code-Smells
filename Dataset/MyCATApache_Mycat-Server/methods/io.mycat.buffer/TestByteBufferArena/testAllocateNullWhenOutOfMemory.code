@Test public void testAllocateNullWhenOutOfMemory(){
  int size=256;
  int pageSize=size * 4;
  int allocTimes=9;
  ByteBufferArena pool=new ByteBufferArena(256 * 4,256,2,8);
  ;
  long start=System.currentTimeMillis();
  ByteBuffer byteBuffer=null;
  List<ByteBuffer> buffs=new ArrayList<ByteBuffer>();
  int i=0;
  for (; i < allocTimes; i++) {
    byteBuffer=pool.allocate(size);
    if (byteBuffer == null) {
      break;
    }
    buffs.add(byteBuffer);
  }
  for (  ByteBuffer buff : buffs) {
    pool.recycle(buff);
  }
}
