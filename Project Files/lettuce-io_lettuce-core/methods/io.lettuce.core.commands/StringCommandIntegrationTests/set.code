@Test void set(){
  assertThat(redis.get(key)).isNull();
  assertThat(redis.set(key,value)).isEqualTo("OK");
  assertThat(redis.get(key)).isEqualTo(value);
  assertThat(redis.set(key,value,px(20000))).isEqualTo("OK");
  assertThat(redis.set(key,value,ex(10))).isEqualTo("OK");
  assertThat(redis.get(key)).isEqualTo(value);
  assertThat(redis.ttl(key)).isGreaterThanOrEqualTo(9);
  assertThat(redis.set(key,value,ex(Duration.ofSeconds(10)))).isEqualTo("OK");
  assertThat(redis.ttl(key)).isBetween(5L,10L);
  assertThat(redis.set(key,value,px(Duration.ofSeconds(10)))).isEqualTo("OK");
  assertThat(redis.ttl(key)).isBetween(5L,10L);
  assertThat(redis.set(key,value,px(10000))).isEqualTo("OK");
  assertThat(redis.get(key)).isEqualTo(value);
  assertThat(redis.ttl(key)).isGreaterThanOrEqualTo(9);
  assertThat(redis.set(key,value,nx())).isNull();
  assertThat(redis.set(key,value,xx())).isEqualTo("OK");
  assertThat(redis.get(key)).isEqualTo(value);
  redis.del(key);
  assertThat(redis.set(key,value,nx())).isEqualTo("OK");
  assertThat(redis.get(key)).isEqualTo(value);
  redis.del(key);
  assertThat(redis.set(key,value,px(20000).nx())).isEqualTo("OK");
  assertThat(redis.get(key)).isEqualTo(value);
  assertThat(redis.ttl(key) >= 19).isTrue();
}
