private CompilationUnitFactory createFactory(String templateName){
  String targetName=templateName.replace("Commands","AsyncCommands").replace("Redis","NodeSelection");
  File templateFile=new File(Constants.TEMPLATES,"io/lettuce/core/api/" + templateName + ".java");
  String targetPackage="io.lettuce.core.cluster.api.async";
  CompilationUnitFactory factory=new CompilationUnitFactory(templateFile,Constants.SOURCES,targetPackage,targetName,commentMutator(),methodTypeMutator(),methodFilter(),importSupplier(),null,Function.identity());
  factory.keepMethodSignaturesFor(FILTER_METHODS);
  return factory;
}
