@Override public SortedSet<Integer> localDeviceIdsOf(BareJid localUser){
  SortedSet<Integer> deviceIds=new TreeSet<>();
  File userDir=hierarchy.getUserDirectory(localUser);
  File[] list=userDir.listFiles();
  for (  File d : list != null ? list : new File[]{}) {
    if (d.isDirectory()) {
      try {
        deviceIds.add(Integer.parseInt(d.getName()));
      }
 catch (      NumberFormatException e) {
      }
    }
  }
  return deviceIds;
}
