@Override public String toXML(org.jivesoftware.smack.packet.XmlEnvironment enclosingNamespace){
  StringBuilder buf=new StringBuilder();
  buf.append('<').append(ELEMENT_NAME).append(" xmlns=\"").append(NAMESPACE).append('"');
  if (workgroupJID != null) {
    buf.append(" jid=\"").append(workgroupJID).append('"');
  }
  buf.append('>');
  if (maxChats != -1) {
    buf.append("<max-chats>").append(maxChats).append("</max-chats>");
  }
  if (!currentChats.isEmpty()) {
    buf.append("<current-chats xmlns= \"http://jivesoftware.com/protocol/workgroup\">");
    for (Iterator<ChatInfo> it=currentChats.iterator(); it.hasNext(); ) {
      buf.append(it.next().toXML());
    }
    buf.append("</current-chats>");
  }
  buf.append("</").append(this.getElementName()).append("> ");
  return buf.toString();
}
public String toXML(){
  StringBuilder buf=new StringBuilder();
  buf.append("<chat ");
  if (sessionID != null) {
    buf.append(" sessionID=\"").append(sessionID).append('"');
  }
  if (userID != null) {
    buf.append(" userID=\"").append(userID).append('"');
  }
  if (date != null) {
    buf.append(" startTime=\"");
synchronized (UTC_FORMAT) {
      buf.append(UTC_FORMAT.format(date));
    }
    buf.append('"');
  }
  if (email != null) {
    buf.append(" email=\"").append(email).append('"');
  }
  if (username != null) {
    buf.append(" username=\"").append(username).append('"');
  }
  if (question != null) {
    buf.append(" question=\"").append(question).append('"');
  }
  buf.append("/>");
  return buf.toString();
}
