private void interactWithRegistry(Jid registry) throws NotConnectedException, InterruptedException {
  boolean isNew=usedRegistries.add(registry);
  if (!isNew) {
    return;
  }
  IoTProvisioningManager iotProvisioningManager=IoTProvisioningManager.getInstanceFor(connection());
  iotProvisioningManager.sendFriendshipRequestIfRequired(registry.asBareJid());
}
