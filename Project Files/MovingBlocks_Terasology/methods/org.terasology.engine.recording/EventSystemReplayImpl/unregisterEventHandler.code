@Override public void unregisterEventHandler(ComponentSystem handler){
  for (  SetMultimap<Class<? extends Component>,EventSystemReplayImpl.EventHandlerInfo> eventHandlers : componentSpecificHandlers.values()) {
    Iterator<EventHandlerInfo> eventHandlerIterator=eventHandlers.values().iterator();
    while (eventHandlerIterator.hasNext()) {
      EventSystemReplayImpl.EventHandlerInfo eventHandler=eventHandlerIterator.next();
      if (eventHandler.getHandler().equals(handler)) {
        eventHandlerIterator.remove();
      }
    }
  }
  Iterator<EventSystemReplayImpl.EventHandlerInfo> eventHandlerIterator=generalHandlers.values().iterator();
  while (eventHandlerIterator.hasNext()) {
    EventSystemReplayImpl.EventHandlerInfo eventHandler=eventHandlerIterator.next();
    if (eventHandler.getHandler().equals(handler)) {
      eventHandlerIterator.remove();
    }
  }
}
