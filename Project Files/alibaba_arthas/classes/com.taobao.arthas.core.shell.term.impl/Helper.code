/** 
 * @author <a href="mailto:julien@julienviet.com">Julien Viet</a>
 */
public class Helper {
  private static final Logger logger=LoggerFactory.getLogger(Helper.class);
  public static Keymap loadKeymap(){
    return new Keymap(loadInputRcFile());
  }
  public static InputStream loadInputRcFile(){
    InputStream inputrc;
    try {
      String customInputrc=System.getProperty("user.home") + "/.arthas/conf/inputrc";
      inputrc=new FileInputStream(customInputrc);
      logger.info("Loaded custom keymap file from " + customInputrc);
      return inputrc;
    }
 catch (    Throwable e) {
    }
    inputrc=TermServer.class.getClassLoader().getResourceAsStream(ShellServerOptions.DEFAULT_INPUTRC);
    if (inputrc != null) {
      logger.info("Loaded arthas keymap file from " + ShellServerOptions.DEFAULT_INPUTRC);
      return inputrc;
    }
    inputrc=Keymap.class.getResourceAsStream("inputrc");
    if (inputrc != null) {
      return inputrc;
    }
    throw new IllegalStateException("Could not load inputrc file.");
  }
}
