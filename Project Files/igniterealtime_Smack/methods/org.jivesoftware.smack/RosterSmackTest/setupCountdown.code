private void setupCountdown(final CountDownLatch latch,Roster roster){
  roster.addRosterListener(new RosterListener(){
    @Override public void presenceChanged(    Presence presence){
    }
    @Override public void entriesUpdated(    Collection<String> addresses){
      latch.countDown();
    }
    @Override public void entriesDeleted(    Collection<String> addresses){
    }
    @Override public void entriesAdded(    Collection<String> addresses){
    }
  }
);
}
