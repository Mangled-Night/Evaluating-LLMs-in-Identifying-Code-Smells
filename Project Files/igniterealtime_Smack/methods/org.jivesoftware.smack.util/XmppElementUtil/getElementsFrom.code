public static <E extends ExtensionElement>List<E> getElementsFrom(MultiMap<QName,XmlElement> elementMap,Class<E> extensionElementClass){
  QName qname=XmppElementUtil.getQNameFor(extensionElementClass);
  List<XmlElement> extensionElements=elementMap.getAll(qname);
  if (extensionElements.isEmpty()) {
    return Collections.emptyList();
  }
  List<E> res=new ArrayList<>(extensionElements.size());
  for (  XmlElement extensionElement : extensionElements) {
    E e=castOrThrow(extensionElement,extensionElementClass);
    res.add(e);
  }
  return res;
}
