private void onNotification(){
  if (NOTIFICATIONS_UPDATER.incrementAndGet(this) == expectedCount) {
    ScheduledFuture<?> timeoutScheduleFuture=this.timeoutScheduleFuture;
    this.timeoutScheduleFuture=null;
    if (timeoutScheduleFuture != null) {
      timeoutScheduleFuture.cancel(false);
    }
    emit();
  }
}
