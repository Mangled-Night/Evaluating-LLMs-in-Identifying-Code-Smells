/** 
 * Answer an xml representation of the receiver according to the RFC 3921.
 * @return the text xml representation.
 */
public String toXML(){
  StringBuilder buf=new StringBuilder();
  buf.append("<item");
  if (this.isAllow()) {
    buf.append(" action=\"allow\"");
  }
 else {
    buf.append(" action=\"deny\"");
  }
  buf.append(" order=\"").append(getOrder()).append('"');
  if (getType() != null) {
    buf.append(" type=\"").append(getType()).append('"');
  }
  if (getValue() != null) {
    buf.append(" value=\"").append(getValue()).append('"');
  }
  if (isFilterEverything()) {
    buf.append("/>");
  }
 else {
    buf.append('>');
    if (this.isFilterIQ()) {
      buf.append("<iq/>");
    }
    if (this.isFilterMessage()) {
      buf.append("<message/>");
    }
    if (this.isFilterPresenceIn()) {
      buf.append("<presence-in/>");
    }
    if (this.isFilterPresenceOut()) {
      buf.append("<presence-out/>");
    }
    buf.append("</item>");
  }
  return buf.toString();
}
