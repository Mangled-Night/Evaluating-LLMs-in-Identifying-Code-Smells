/** 
 * Sets the name of the group. Changing the group's name is like moving all the group entries of the group to a new group specified by the new name. Since this group won't have entries it will be removed from the roster. This means that all the references to this object will be invalid and will need to be updated to the new group specified by the new name.
 * @param name the name of the group.
 * @throws NotConnectedException if the XMPP connection is not connected.
 * @throws XMPPErrorException if there was an XMPP error returned.
 * @throws NoResponseException if there was no response from the remote entity.
 * @throws InterruptedException if the calling thread was interrupted.
 */
public void setName(String name) throws NotConnectedException, NoResponseException, XMPPErrorException, InterruptedException {
synchronized (entries) {
    for (    RosterEntry entry : entries) {
      RosterPacket packet=new RosterPacket();
      packet.setType(IQ.Type.set);
      RosterPacket.Item item=RosterEntry.toRosterItem(entry);
      item.removeGroupName(this.name);
      item.addGroupName(name);
      packet.addRosterItem(item);
      connection().sendIqRequestAndWaitForResponse(packet);
    }
  }
}
