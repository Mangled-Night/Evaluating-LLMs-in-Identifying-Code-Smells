/** 
 * Constructor to create a Bundle Element from base64 Strings.
 * @param signedPreKeyId id
 * @param signedPreKeyB64 base64 encoded signedPreKey
 * @param signedPreKeySigB64 base64 encoded signedPreKeySignature
 * @param identityKeyB64 base64 encoded identityKey
 * @param preKeysB64 HashMap of base64 encoded preKeys
 */
public OmemoBundleElement(int signedPreKeyId,String signedPreKeyB64,String signedPreKeySigB64,String identityKeyB64,HashMap<Integer,String> preKeysB64){
  if (signedPreKeyId < 0) {
    throw new IllegalArgumentException("signedPreKeyId MUST be greater than or equal to 0.");
  }
  this.signedPreKeyId=signedPreKeyId;
  this.signedPreKeyB64=StringUtils.requireNotNullNorEmpty(signedPreKeyB64,"signedPreKeyB64 MUST NOT be null nor empty.");
  this.signedPreKeySignatureB64=StringUtils.requireNotNullNorEmpty(signedPreKeySigB64,"signedPreKeySigB64 MUST NOT be null nor empty.");
  this.identityKeyB64=StringUtils.requireNotNullNorEmpty(identityKeyB64,"identityKeyB64 MUST NOT be null nor empty.");
  if (preKeysB64 == null || preKeysB64.isEmpty()) {
    throw new IllegalArgumentException("PreKeys MUST NOT be null nor empty.");
  }
  this.preKeysB64=preKeysB64;
}
/** 
 * Constructor to create a Bundle Element from decoded byte arrays.
 * @param signedPreKeyId id
 * @param signedPreKey signedPreKey
 * @param signedPreKeySig signedPreKeySignature
 * @param identityKey identityKey
 * @param preKeys HashMap of preKeys
 */
public OmemoBundleElement(int signedPreKeyId,byte[] signedPreKey,byte[] signedPreKeySig,byte[] identityKey,HashMap<Integer,byte[]> preKeys){
  this(signedPreKeyId,signedPreKey != null ? Base64.encodeToString(signedPreKey) : null,signedPreKeySig != null ? Base64.encodeToString(signedPreKeySig) : null,identityKey != null ? Base64.encodeToString(identityKey) : null,base64EncodePreKeys(preKeys));
  this.signedPreKey=signedPreKey;
  this.signedPreKeySignature=signedPreKeySig;
  this.identityKey=identityKey;
  this.preKeys=preKeys;
}
