protected static Duration applyBounds(Duration calculatedValue,Duration lower,Duration upper){
  if (calculatedValue.compareTo(lower) < 0) {
    return lower;
  }
  if (calculatedValue.compareTo(upper) > 0) {
    return upper;
  }
  return calculatedValue;
}
