public int getHashCode(Calculator hashCodeCalculator){
  if (calculated) {
    return hashcode;
  }
  HashCode.Builder hashCodeBuilder=new HashCode.Builder();
  hashCodeCalculator.calculateHash(hashCodeBuilder);
  calculated=true;
  hashcode=hashCodeBuilder.hashcode;
  return hashcode;
}
