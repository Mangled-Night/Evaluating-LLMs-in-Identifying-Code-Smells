public void assertBT(String tree,List<BehaviorState> result,List<Integer> executed){
  assertBT(tree,result,executed,false);
  constructCalled.clear();
  destructCalled.clear();
  executeCalled.clear();
  nextId2=1;
  assertBT(tree,result,executed,true);
}
public void assertBT(String tree,List<BehaviorState> result,List<Integer> executed,boolean step){
  BehaviorNode node=fromJson(tree);
  node.construct(null);
  List<BehaviorState> actualStates=Lists.newArrayList();
  for (int i=0; i < result.size(); i++) {
    BehaviorState state=node.execute(null);
    actualStates.add(state);
  }
  node.destruct(null);
  assertEquals(result,actualStates);
  assertEquals(executed,executeCalled);
}
