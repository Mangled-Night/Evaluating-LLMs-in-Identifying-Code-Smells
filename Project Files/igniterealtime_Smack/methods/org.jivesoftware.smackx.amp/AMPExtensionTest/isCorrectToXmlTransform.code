@Test public void isCorrectToXmlTransform() throws IOException {
  String correctStanza=toString(CORRECT_SENDING_STANZA_STREAM);
  AMPExtension ext=new AMPExtension();
  ext.addRule(new AMPExtension.Rule(AMPExtension.Action.alert,new AMPDeliverCondition(AMPDeliverCondition.Value.direct)));
  ext.addRule(new AMPExtension.Rule(AMPExtension.Action.drop,new AMPDeliverCondition(AMPDeliverCondition.Value.forward)));
  ext.addRule(new AMPExtension.Rule(AMPExtension.Action.error,new AMPDeliverCondition(AMPDeliverCondition.Value.gateway)));
  ext.addRule(new AMPExtension.Rule(AMPExtension.Action.notify,new AMPDeliverCondition(AMPDeliverCondition.Value.none)));
  ext.addRule(new AMPExtension.Rule(AMPExtension.Action.notify,new AMPDeliverCondition(AMPDeliverCondition.Value.stored)));
  ext.addRule(new AMPExtension.Rule(AMPExtension.Action.notify,new AMPExpireAtCondition("2004-09-10T08:33:14Z")));
  ext.addRule(new AMPExtension.Rule(AMPExtension.Action.notify,new AMPMatchResourceCondition(AMPMatchResourceCondition.Value.any)));
  ext.addRule(new AMPExtension.Rule(AMPExtension.Action.notify,new AMPMatchResourceCondition(AMPMatchResourceCondition.Value.exact)));
  ext.addRule(new AMPExtension.Rule(AMPExtension.Action.notify,new AMPMatchResourceCondition(AMPMatchResourceCondition.Value.other)));
  assertEquals(correctStanza,ext.toXML().toString());
}
