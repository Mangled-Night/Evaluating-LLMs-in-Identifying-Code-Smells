/** 
 * Turn on or turn off the flashlight.
 * @param isOn True to turn on the flashlight, false otherwise.
 */
public static void setFlashlightStatus(final boolean isOn){
  if (!init())   return;
  final Camera.Parameters parameters=mCamera.getParameters();
  if (isOn) {
    if (!FLASH_MODE_TORCH.equals(parameters.getFlashMode())) {
      try {
        mCamera.setPreviewTexture(mSurfaceTexture);
        mCamera.startPreview();
        parameters.setFlashMode(FLASH_MODE_TORCH);
        mCamera.setParameters(parameters);
      }
 catch (      IOException e) {
        e.printStackTrace();
      }
    }
  }
 else {
    if (!FLASH_MODE_OFF.equals(parameters.getFlashMode())) {
      parameters.setFlashMode(FLASH_MODE_OFF);
      mCamera.setParameters(parameters);
    }
  }
}
