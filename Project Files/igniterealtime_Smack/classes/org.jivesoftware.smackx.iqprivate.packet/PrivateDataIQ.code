public class PrivateDataIQ extends IQ {
  public static final String ELEMENT=QUERY_ELEMENT;
  public static final String NAMESPACE="jabber:iq:private";
  private final PrivateData privateData;
  private final String getElement;
  private final String getNamespace;
  public PrivateDataIQ(  PrivateData privateData){
    this(privateData,null,null);
    setType(Type.set);
  }
  public PrivateDataIQ(  String element,  String namespace){
    this(null,element,namespace);
    setType(Type.get);
  }
  private PrivateDataIQ(  PrivateData privateData,  String getElement,  String getNamespace){
    super(ELEMENT,NAMESPACE);
    this.privateData=privateData;
    this.getElement=getElement;
    this.getNamespace=getNamespace;
  }
  public PrivateData getPrivateData(){
    return privateData;
  }
  @Override protected IQChildElementXmlStringBuilder getIQChildElementBuilder(  IQChildElementXmlStringBuilder xml){
    xml.rightAngleBracket();
    if (privateData != null) {
      xml.append(privateData.toXML());
    }
 else {
      xml.halfOpenElement(getElement).xmlnsAttribute(getNamespace).closeEmptyElement();
    }
    return xml;
  }
}
