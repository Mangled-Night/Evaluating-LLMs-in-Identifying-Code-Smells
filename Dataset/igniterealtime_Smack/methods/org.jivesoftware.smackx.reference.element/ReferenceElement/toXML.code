@Override public XmlStringBuilder toXML(org.jivesoftware.smack.packet.XmlEnvironment enclosingNamespace){
  XmlStringBuilder xml=new XmlStringBuilder(this).optIntAttribute(ATTR_BEGIN,begin != null ? begin : -1).optIntAttribute(ATTR_END,end != null ? end : -1).attribute(ATTR_TYPE,type.toString()).optAttribute(ATTR_ANCHOR,anchor).optAttribute(ATTR_URI,uri != null ? uri.toString() : null);
  if (child == null) {
    return xml.closeEmptyElement();
  }
 else {
    return xml.rightAngleBracket().append(child.toXML()).closeElement(this);
  }
}
