public class AcknowledgedExtensionTest {
  String acknowledgedMessageStanza="<message to='northumberland@shakespeare.lit/westminster' id='message-2'>" + "<acknowledged xmlns='urn:xmpp:chat-markers:0' id='message-1'/>" + "</message>";
  String acknowledgedExtension="<acknowledged xmlns='urn:xmpp:chat-markers:0' id='message-1'/>";
  @Test public void checkDisplayedExtension() throws Exception {
    Message message=StanzaBuilder.buildMessage("message-2").to("northumberland@shakespeare.lit/westminster").addExtension(new ChatMarkersElements.AcknowledgedExtension("message-1")).build();
    assertEquals(acknowledgedMessageStanza,message.toXML(StreamOpen.CLIENT_NAMESPACE).toString());
  }
  @Test public void checkDisplayedProvider() throws Exception {
    XmlPullParser parser=PacketParserUtils.getParserFor(acknowledgedExtension);
    AcknowledgedExtension acknowledgedExtension1=new AcknowledgedProvider().parse(parser);
    assertEquals("message-1",acknowledgedExtension1.getId());
    Message message=PacketParserUtils.parseStanza(acknowledgedMessageStanza);
    AcknowledgedExtension acknowledgedExtension2=AcknowledgedExtension.from(message);
    assertEquals("message-1",acknowledgedExtension2.getId());
  }
}
