public void triggerContentEstablished() throws NotConnectedException, InterruptedException, NoResponseException, XMPPErrorException {
  PayloadType bestCommonAudioPt=getMediaNegotiator().getBestCommonAudioPt();
  TransportCandidate bestRemoteCandidate=getTransportNegotiator().getBestRemoteCandidate();
  TransportCandidate acceptedLocalCandidate=getTransportNegotiator().getAcceptedLocalCandidate();
  triggerContentEstablished(bestCommonAudioPt,bestRemoteCandidate,acceptedLocalCandidate);
}
/** 
 * Trigger a session established event.
 * @throws NotConnectedException if the XMPP connection is not connected.
 * @throws InterruptedException if the calling thread was interrupted.
 * @throws XMPPErrorException if there was an XMPP error returned.
 * @throws NoResponseException if there was no response from the remote entity.
 */
private void triggerContentEstablished(PayloadType pt,TransportCandidate rc,TransportCandidate lc) throws NotConnectedException, InterruptedException, NoResponseException, XMPPErrorException {
  JingleSession session=getSession();
  if (session != null) {
    List<JingleListener> listeners=session.getListenersList();
    for (    JingleListener li : listeners) {
      if (li instanceof JingleSessionListener) {
        JingleSessionListener sli=(JingleSessionListener)li;
        sli.sessionEstablished(pt,rc,lc,session);
      }
    }
  }
  if (mediaNeg.getMediaManager() != null) {
    rc.removeCandidateEcho();
    lc.removeCandidateEcho();
    jingleMediaSession=getMediaNegotiator().getMediaManager().createMediaSession(pt,rc,lc,session);
    jingleMediaSession.addMediaReceivedListener(session);
    if (jingleMediaSession != null) {
      jingleMediaSession.startTransmit();
      jingleMediaSession.startReceive();
      for (      TransportCandidate candidate : getTransportNegotiator().getOfferedCandidates())       candidate.removeCandidateEcho();
    }
    JingleMediaManager mediaManager=getMediaNegotiator().getMediaManager();
    getSession().addJingleMediaSession(mediaManager.getName(),jingleMediaSession);
  }
}
