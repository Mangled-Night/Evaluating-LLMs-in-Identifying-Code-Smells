/** 
 * Changes held item entity. <p> Detaches old held item and removes its components. Adds components to new held item and attaches it to the mount point entity.
 */
private void linkHeldItemLocationForRemotePlayer(EntityRef newItem,EntityRef player){
  if (relatesToLocalPlayer(player)) {
    logger.debug("linkHeldItemLocationForRemotePlayer called with an entity that relates to the local player," + " ignoring{}",player);
    return;
  }
  EntityRef currentHeldItem=EntityRef.NULL;
  for (  EntityRef heldItemCandidate : entityManager.getEntitiesWith(ItemIsRemotelyHeldComponent.class)) {
    EntityRef remotePlayerCandidate=heldItemCandidate.getComponent(ItemIsRemotelyHeldComponent.class).remotePlayer;
    logger.debug("For held item candidate {} got its player candidate as {}",heldItemCandidate,remotePlayerCandidate);
    if (remotePlayerCandidate.equals(player)) {
      logger.debug("Thinking we found a match with player {} so counting this held item as relevant for " + "processing",player);
      currentHeldItem=heldItemCandidate;
      if (newItem.equals(EntityRef.NULL)) {
        logger.debug("Found an existing held item but the new request was to no longer hold anything so " + "destroying {}",currentHeldItem);
        currentHeldItem.destroy();
        return;
      }
      break;
    }
  }
  if (newItem != null && !newItem.equals(EntityRef.NULL) && !newItem.equals(currentHeldItem)) {
    RemotePersonHeldItemMountPointComponent mountPointComponent=player.getComponent(RemotePersonHeldItemMountPointComponent.class);
    if (mountPointComponent != null) {
      if (currentHeldItem != EntityRef.NULL) {
        currentHeldItem.destroy();
      }
      currentHeldItem=entityManager.create();
      logger.debug("linkHeldItemLocationForRemotePlayer is now creating a new held item {}",currentHeldItem);
      for (      Component component : newItem.iterateComponents()) {
        if (component instanceof VisualComponent && !(component instanceof FirstPersonHeldItemTransformComponent)) {
          currentHeldItem.addComponent(component);
        }
      }
      currentHeldItem.addComponent(new LocationComponent());
      ItemIsRemotelyHeldComponent itemIsRemotelyHeldComponent=new ItemIsRemotelyHeldComponent();
      itemIsRemotelyHeldComponent.remotePlayer=player;
      currentHeldItem.addComponent(itemIsRemotelyHeldComponent);
      RemotePersonHeldItemTransformComponent heldItemTransformComponent=currentHeldItem.getComponent(RemotePersonHeldItemTransformComponent.class);
      if (heldItemTransformComponent == null) {
        heldItemTransformComponent=new RemotePersonHeldItemTransformComponent();
        currentHeldItem.addComponent(heldItemTransformComponent);
      }
      Location.attachChild(mountPointComponent.mountPointEntity,currentHeldItem,heldItemTransformComponent.translate,new Quaternionf().rotationYXZ(Math.toRadians(heldItemTransformComponent.rotateDegrees.y),Math.toRadians(heldItemTransformComponent.rotateDegrees.x),Math.toRadians(heldItemTransformComponent.rotateDegrees.z)),heldItemTransformComponent.scale);
    }
  }
 else {
    logger.info("Somehow ended up in the else during linkHeldItemLocationForRemotePlayer - current item was " + "{} and new item {}",currentHeldItem,newItem);
  }
}
