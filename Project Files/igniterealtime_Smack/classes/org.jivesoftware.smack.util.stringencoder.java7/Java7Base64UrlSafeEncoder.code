/** 
 * A Base 64 encoding implementation that generates filename and Url safe encodings. <p> Note: This does NOT produce standard Base 64 encodings, but a variant as defined in Section 4 of RFC3548: <a href="http://www.faqs.org/rfcs/rfc3548.html">http://www.faqs.org/rfcs/rfc3548.html</a>. </p>
 * @author Robin Collier
 */
public final class Java7Base64UrlSafeEncoder implements StringEncoder<String> {
  private static final Java7Base64UrlSafeEncoder instance=new Java7Base64UrlSafeEncoder();
  private final Base64.Encoder encoder;
  private final Base64.Decoder decoder;
  private Java7Base64UrlSafeEncoder(){
    encoder=Base64.getUrlEncoder();
    decoder=Base64.getUrlDecoder();
  }
  public static Java7Base64UrlSafeEncoder getInstance(){
    return instance;
  }
  @Override public String encode(  String s){
    byte[] bytes=s.getBytes(StandardCharsets.UTF_8);
    return encoder.encodeToString(bytes);
  }
  @Override public String decode(  String s){
    byte[] bytes=decoder.decode(s);
    return new String(bytes,StandardCharsets.UTF_8);
  }
}
