/** 
 * Return the blur bitmap fast. <p>zoom out, blur, zoom in</p>
 * @param src    The source of bitmap.
 * @param scale  The scale(0...1).
 * @param radius The radius(0...25).
 * @return the blur bitmap
 */
public static Bitmap fastBlur(final Bitmap src,@FloatRange(from=0,to=1,fromInclusive=false) final float scale,@FloatRange(from=0,to=25,fromInclusive=false) final float radius){
  return fastBlur(src,scale,radius,false,false);
}
/** 
 * Return the blur bitmap fast. <p>zoom out, blur, zoom in</p>
 * @param src    The source of bitmap.
 * @param scale  The scale(0...1).
 * @param radius The radius(0...25).
 * @return the blur bitmap
 */
public static Bitmap fastBlur(final Bitmap src,@FloatRange(from=0,to=1,fromInclusive=false) final float scale,@FloatRange(from=0,to=25,fromInclusive=false) final float radius,final boolean recycle){
  return fastBlur(src,scale,radius,recycle,false);
}
/** 
 * Return the blur bitmap fast. <p>zoom out, blur, zoom in</p>
 * @param src           The source of bitmap.
 * @param scale         The scale(0...1).
 * @param radius        The radius(0...25).
 * @param recycle       True to recycle the source of bitmap, false otherwise.
 * @param isReturnScale True to return the scale blur bitmap, false otherwise.
 * @return the blur bitmap
 */
public static Bitmap fastBlur(final Bitmap src,@FloatRange(from=0,to=1,fromInclusive=false) final float scale,@FloatRange(from=0,to=25,fromInclusive=false) final float radius,final boolean recycle,final boolean isReturnScale){
  if (isEmptyBitmap(src))   return null;
  int width=src.getWidth();
  int height=src.getHeight();
  Matrix matrix=new Matrix();
  matrix.setScale(scale,scale);
  Bitmap scaleBitmap=Bitmap.createBitmap(src,0,0,src.getWidth(),src.getHeight(),matrix,true);
  Paint paint=new Paint(Paint.FILTER_BITMAP_FLAG | Paint.ANTI_ALIAS_FLAG);
  Canvas canvas=new Canvas();
  PorterDuffColorFilter filter=new PorterDuffColorFilter(Color.TRANSPARENT,PorterDuff.Mode.SRC_ATOP);
  paint.setColorFilter(filter);
  canvas.scale(scale,scale);
  canvas.drawBitmap(scaleBitmap,0,0,paint);
  if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.JELLY_BEAN_MR1) {
    scaleBitmap=renderScriptBlur(scaleBitmap,radius,recycle);
  }
 else {
    scaleBitmap=stackBlur(scaleBitmap,(int)radius,recycle);
  }
  if (scale == 1 || isReturnScale) {
    if (recycle && !src.isRecycled() && scaleBitmap != src)     src.recycle();
    return scaleBitmap;
  }
  Bitmap ret=Bitmap.createScaledBitmap(scaleBitmap,width,height,true);
  if (!scaleBitmap.isRecycled())   scaleBitmap.recycle();
  if (recycle && !src.isRecycled() && ret != src)   src.recycle();
  return ret;
}
