/** 
 * Atomically add the supplied value.
 * @param increment The value to add to the sequence.
 * @return The value after the increment.
 */
public long addAndGet(final long increment){
  long currentValue;
  long newValue;
  do {
    currentValue=get();
    newValue=currentValue + increment;
  }
 while (!compareAndSet(currentValue,newValue));
  return newValue;
}
