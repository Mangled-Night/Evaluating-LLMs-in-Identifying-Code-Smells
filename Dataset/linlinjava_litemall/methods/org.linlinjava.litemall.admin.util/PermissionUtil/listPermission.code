public static List<Permission> listPermission(ApplicationContext context,String basicPackage){
  Map<String,Object> map=context.getBeansWithAnnotation(Controller.class);
  List<Permission> permissions=new ArrayList<>();
  for (  Map.Entry<String,Object> entry : map.entrySet()) {
    Object bean=entry.getValue();
    if (!StringUtils.contains(ClassUtils.getPackageName(bean.getClass()),basicPackage)) {
      continue;
    }
    Class<?> clz=bean.getClass();
    Class controllerClz=clz.getSuperclass();
    RequestMapping clazzRequestMapping=AnnotationUtils.findAnnotation(controllerClz,RequestMapping.class);
    List<Method> methods=MethodUtils.getMethodsListWithAnnotation(controllerClz,RequiresPermissions.class);
    for (    Method method : methods) {
      RequiresPermissions requiresPermissions=AnnotationUtils.getAnnotation(method,RequiresPermissions.class);
      RequiresPermissionsDesc requiresPermissionsDesc=AnnotationUtils.getAnnotation(method,RequiresPermissionsDesc.class);
      if (requiresPermissions == null || requiresPermissionsDesc == null) {
        continue;
      }
      String api="";
      if (clazzRequestMapping != null) {
        api=clazzRequestMapping.value()[0];
      }
      PostMapping postMapping=AnnotationUtils.getAnnotation(method,PostMapping.class);
      if (postMapping != null) {
        api="POST " + api + postMapping.value()[0];
        Permission permission=new Permission();
        permission.setRequiresPermissions(requiresPermissions);
        permission.setRequiresPermissionsDesc(requiresPermissionsDesc);
        permission.setApi(api);
        permissions.add(permission);
        continue;
      }
      GetMapping getMapping=AnnotationUtils.getAnnotation(method,GetMapping.class);
      if (getMapping != null) {
        api="GET " + api + getMapping.value()[0];
        Permission permission=new Permission();
        permission.setRequiresPermissions(requiresPermissions);
        permission.setRequiresPermissionsDesc(requiresPermissionsDesc);
        permission.setApi(api);
        permissions.add(permission);
        continue;
      }
      throw new RuntimeException("目前权限管理应该在method的前面使用GetMapping注解或者PostMapping注解");
    }
  }
  return permissions;
}
