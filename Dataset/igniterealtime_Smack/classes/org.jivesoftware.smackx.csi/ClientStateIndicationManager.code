/** 
 * Manager for Client State Indication.
 * @see <a href="http://xmpp.org/extensions/xep-0352.html">XEP-0352: Client State Indication</a>
 */
public class ClientStateIndicationManager {
  public static void active(  XMPPConnection connection) throws NotConnectedException, InterruptedException {
    throwIaeIfNotSupported(connection);
    connection.sendNonza(ClientStateIndication.Active.INSTANCE);
  }
  public static void inactive(  XMPPConnection connection) throws NotConnectedException, InterruptedException {
    throwIaeIfNotSupported(connection);
    connection.sendNonza(ClientStateIndication.Inactive.INSTANCE);
  }
  public static boolean isSupported(  XMPPConnection connection){
    return connection.hasFeature(ClientStateIndication.Feature.ELEMENT,ClientStateIndication.NAMESPACE);
  }
  private static void throwIaeIfNotSupported(  XMPPConnection connection){
    if (!isSupported(connection)) {
      throw new IllegalArgumentException("Client State Indication not supported by server");
    }
  }
}
