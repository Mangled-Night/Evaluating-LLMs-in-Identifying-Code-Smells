/** 
 * Return all fragments in stack in manager.
 * @param fm The manager of fragment.
 * @return all fragments in stack in manager
 */
public static List<FragmentNode> getAllFragmentsInStack(@NonNull final FragmentManager fm){
  return getAllFragmentsInStack(fm,new ArrayList<FragmentNode>());
}
private static List<FragmentNode> getAllFragmentsInStack(@NonNull final FragmentManager fm,final List<FragmentNode> result){
  List<Fragment> fragments=getFragments(fm);
  for (int i=fragments.size() - 1; i >= 0; --i) {
    Fragment fragment=fragments.get(i);
    if (fragment != null) {
      Bundle args=fragment.getArguments();
      if (args != null && args.getBoolean(ARGS_IS_ADD_STACK)) {
        result.add(new FragmentNode(fragment,getAllFragmentsInStack(fragment.getChildFragmentManager(),new ArrayList<FragmentNode>())));
      }
    }
  }
  return result;
}
