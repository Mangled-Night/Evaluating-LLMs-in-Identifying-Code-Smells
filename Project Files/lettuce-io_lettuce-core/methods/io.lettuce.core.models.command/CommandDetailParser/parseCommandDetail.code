private static CommandDetail parseCommandDetail(Collection<?> collection){
  Iterator<?> iterator=collection.iterator();
  String name=(String)iterator.next();
  int arity=Math.toIntExact(getLongFromIterator(iterator,0));
  Object flags=iterator.next();
  int firstKey=Math.toIntExact(getLongFromIterator(iterator,0));
  int lastKey=Math.toIntExact(getLongFromIterator(iterator,0));
  int keyStepCount=Math.toIntExact(getLongFromIterator(iterator,0));
  Object categories=iterator.hasNext() ? iterator.next() : null;
  Set<CommandDetail.Flag> parsedFlags=parseFlags(flags);
  Set<AclCategory> parsedAclCategories=parseAclCategories(categories);
  return new CommandDetail(name,arity,parsedFlags,firstKey,lastKey,keyStepCount,parsedAclCategories);
}
