@Override public void update(float delta){
  if (!localPlayerInitialized && localPlayer.isValid()) {
    localPlayer.getClientEntity().send(new LocalPlayerInitializedEvent());
    localPlayerInitialized=true;
  }
  if (localPlayerInitialized) {
    EntityRef entity=localPlayer.getCharacterEntity();
    CharacterMovementComponent characterMovementComponent=entity.getComponent(CharacterMovementComponent.class);
    processInput(entity,characterMovementComponent);
    updateCamera(characterMovementComponent,localPlayer.getViewPosition(new Vector3f()),localPlayer.getViewRotation(new Quaternionf()));
  }
}
