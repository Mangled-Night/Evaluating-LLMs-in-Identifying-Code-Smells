private InitialDirContext createContext(Properties properties){
  LettuceAssert.notNull(properties,"Properties must not be null");
  Properties hashtable=(Properties)properties.clone();
  hashtable.put(InitialContext.INITIAL_CONTEXT_FACTORY,CTX_FACTORY_NAME);
  if (!hashtable.containsKey(INITIAL_TIMEOUT)) {
    hashtable.put(INITIAL_TIMEOUT,DEFAULT_INITIAL_TIMEOUT);
  }
  if (!hashtable.containsKey(LOOKUP_RETRIES)) {
    hashtable.put(LOOKUP_RETRIES,DEFAULT_RETRIES);
  }
  try {
    return new InitialDirContext(hashtable);
  }
 catch (  NamingException e) {
    throw new IllegalStateException(e);
  }
}
