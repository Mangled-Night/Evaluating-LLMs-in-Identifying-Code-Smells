private static Set<String> split(String input){
  return split(input,Function.identity());
}
private static Set<String> split(String input,Function<String,String> transformer){
  if (input == null) {
    return null;
  }
  String[] inputArray=input.split(",");
  Set<String> res=new HashSet<>(inputArray.length);
  for (  String s : inputArray) {
    s=transformer.apply(s);
    boolean newElement=res.add(s);
    if (!newElement) {
      throw new IllegalArgumentException("The argument '" + s + "' was already provided.");
    }
  }
  return res;
}
