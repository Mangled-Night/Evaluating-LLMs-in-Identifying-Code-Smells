@Test public void multipleMessageBodiesTest() throws IOException, SAXException {
  final String messageBody1="This is a test of the emergency broadcast system, 1.";
  final String lang2="ru";
  final String messageBody2="This is a test of the emergency broadcast system, 2.";
  final String lang3="sp";
  final String messageBody3="This is a test of the emergency broadcast system, 3.";
  StringBuilder controlBuilder=new StringBuilder();
  controlBuilder.append("<message>").append("<body>").append(messageBody1).append("</body>").append("<body xml:lang=\"").append(lang2).append("\">").append(messageBody2).append("</body>").append("<body xml:lang=\"").append(lang3).append("\">").append(messageBody3).append("</body>").append("</message>");
  String control=controlBuilder.toString();
  Message message=StanzaBuilder.buildMessage().addBody(null,messageBody1).addBody(lang2,messageBody2).addBody(lang3,messageBody3).build();
  assertXmlSimilar(control,message.toXML(StreamOpen.CLIENT_NAMESPACE));
  Collection<String> languages=message.getBodyLanguages();
  List<String> controlLanguages=new ArrayList<>();
  controlLanguages.add(lang2);
  controlLanguages.add(lang3);
  controlLanguages.removeAll(languages);
  assertTrue(controlLanguages.size() == 0);
}
