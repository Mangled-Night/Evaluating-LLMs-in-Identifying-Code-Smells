/** 
 * Initializes the OmemoManager. This method must be called before the manager can be used.
 * @throws CorruptedOmemoKeyException if the OMEMO key is corrupted.
 * @throws InterruptedException if the calling thread was interrupted.
 * @throws SmackException.NoResponseException if there was no response from the remote entity.
 * @throws SmackException.NotConnectedException if the XMPP connection is not connected.
 * @throws XMPPException.XMPPErrorException if there was an XMPP error returned.
 * @throws SmackException.NotLoggedInException if the XMPP connection is not authenticated.
 * @throws PubSubException.NotALeafNodeException if a PubSub leaf node operation was attempted on a non-leaf node.
 * @throws IOException if an I/O error occurred.
 */
public synchronized void initialize() throws SmackException.NotLoggedInException, CorruptedOmemoKeyException, InterruptedException, SmackException.NoResponseException, SmackException.NotConnectedException, XMPPException.XMPPErrorException, PubSubException.NotALeafNodeException, IOException {
  if (!connection().isAuthenticated()) {
    throw new SmackException.NotLoggedInException();
  }
  if (getTrustCallback() == null) {
    throw new IllegalStateException("No TrustCallback set.");
  }
  getOmemoService().init(new LoggedInOmemoManager(this));
}
