@Override public MethodVisitor visitMethod(int access,String name,String descriptor,String signature,String[] exceptions){
  if (!"init".equals(name)) {
    return super.visitMethod(access,name,descriptor,signature,exceptions);
  }
  if (cv == null)   return null;
  MethodVisitor mv=cv.visitMethod(access,name,descriptor,signature,exceptions);
  mv=new AdviceAdapter(Opcodes.ASM5,mv,access,name,descriptor){
    @Override public AnnotationVisitor visitAnnotation(    String desc,    boolean visible){
      return super.visitAnnotation(desc,visible);
    }
    @Override protected void onMethodEnter(){
      super.onMethodEnter();
    }
    @Override protected void onMethodExit(    int opcode){
      super.onMethodExit(opcode);
      for (      Map.Entry<String,List<BusInfo>> busEntry : mBusMap.entrySet()) {
        List<BusInfo> infoList=busEntry.getValue();
        for (        BusInfo busInfo : infoList) {
          if (!busInfo.isParamSizeNoMoreThanOne)           continue;
          mv.visitVarInsn(ALOAD,0);
          mv.visitLdcInsn(busEntry.getKey());
          mv.visitLdcInsn(busInfo.className);
          mv.visitLdcInsn(busInfo.funName);
          if (busInfo.paramsInfo.size() == 1) {
            mv.visitLdcInsn(busInfo.paramsInfo.get(0).className);
            mv.visitLdcInsn(busInfo.paramsInfo.get(0).name);
          }
 else {
            mv.visitLdcInsn("");
            mv.visitLdcInsn("");
          }
          mv.visitInsn(busInfo.sticky ? ICONST_1 : ICONST_0);
          mv.visitLdcInsn(busInfo.threadMode);
          mv.visitIntInsn(SIPUSH,busInfo.priority);
          mv.visitMethodInsn(INVOKESPECIAL,mBusUtilsClass,"registerBus","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;ZLjava/lang/String;I)V",false);
        }
      }
    }
  }
;
  return mv;
}
