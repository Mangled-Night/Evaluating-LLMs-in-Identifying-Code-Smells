public static void main(String[] args){
  final LinkedTransferQueue<String> queue=new LinkedTransferQueue<String>();
  new Thread(){
    @Override public void run(){
      for (; ; ) {
        long put=putCount;
        long take=takeCount;
        try {
          Thread.sleep(5000L);
        }
 catch (        InterruptedException e) {
          e.printStackTrace();
        }
        System.out.println("put:" + (putCount - put) / 5 + " take:" + (takeCount - take) / 5);
      }
    }
  }
.start();
  new Thread(){
    @Override public void run(){
      for (; ; ) {
        if (queue.offer("A")) {
          putCount++;
        }
      }
    }
  }
.start();
  new Thread(){
    @Override public void run(){
      for (; ; ) {
        if (queue.poll() != null) {
          takeCount++;
        }
      }
    }
  }
.start();
}
