private void collect(Node x,StringBuilder prefix,Queue<String> results){
  if (x == null)   return;
  if (x.isString)   results.enqueue(prefix.toString());
  for (char c=0; c < R; c++) {
    prefix.append(c);
    collect(x.next[c],prefix,results);
    prefix.deleteCharAt(prefix.length() - 1);
  }
}
private void collect(Node x,StringBuilder prefix,String pattern,Queue<String> results){
  if (x == null)   return;
  int d=prefix.length();
  if (d == pattern.length() && x.isString)   results.enqueue(prefix.toString());
  if (d == pattern.length())   return;
  char c=pattern.charAt(d);
  if (c == '.') {
    for (char ch=0; ch < R; ch++) {
      prefix.append(ch);
      collect(x.next[ch],prefix,pattern,results);
      prefix.deleteCharAt(prefix.length() - 1);
    }
  }
 else {
    prefix.append(c);
    collect(x.next[c],prefix,pattern,results);
    prefix.deleteCharAt(prefix.length() - 1);
  }
}
