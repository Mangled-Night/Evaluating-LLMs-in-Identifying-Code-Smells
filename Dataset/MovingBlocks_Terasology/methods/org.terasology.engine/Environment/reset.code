protected void reset(Set<Name> moduleNames) throws Exception {
  this.context=new ContextImpl();
  RecordAndReplayCurrentStatus recordAndReplayCurrentStatus=new RecordAndReplayCurrentStatus();
  context.put(RecordAndReplayCurrentStatus.class,recordAndReplayCurrentStatus);
  CoreRegistry.setContext(context);
  setupPathManager();
  Bullet.init(true,false);
  setupConfig();
  setupModuleManager(moduleNames);
  setupDisplay();
  setupAudio();
  AssetManager assetManager=setupAssetManager();
  setupBlockManager(assetManager);
  setupExtraDataManager(context);
  setupCollisionManager();
  setupNetwork();
  setupEntitySystem();
  setupStorageManager();
  setupComponentManager();
  setupWorldProvider();
  setupCelestialSystem();
  loadPrefabs();
}
