/** 
 * Convert a Java memory parameter passed to -Xmx (such as 300m or 1g) to a number of mebibytes.
 */
public int memoryStringToMb(String str){
  return (int)(JavaUtils.byteStringAsBytes(str) / 1024 / 1024);
}
