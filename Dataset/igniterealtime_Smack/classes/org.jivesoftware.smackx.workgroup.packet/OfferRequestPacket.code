public static class OfferRequestPacket extends IQ {
  public static final String ELEMENT="offer";
  public static final String NAMESPACE="http://jabber.org/protocol/workgroup";
  private final int timeout;
  private final Jid userID;
  private final Jid userJID;
  private final Map<String,List<String>> metaData;
  private final String sessionID;
  private final OfferContent content;
  public OfferRequestPacket(  Jid userJID,  Jid userID,  int timeout,  Map<String,List<String>> metaData,  String sessionID,  OfferContent content){
    super(ELEMENT,NAMESPACE);
    this.userJID=userJID;
    this.userID=userID;
    this.timeout=timeout;
    this.metaData=metaData;
    this.sessionID=sessionID;
    this.content=content;
  }
  /** 
 * Returns the userID, which is either the same as the userJID or a special value that the user provided as part of their "join queue" request.
 * @return the user ID.
 */
  public Jid getUserID(){
    return userID;
  }
  /** 
 * The JID of the user that made the "join queue" request.
 * @return the user JID.
 */
  public Jid getUserJID(){
    return userJID;
  }
  /** 
 * Returns the session ID associated with the request and ensuing chat. If the offer does not contain a session ID, <code>null</code> will be returned.
 * @return the session id associated with the request.
 */
  public String getSessionID(){
    return sessionID;
  }
  /** 
 * Returns the number of seconds the agent has to accept the offer before it times out.
 * @return the offer timeout (in seconds).
 */
  public int getTimeout(){
    return this.timeout;
  }
  public OfferContent getContent(){
    return content;
  }
  /** 
 * Returns any meta-data associated with the offer.
 * @return meta-data associated with the offer.
 */
  public Map<String,List<String>> getMetaData(){
    return this.metaData;
  }
  @Override protected IQChildElementXmlStringBuilder getIQChildElementBuilder(  IQChildElementXmlStringBuilder buf){
    buf.append(" jid=\"").append(userJID).append("\">");
    buf.append("<timeout>").append(Integer.toString(timeout)).append("</timeout>");
    if (sessionID != null) {
      buf.append('<').append(SessionID.ELEMENT_NAME);
      buf.append(" session=\"");
      buf.append(getSessionID()).append("\" xmlns=\"");
      buf.append(SessionID.NAMESPACE).append("\"/>");
    }
    if (metaData != null) {
      buf.append(MetaDataUtils.serializeMetaData(metaData));
    }
    if (userID != null) {
      buf.append('<').append(UserID.ELEMENT_NAME);
      buf.append(" id=\"");
      buf.append(userID).append("\" xmlns=\"");
      buf.append(UserID.NAMESPACE).append("\"/>");
    }
    return buf;
  }
}
