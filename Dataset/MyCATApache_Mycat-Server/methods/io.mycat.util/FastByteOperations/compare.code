abstract public int compare(byte[] buffer1,int offset1,int length1,byte[] buffer2,int offset2,int length2);
abstract public int compare(ByteBuffer buffer1,byte[] buffer2,int offset2,int length2);
abstract public int compare(ByteBuffer buffer1,ByteBuffer buffer2);
public int compare(byte[] buffer1,int offset1,int length1,byte[] buffer2,int offset2,int length2){
  return compareTo(buffer1,BYTE_ARRAY_BASE_OFFSET + offset1,length1,buffer2,BYTE_ARRAY_BASE_OFFSET + offset2,length2);
}
public int compare(ByteBuffer buffer1,byte[] buffer2,int offset2,int length2){
  Object obj1;
  long offset1;
  if (buffer1.hasArray()) {
    obj1=buffer1.array();
    offset1=BYTE_ARRAY_BASE_OFFSET + buffer1.arrayOffset();
  }
 else {
    obj1=null;
    offset1=theUnsafe.getLong(buffer1,DIRECT_BUFFER_ADDRESS_OFFSET);
  }
  int length1;
{
    int position=buffer1.position();
    int limit=buffer1.limit();
    length1=limit - position;
    offset1+=position;
  }
  return compareTo(obj1,offset1,length1,buffer2,BYTE_ARRAY_BASE_OFFSET + offset2,length2);
}
public int compare(ByteBuffer buffer1,ByteBuffer buffer2){
  return compareTo(buffer1,buffer2);
}
@Override public int compare(byte[] buffer1,int offset1,int length1,byte[] buffer2,int offset2,int length2){
  if (buffer1 == buffer2 && offset1 == offset2 && length1 == length2) {
    return 0;
  }
  int end1=offset1 + length1;
  int end2=offset2 + length2;
  for (int i=offset1, j=offset2; i < end1 && j < end2; i++, j++) {
    int a=(buffer1[i] & 0xff);
    int b=(buffer2[j] & 0xff);
    if (a != b) {
      return a - b;
    }
  }
  return length1 - length2;
}
public int compare(ByteBuffer buffer1,byte[] buffer2,int offset2,int length2){
  if (buffer1.hasArray()) {
    return compare(buffer1.array(),buffer1.arrayOffset() + buffer1.position(),buffer1.remaining(),buffer2,offset2,length2);
  }
  return compare(buffer1,ByteBuffer.wrap(buffer2,offset2,length2));
}
public int compare(ByteBuffer buffer1,ByteBuffer buffer2){
  int end1=buffer1.limit();
  int end2=buffer2.limit();
  for (int i=buffer1.position(), j=buffer2.position(); i < end1 && j < end2; i++, j++) {
    int a=(buffer1.get(i) & 0xff);
    int b=(buffer2.get(j) & 0xff);
    if (a != b) {
      return a - b;
    }
  }
  return buffer1.remaining() - buffer2.remaining();
}
