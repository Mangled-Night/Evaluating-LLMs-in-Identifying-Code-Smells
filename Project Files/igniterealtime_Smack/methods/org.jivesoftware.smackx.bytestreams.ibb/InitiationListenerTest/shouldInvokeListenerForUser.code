/** 
 * If a listener for a specific user in registered it should be notified on incoming requests for that user.
 * @throws Exception should not happen
 */
@Test public void shouldInvokeListenerForUser() throws Exception {
  InBandBytestreamListener listener=mock(InBandBytestreamListener.class);
  byteStreamManager.addIncomingBytestreamListener(listener,initiatorJID);
  initiationListener.handleIQRequest(initBytestream);
  Thread.sleep(200);
  ArgumentCaptor<BytestreamRequest> byteStreamRequest=ArgumentCaptor.forClass(BytestreamRequest.class);
  verify(listener).incomingBytestreamRequest(byteStreamRequest.capture());
  assertEquals(initiatorJID,byteStreamRequest.getValue().getFrom());
}
