public void testDiscoverMUCService(){
  try {
    Collection<String> services=MultiUserChat.getXMPPServiceDomains(getConnection(1));
    assertFalse("No MUC service was found",services.isEmpty());
    Collection<HostedRoom> rooms=MultiUserChat.getHostedRooms(getConnection(1),services.toArray(new String[0])[0]);
    assertFalse("No room was found",rooms.isEmpty());
    boolean found=false;
    for (    Object room1 : rooms) {
      HostedRoom hostedRoom=(HostedRoom)room1;
      if (room.equals(hostedRoom.getJid())) {
        found=true;
        break;
      }
    }
    assertTrue("JID of room was not found",found);
  }
 catch (  XMPPException e) {
    e.printStackTrace();
    fail(e.getMessage());
  }
}
