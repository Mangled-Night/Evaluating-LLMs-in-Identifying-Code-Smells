@ForceBlockActive public class SkeletalMeshComponent implements VisualComponent<SkeletalMeshComponent> {
  @Replicate public SkeletalMesh mesh;
  @Replicate public Material material;
  /** 
 * Should not be set manually. Stores the data of the selected animation variation.
 */
  @Replicate public MeshAnimation animation;
  /** 
 * If true, an animation from  {@link #animationPool} will be played when the current animation is done.
 */
  @Replicate public boolean loop;
  /** 
 * When the current animation is done and loop is true then a random animation will be picked from this pool of animations.
 */
  @Replicate public List<MeshAnimation> animationPool=Lists.newArrayList();
  public float animationRate=1.0f;
  @Range(min=-2.5f,max=2.5f) public float heightOffset;
  @Owns public Map<String,EntityRef> boneEntities;
  public EntityRef rootBone=EntityRef.NULL;
  public float animationTime;
  @Replicate public Vector3f scale=new Vector3f(1,1,1);
  @Replicate public Vector3f translate=new Vector3f();
  @Replicate public Color color=Color.WHITE;
  @Override public void copyFrom(  SkeletalMeshComponent other){
    this.mesh=other.mesh;
    this.material=other.material;
    this.animation=other.animation;
    this.loop=other.loop;
    this.animationPool=Lists.newArrayList(other.animationPool);
    this.animationRate=other.animationRate;
    this.heightOffset=other.heightOffset;
    this.boneEntities=Maps.newHashMap(other.boneEntities);
    this.rootBone=other.rootBone;
    this.animationTime=other.animationTime;
    this.scale=new Vector3f(other.scale);
    this.translate=new Vector3f(other.translate);
    this.color=new Color(other.color);
  }
}
