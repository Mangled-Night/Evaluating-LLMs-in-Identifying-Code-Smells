@Override public Rectanglei addRightFloat(int y,int width,int height){
  int posY=y;
  while (true) {
    int availableWidth=getAvailableWidthAt(posY);
    if (availableWidth >= width) {
      int x=0;
      Rectanglei lastRight=findLastAtYPosition(rightFloats,posY);
      if (lastRight != null) {
        x=lastRight.minX;
      }
      Rectanglei floatRect=RectUtility.createFromMinAndSize(x - width,posY,width,height);
      rightFloats.add(floatRect);
      return floatRect;
    }
 else {
      Rectanglei lastLeft=findLastAtYPosition(leftFloats,posY);
      Rectanglei lastRight=findLastAtYPosition(rightFloats,posY);
      if (lastLeft != null && lastRight != null) {
        posY=Math.min(lastLeft.maxY,lastRight.maxY);
      }
 else       if (lastLeft != null) {
        posY=lastLeft.maxY;
      }
 else       if (lastRight != null) {
        posY=lastRight.maxY;
      }
    }
  }
}
