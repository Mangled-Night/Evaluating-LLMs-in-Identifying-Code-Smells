@Override public void draw(@NonNull final Canvas canvas,final CharSequence text,final int start,final int end,final float x,final int top,final int y,final int bottom,@NonNull final Paint paint){
  Drawable d=getCachedDrawable();
  Rect rect=d.getBounds();
  canvas.save();
  float transY;
  int lineHeight=bottom - top;
  if (rect.height() < lineHeight) {
    if (mVerticalAlignment == ALIGN_TOP) {
      transY=top;
    }
 else     if (mVerticalAlignment == ALIGN_CENTER) {
      transY=(bottom + top - rect.height()) / 2;
    }
 else     if (mVerticalAlignment == ALIGN_BASELINE) {
      transY=y - rect.height();
    }
 else {
      transY=bottom - rect.height();
    }
    canvas.translate(x,transY);
  }
 else {
    canvas.translate(x,top);
  }
  d.draw(canvas);
  canvas.restore();
}
