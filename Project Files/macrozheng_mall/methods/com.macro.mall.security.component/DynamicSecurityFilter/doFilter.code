@Override public void doFilter(ServletRequest servletRequest,ServletResponse servletResponse,FilterChain filterChain) throws IOException, ServletException {
  HttpServletRequest request=(HttpServletRequest)servletRequest;
  FilterInvocation fi=new FilterInvocation(servletRequest,servletResponse,filterChain);
  if (request.getMethod().equals(HttpMethod.OPTIONS.toString())) {
    fi.getChain().doFilter(fi.getRequest(),fi.getResponse());
    return;
  }
  PathMatcher pathMatcher=new AntPathMatcher();
  for (  String path : ignoreUrlsConfig.getUrls()) {
    if (pathMatcher.match(path,request.getRequestURI())) {
      fi.getChain().doFilter(fi.getRequest(),fi.getResponse());
      return;
    }
  }
  InterceptorStatusToken token=super.beforeInvocation(fi);
  try {
    fi.getChain().doFilter(fi.getRequest(),fi.getResponse());
  }
  finally {
    super.afterInvocation(token,null);
  }
}
