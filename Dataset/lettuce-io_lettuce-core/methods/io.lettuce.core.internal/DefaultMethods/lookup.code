@Override MethodHandle lookup(Method method) throws ReflectiveOperationException {
  Constructor<Lookup> constructor=this.constructor.orElseThrow(() -> new IllegalStateException("Could not obtain MethodHandles.lookup constructor"));
  return constructor.newInstance(method.getDeclaringClass()).unreflectSpecial(method,method.getDeclaringClass());
}
@Override MethodHandle lookup(Method method) throws ReflectiveOperationException {
  MethodType methodType=MethodType.methodType(method.getReturnType(),method.getParameterTypes());
  return getLookup(method.getDeclaringClass()).findSpecial(method.getDeclaringClass(),method.getName(),methodType,method.getDeclaringClass());
}
/** 
 * Lookup a  {@link MethodHandle} given {@link Method} to look up.
 * @param method must not be {@code null}.
 * @return the method handle.
 * @throws ReflectiveOperationException
 */
abstract MethodHandle lookup(Method method) throws ReflectiveOperationException ;
