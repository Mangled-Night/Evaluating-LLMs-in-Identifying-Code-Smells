public static void execute(ServerConnection c,String sql){
  String subSql=sql.substring(sql.indexOf("SELECT") + 6);
  List<String> splitVar=Splitter.on(",").omitEmptyStrings().trimResults().splitToList(subSql);
  splitVar=convert(splitVar);
  int FIELD_COUNT=splitVar.size();
  ResultSetHeaderPacket header=PacketUtil.getHeader(FIELD_COUNT);
  FieldPacket[] fields=new FieldPacket[FIELD_COUNT];
  int i=0;
  byte packetId=0;
  header.packetId=++packetId;
  for (int i1=0, splitVarSize=splitVar.size(); i1 < splitVarSize; i1++) {
    String s=splitVar.get(i1);
    fields[i]=PacketUtil.getField(s,Fields.FIELD_TYPE_VAR_STRING);
    fields[i++].packetId=++packetId;
  }
  ByteBuffer buffer=c.allocate();
  buffer=header.write(buffer,c,true);
  for (  FieldPacket field : fields) {
    buffer=field.write(buffer,c,true);
  }
  EOFPacket eof=new EOFPacket();
  eof.packetId=++packetId;
  buffer=eof.write(buffer,c,true);
  RowDataPacket row=new RowDataPacket(FIELD_COUNT);
  for (int i1=0, splitVarSize=splitVar.size(); i1 < splitVarSize; i1++) {
    String s=splitVar.get(i1);
    String value=variables.get(s) == null ? "" : variables.get(s);
    row.add(value.getBytes());
  }
  row.packetId=++packetId;
  buffer=row.write(buffer,c,true);
  EOFPacket lastEof=new EOFPacket();
  lastEof.packetId=++packetId;
  buffer=lastEof.write(buffer,c,true);
  c.write(buffer);
}
