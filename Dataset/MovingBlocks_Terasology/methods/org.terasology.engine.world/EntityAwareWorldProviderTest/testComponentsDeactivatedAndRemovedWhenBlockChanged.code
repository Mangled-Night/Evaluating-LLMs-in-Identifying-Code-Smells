@Disabled("Failing due to #2625. TODO: fix to match new behaviour") @Test public void testComponentsDeactivatedAndRemovedWhenBlockChanged(){
  worldProvider.setBlock(new Vector3i(),blockWithString);
  LifecycleEventChecker checker=new LifecycleEventChecker(entityManager.getEventSystem(),StringComponent.class);
  worldProvider.setBlock(new Vector3i(),airBlock);
  EntityRef blockEntity=worldProvider.getBlockEntityAt(new Vector3i());
  assertTrue(blockEntity.exists());
  assertEquals(Lists.newArrayList(new EventInfo(BeforeDeactivateComponent.newInstance(),blockEntity),new EventInfo(BeforeRemoveComponent.newInstance(),blockEntity)),checker.receivedEvents);
}
