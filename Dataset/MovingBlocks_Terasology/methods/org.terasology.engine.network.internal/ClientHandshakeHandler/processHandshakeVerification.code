/** 
 * Process the handshake verification, checking that both the server and client have attempted it. If successful marks the channel as Authenticated.
 * @param handshakeVerification
 * @param ctx Channel Handler Context.
 */
private void processHandshakeVerification(NetData.HandshakeVerification handshakeVerification,ChannelHandlerContext ctx){
  logger.info("Received server verification");
  if (serverHello == null || clientHello == null) {
    logger.error("Received server verification without requesting it: cancelling authentication");
    joinStatus.setErrorMessage(AUTHENTICATION_FAILURE);
    ctx.channel().close();
    return;
  }
  if (!serverCertificate.verify(HandshakeCommon.getSignatureData(serverHello,clientHello),handshakeVerification.getSignature().toByteArray())) {
    logger.error("Server failed verification: cancelling authentication");
    joinStatus.setErrorMessage(AUTHENTICATION_FAILURE);
    ctx.channel().close();
    return;
  }
  ctx.pipeline().remove(this);
  channelAuthenticated(ctx);
}
