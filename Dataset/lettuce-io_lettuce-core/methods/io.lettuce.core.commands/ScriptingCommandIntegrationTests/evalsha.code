@Test void evalsha(){
  redis.scriptFlush();
  String script="return 1 + 1";
  String digest=redis.digest(script);
  assertThat((Number)redis.eval(script,INTEGER)).isEqualTo(2L);
  assertThat((Number)redis.evalsha(digest,INTEGER)).isEqualTo(2L);
  assertThatThrownBy(() -> redis.evalsha(redis.digest("return 1 + 1 == 4"),INTEGER)).isInstanceOf(RedisNoScriptException.class).hasMessageContaining("NOSCRIPT No matching script. Please use EVAL.");
}
