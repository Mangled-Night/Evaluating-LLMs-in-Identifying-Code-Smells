/** 
 * Computes the closest pair of points in the specified array of points.
 * @param points the array of points
 * @throws IllegalArgumentException if {@code points} is {@code null} or if anyentry in  {@code points[]} is {@code null}
 */
public ClosestPair(Point2D[] points){
  if (points == null)   throw new IllegalArgumentException("constructor argument is null");
  for (int i=0; i < points.length; i++) {
    if (points[i] == null)     throw new IllegalArgumentException("array element " + i + " is null");
  }
  int n=points.length;
  if (n <= 1)   return;
  Point2D[] pointsByX=new Point2D[n];
  for (int i=0; i < n; i++)   pointsByX[i]=points[i];
  Arrays.sort(pointsByX,Point2D.Y_ORDER);
  Arrays.sort(pointsByX,Point2D.X_ORDER);
  for (int i=0; i < n - 1; i++) {
    if (pointsByX[i].equals(pointsByX[i + 1])) {
      bestDistance=0.0;
      best1=pointsByX[i];
      best2=pointsByX[i + 1];
      return;
    }
  }
  Point2D[] pointsByY=new Point2D[n];
  for (int i=0; i < n; i++)   pointsByY[i]=pointsByX[i];
  Point2D[] aux=new Point2D[n];
  closest(pointsByX,pointsByY,aux,0,n - 1);
}
