private final class LocalPlayerRelativeChunkComparator implements Comparator<Future<Chunk>> {
  private final LocalPlayer localPlayer;
  private LocalPlayerRelativeChunkComparator(  LocalPlayer localPlayer){
    this.localPlayer=localPlayer;
  }
  @Override public int compare(  Future<Chunk> o1,  Future<Chunk> o2){
    return score((PositionFuture<?>)o1) - score((PositionFuture<?>)o2);
  }
  private int score(  PositionFuture<?> task){
    if (!localPlayer.isValid()) {
      return 1;
    }
    return (int)Chunks.toChunkPos(localPlayer.getPosition(new Vector3f()),new Vector3i()).distance(task.getPosition());
  }
}
