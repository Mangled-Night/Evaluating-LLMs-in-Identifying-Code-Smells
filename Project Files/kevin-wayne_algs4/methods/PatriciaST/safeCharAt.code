private static int safeCharAt(String key,int i){
  if (i < key.length())   return key.charAt(i);
  if (i > key.length())   return 0x0000;
 else   return 0xffff;
}
