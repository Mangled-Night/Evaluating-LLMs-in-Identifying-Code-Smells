/** 
 * Returns an ordered list of super classes and interfaces for the given class, that have a common base class. The set is ordered with the deepest interface first, through all the interfaces, and then all the super classes.
 * @return an ordered list of super classes and interfaces for the given class, that have a common base class.
 */
public static <T>List<Class<? extends T>> getInheritanceTree(Class<? extends T> forClass,Class<T> baseClass){
  Set<Class<? extends T>> result=Sets.newLinkedHashSet();
  for (  Class<?> interfaceType : forClass.getInterfaces()) {
    if (baseClass.isAssignableFrom(interfaceType)) {
      addInterfaceToInheritanceTree((Class<? extends T>)interfaceType,baseClass,result);
    }
  }
  addClassToInheritanceTree(forClass,baseClass,result);
  return Lists.newArrayList(result);
}
