/** 
 * @author Mark Paluch
 */
class PipelinedRedisFutureUnitTests {
  private PipelinedRedisFuture<String> sut;
  @Test void testComplete(){
    String other="other";
    sut=new PipelinedRedisFuture<>(new HashMap<>(),o -> other);
    sut.complete("");
    assertThat(TestFutures.getOrTimeout(sut.toCompletableFuture())).isEqualTo(other);
    assertThat(sut.getError()).isNull();
  }
  @Test void testCompleteExceptionally(){
    String other="other";
    sut=new PipelinedRedisFuture<>(new HashMap<>(),o -> other);
    sut.completeExceptionally(new Exception());
    assertThat(TestFutures.getOrTimeout(sut.toCompletableFuture())).isEqualTo(other);
    assertThat(sut.getError()).isNull();
  }
}
