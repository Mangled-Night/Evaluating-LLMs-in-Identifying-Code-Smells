@Test public void toXmlTest() throws Exception {
  String xml="<mood xmlns='http://jabber.org/protocol/mood'>" + "<happy/>" + "<text>Yay, the mood spec has been approved!</text>"+ "</mood>";
  MoodElement moodElement=new MoodElement(new MoodElement.MoodSubjectElement(Mood.happy,null),"Yay, the mood spec has been approved!");
  assertXmlSimilar(xml,moodElement.toXML().toString());
  assertFalse(moodElement.hasConcretisation());
  assertEquals(Mood.happy,moodElement.getMood());
  XmlPullParser parser=TestUtils.getParser(xml);
  MoodElement parsed=MoodProvider.INSTANCE.parse(parser);
  assertEquals(xml,parsed.toXML().toString());
}
