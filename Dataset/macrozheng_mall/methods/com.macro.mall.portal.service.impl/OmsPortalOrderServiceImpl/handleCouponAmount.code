/** 
 * 对优惠券优惠进行处理
 * @param orderItemList       order_item列表
 * @param couponHistoryDetail 可用优惠券详情
 */
private void handleCouponAmount(List<OmsOrderItem> orderItemList,SmsCouponHistoryDetail couponHistoryDetail){
  SmsCoupon coupon=couponHistoryDetail.getCoupon();
  if (coupon.getUseType().equals(0)) {
    calcPerCouponAmount(orderItemList,coupon);
  }
 else   if (coupon.getUseType().equals(1)) {
    List<OmsOrderItem> couponOrderItemList=getCouponOrderItemByRelation(couponHistoryDetail,orderItemList,0);
    calcPerCouponAmount(couponOrderItemList,coupon);
  }
 else   if (coupon.getUseType().equals(2)) {
    List<OmsOrderItem> couponOrderItemList=getCouponOrderItemByRelation(couponHistoryDetail,orderItemList,1);
    calcPerCouponAmount(couponOrderItemList,coupon);
  }
}
