@Test public void invalidXMLInMessageBody() throws Exception {
  final String validControl=XMLBuilder.create("message").namespace(StreamOpen.CLIENT_NAMESPACE).a("from","romeo@montague.lit/orchard").a("to","juliet@capulet.lit/balcony").a("id","zid615d9").a("type","chat").a("xml:lang","en").e("body").t("Good Message Body").asString(outputProperties);
  assertThrows(XmlPullParserException.class,() -> {
    String invalidControl=validControl.replace("Good Message Body","Bad </span> Body");
    PacketParserUtils.parseMessage(PacketParserUtils.getParserFor(invalidControl));
  }
);
  assertThrows(XmlPullParserException.class,() -> {
    String invalidControl=validControl.replace("Good Message Body","Bad </body> Body");
    PacketParserUtils.parseMessage(PacketParserUtils.getParserFor(invalidControl));
  }
);
  assertThrows(XmlPullParserException.class,() -> {
    String invalidControl=validControl.replace("Good Message Body","Bad </message> Body");
    PacketParserUtils.parseMessage(PacketParserUtils.getParserFor(invalidControl));
  }
);
}
