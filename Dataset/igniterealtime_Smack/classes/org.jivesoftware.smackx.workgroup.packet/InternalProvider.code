/** 
 * Stanza extension provider for Monitor Packets.
 */
public static class InternalProvider extends IqProvider<MonitorPacket> {
  @Override public MonitorPacket parse(  XmlPullParser parser,  int initialDepth,  IqData iqData,  XmlEnvironment xmlEnvironment) throws XmlPullParserException, IOException {
    MonitorPacket packet=new MonitorPacket();
    boolean done=false;
    while (!done) {
      XmlPullParser.Event eventType=parser.next();
      if (eventType == XmlPullParser.Event.START_ELEMENT && "isMonitor".equals(parser.getName())) {
        String value=parser.nextText();
        if ("false".equalsIgnoreCase(value)) {
          packet.setMonitor(false);
        }
 else {
          packet.setMonitor(true);
        }
      }
 else       if (eventType == XmlPullParser.Event.END_ELEMENT && "monitor".equals(parser.getName())) {
        done=true;
      }
    }
    return packet;
  }
}
