/** 
 * Sets up a new net client with metrics, time, identity, and a world provider.
 * @param identity Public certificate for the client.
 */
public NetClient(Channel channel,NetworkSystemImpl networkSystem,PredictionSystem predictionSystem,PublicIdentityCertificate identity,Time time,WorldProvider worldProvider){
  this.predictionSystem=predictionSystem;
  this.time=time;
  this.worldProvider=worldProvider;
  this.channel=channel;
  metricSource=(NetMetricSource)channel.pipeline().get(MetricRecordingHandler.NAME);
  this.networkSystem=networkSystem;
  this.identity=identity;
  if (this.worldProvider != null) {
    this.worldProvider.registerListener(this);
  }
}
