public boolean isSupported() throws NoResponseException, XMPPErrorException, NotConnectedException, InterruptedException {
  XMPPConnection connection=connection();
  ExtensionElement extensionElement=connection.getFeature(Registration.Feature.class);
  if (extensionElement != null) {
    return true;
  }
  if (connection.isAuthenticated()) {
    return ServiceDiscoveryManager.getInstanceFor(connection).serverSupportsFeature(Registration.NAMESPACE);
  }
  return false;
}
