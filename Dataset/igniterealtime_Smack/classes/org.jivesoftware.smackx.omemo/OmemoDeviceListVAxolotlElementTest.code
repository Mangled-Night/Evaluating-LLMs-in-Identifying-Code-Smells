/** 
 * Test serialization and parsing of DeviceListElement.
 */
public class OmemoDeviceListVAxolotlElementTest extends SmackTestSuite {
  @Test public void serializationTest() throws Exception {
    HashSet<Integer> ids=new HashSet<>();
    ids.add(1234);
    ids.add(9876);
    OmemoDeviceListElement_VAxolotl element=new OmemoDeviceListElement_VAxolotl(ids);
    String xml=element.toXML().toString();
    XmlPullParser parser=TestUtils.getParser(xml);
    OmemoDeviceListElement_VAxolotl parsed=new OmemoDeviceListVAxolotlProvider().parse(parser);
    assertTrue("Parsed element must equal the original.",parsed.getDeviceIds().equals(element.getDeviceIds()));
    assertEquals("Generated XML must match.","<list xmlns='eu.siacs.conversations.axolotl'>" + "<device id='1234'/>" + "<device id='9876'/>"+ "</list>",xml);
  }
}
