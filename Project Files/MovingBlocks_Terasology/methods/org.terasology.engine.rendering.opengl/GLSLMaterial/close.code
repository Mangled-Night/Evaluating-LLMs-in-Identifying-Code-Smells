@Override public void close(){
  try {
    GameThread.synch(() -> {
      logger.debug("Disposing material {}.",urn);
      final TIntIntMap deletedPrograms=new TIntIntHashMap(shaderPrograms);
      graphicsProcessing.asynchToDisplayThread(() -> {
        TIntIntIterator it=deletedPrograms.iterator();
        while (it.hasNext()) {
          it.advance();
          GL20.glDeleteProgram(it.value());
        }
      }
);
      shaderPrograms.clear();
    }
);
  }
 catch (  InterruptedException e) {
    logger.error("Failed to dispose {}",urn,e);
  }
}
