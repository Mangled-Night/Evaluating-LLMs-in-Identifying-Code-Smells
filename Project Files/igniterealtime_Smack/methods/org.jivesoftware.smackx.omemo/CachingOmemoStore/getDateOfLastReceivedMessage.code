@Override public Date getDateOfLastReceivedMessage(OmemoDevice userDevice,OmemoDevice from) throws IOException {
  Date last=getCache(userDevice).lastMessagesDates.get(from);
  if (last == null && persistent != null) {
    last=persistent.getDateOfLastReceivedMessage(userDevice,from);
    if (last != null) {
      getCache(userDevice).lastMessagesDates.put(from,last);
    }
  }
  return last;
}
