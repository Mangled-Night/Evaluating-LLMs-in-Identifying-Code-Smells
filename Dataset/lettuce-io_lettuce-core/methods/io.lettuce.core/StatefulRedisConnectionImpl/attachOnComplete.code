private <T>RedisCommand<K,V,T> attachOnComplete(RedisCommand<K,V,T> command,Consumer<T> consumer){
  if (command instanceof CompleteableCommand) {
    CompleteableCommand<T> completeable=(CompleteableCommand<T>)command;
    completeable.onComplete(consumer);
  }
  return command;
}
