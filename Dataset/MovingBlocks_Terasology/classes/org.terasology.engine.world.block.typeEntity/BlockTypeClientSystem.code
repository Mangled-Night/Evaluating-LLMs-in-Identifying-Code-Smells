@RegisterSystem(RegisterMode.REMOTE_CLIENT) public class BlockTypeClientSystem extends BaseComponentSystem {
  private static final Logger logger=LoggerFactory.getLogger(BlockTypeClientSystem.class);
  @Override public void shutdown(){
    for (    Block block : CoreRegistry.get(BlockManager.class).listRegisteredBlocks()) {
      block.setEntity(EntityRef.NULL);
    }
  }
  @ReceiveEvent(components=BlockTypeComponent.class) public void onReceivedTypeEntity(  OnAddedComponent event,  EntityRef entity){
    Block block=entity.getComponent(BlockTypeComponent.class).block;
    if (block != null) {
      block.setEntity(entity);
    }
 else {
      logger.error("Received block type entity with missing block type");
    }
  }
}
