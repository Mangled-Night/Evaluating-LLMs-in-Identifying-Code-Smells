private static List<Range> getPartAndRemove(List<Range> rangeList,int size){
  List<Range> result=new ArrayList<>();
  for (int i=0; i < rangeList.size(); i++) {
    Range range=rangeList.get(i);
    if (range == null)     continue;
    if (range.size == size) {
      result.add(new Range(range.start,range.end));
      rangeList.set(i,null);
      break;
    }
 else     if (range.size < size) {
      result.add(new Range(range.start,range.end));
      size=size - range.size;
      rangeList.set(i,null);
    }
 else     if (range.size > size) {
      result.add(new Range(range.start,range.start + size - 1));
      rangeList.set(i,new Range(range.start + size,range.end));
      break;
    }
  }
  for (int i=rangeList.size() - 1; i >= 0; i--) {
    Range range=rangeList.get(i);
    if (range == null)     rangeList.remove(i);
  }
  return result;
}
