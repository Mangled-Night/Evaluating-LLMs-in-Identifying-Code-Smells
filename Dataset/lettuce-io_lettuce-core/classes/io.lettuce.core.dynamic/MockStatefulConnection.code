static class MockStatefulConnection extends EmptyStatefulRedisConnection {
  RedisCommands sync;
  RedisReactiveCommands reactive;
  MockStatefulConnection(  RedisChannelWriter writer){
    super(writer);
    sync=Mockito.mock(RedisCommands.class);
    reactive=(RedisReactiveCommands)Mockito.mock(AbstractRedisReactiveCommands.class,Mockito.withSettings().extraInterfaces(RedisReactiveCommands.class));
  }
  @Override public RedisCommands sync(){
    return sync;
  }
  @Override public RedisReactiveCommands reactive(){
    return reactive;
  }
}
