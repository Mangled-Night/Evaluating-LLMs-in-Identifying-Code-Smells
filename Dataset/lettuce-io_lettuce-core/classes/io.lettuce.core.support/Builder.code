/** 
 * Builder for  {@link BasePoolConfig}.
 */
public abstract static class Builder {
  protected boolean testOnCreate=DEFAULT_TEST_ON_CREATE;
  protected boolean testOnAcquire=DEFAULT_TEST_ON_ACQUIRE;
  protected boolean testOnRelease=DEFAULT_TEST_ON_RELEASE;
  protected Builder(){
  }
  /** 
 * Enables validation of objects before being returned from the acquire method. Validation is performed by the {@link AsyncObjectFactory#validate(Object)} method of the factory associated with the pool. If the object fails tovalidate, then acquire will fail.
 * @return {@code this} {@link Builder}.
 */
  public Builder testOnCreate(){
    return testOnCreate(true);
  }
  /** 
 * Configures whether objects created for the pool will be validated before being returned from the acquire method. Validation is performed by the  {@link AsyncObjectFactory#validate(Object)} method of the factory associated with thepool. If the object fails to validate, then acquire will fail.
 * @param testOnCreate {@code true} if newly created objects should be validated before being returned from theacquire method.  {@code true} to enable test on creation.
 * @return {@code this} {@link Builder}.
 */
  public Builder testOnCreate(  boolean testOnCreate){
    this.testOnCreate=testOnCreate;
    return this;
  }
  /** 
 * Enables validation of objects before being returned from the acquire method. Validation is performed by the {@link AsyncObjectFactory#validate(Object)} method of the factory associated with the pool. If the object fails tovalidate, it will be removed from the pool and destroyed, and a new attempt will be made to borrow an object from the pool.
 * @return {@code this} {@link Builder}.
 */
  public Builder testOnAcquire(){
    return testOnAcquire(true);
  }
  /** 
 * Configures whether objects acquired from the pool will be validated before being returned from the acquire method. Validation is performed by the  {@link AsyncObjectFactory#validate(Object)} method of the factory associated with thepool. If the object fails to validate, it will be removed from the pool and destroyed, and a new attempt will be made to borrow an object from the pool.
 * @param testOnAcquire {@code true} if objects should be validated before being returned from the acquire method.
 * @return {@code this} {@link Builder}.
 */
  public Builder testOnAcquire(  boolean testOnAcquire){
    this.testOnAcquire=testOnAcquire;
    return this;
  }
  /** 
 * Enables validation of objects when they are returned to the pool via the release method. Validation is performed by the  {@link AsyncObjectFactory#validate(Object)} method of the factory associated with the pool. Returning objectsthat fail validation are destroyed rather then being returned the pool.
 * @return {@code this} {@link Builder}.
 */
  public Builder testOnRelease(){
    return testOnRelease(true);
  }
  /** 
 * Configures whether objects borrowed from the pool will be validated when they are returned to the pool via the release method. Validation is performed by the  {@link AsyncObjectFactory#validate(Object)} method of the factoryassociated with the pool. Returning objects that fail validation are destroyed rather then being returned the pool.
 * @param testOnRelease {@code true} if objects should be validated on return to the pool via the release method.
 * @return {@code this} {@link Builder}.
 */
  public Builder testOnRelease(  boolean testOnRelease){
    this.testOnRelease=testOnRelease;
    return this;
  }
}
/** 
 * Builder for  {@link BoundedPoolConfig}.
 */
public static class Builder extends BasePoolConfig.Builder {
  private int maxTotal=DEFAULT_MAX_TOTAL;
  private int maxIdle=DEFAULT_MAX_IDLE;
  private int minIdle=DEFAULT_MIN_IDLE;
  protected Builder(){
  }
  @Override public Builder testOnCreate(){
    super.testOnCreate();
    return this;
  }
  @Override public Builder testOnCreate(  boolean testOnCreate){
    super.testOnCreate(testOnCreate);
    return this;
  }
  @Override public Builder testOnAcquire(){
    super.testOnAcquire();
    return this;
  }
  @Override public Builder testOnAcquire(  boolean testOnAcquire){
    super.testOnAcquire(testOnAcquire);
    return this;
  }
  @Override public Builder testOnRelease(){
    super.testOnRelease();
    return this;
  }
  @Override public Builder testOnRelease(  boolean testOnRelease){
    super.testOnRelease(testOnRelease);
    return this;
  }
  /** 
 * Configures the maximum number of objects that can be allocated by the pool (checked out to clients, or idle awaiting checkout) at a given time. When negative, there is no limit to the number of objects that can be managed by the pool at one time.
 * @param maxTotal maximum number of objects that can be allocated by the pool.
 * @return {@code this} {@link Builder}.
 */
  public Builder maxTotal(  int maxTotal){
    this.maxTotal=maxTotal;
    return this;
  }
  /** 
 * Returns the cap on the number of "idle" instances in the pool. If  {@code maxIdle} is set too low on heavily loadedsystems it is possible you will see objects being destroyed and almost immediately new objects being created. This is a result of the active threads momentarily returning objects faster than they are requesting them, causing the number of idle objects to rise above maxIdle. The best value for maxIdle for heavily loaded system will vary but the default is a good starting point.
 * @param maxIdle the cap on the number of "idle" instances in the pool.
 * @return {@code this} {@link Builder}.
 */
  public Builder maxIdle(  int maxIdle){
    this.maxIdle=maxIdle;
    return this;
  }
  /** 
 * Configures the minimum number of idle objects to maintain in the pool. If this is the case, an attempt is made to ensure that the pool has the required minimum number of instances during idle object eviction runs.
 * @param minIdle minimum number of idle objects to maintain in the pool.
 * @return {@code this} {@link Builder}.
 */
  public Builder minIdle(  int minIdle){
    this.minIdle=minIdle;
    return this;
  }
  /** 
 * Build a new  {@link BasePoolConfig} object.
 * @return a new {@link BasePoolConfig} object.
 */
  public BoundedPoolConfig build(){
    return new BoundedPoolConfig(testOnCreate,testOnAcquire,testOnRelease,maxTotal,maxIdle,minIdle);
  }
}
