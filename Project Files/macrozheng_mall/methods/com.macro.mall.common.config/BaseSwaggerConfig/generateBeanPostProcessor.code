public BeanPostProcessor generateBeanPostProcessor(){
  return new BeanPostProcessor(){
    @Override public Object postProcessAfterInitialization(    Object bean,    String beanName) throws BeansException {
      if (bean instanceof WebMvcRequestHandlerProvider || bean instanceof WebFluxRequestHandlerProvider) {
        customizeSpringfoxHandlerMappings(getHandlerMappings(bean));
      }
      return bean;
    }
    private <T extends RequestMappingInfoHandlerMapping>void customizeSpringfoxHandlerMappings(    List<T> mappings){
      List<T> copy=mappings.stream().filter(mapping -> mapping.getPatternParser() == null).collect(Collectors.toList());
      mappings.clear();
      mappings.addAll(copy);
    }
    @SuppressWarnings("unchecked") private List<RequestMappingInfoHandlerMapping> getHandlerMappings(    Object bean){
      try {
        Field field=ReflectionUtils.findField(bean.getClass(),"handlerMappings");
        field.setAccessible(true);
        return (List<RequestMappingInfoHandlerMapping>)field.get(bean);
      }
 catch (      IllegalArgumentException|IllegalAccessException e) {
        throw new IllegalStateException(e);
      }
    }
  }
;
}
