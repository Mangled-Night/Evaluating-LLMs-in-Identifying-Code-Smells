/** 
 * Create  {@link CommandSegments} given a {@link List} of {@link CommandSegment}s.
 * @param segments must not be {@code null.}
 */
public CommandSegments(List<CommandSegment> segments){
  LettuceAssert.isTrue(!segments.isEmpty(),"Command segments must not be empty");
  this.segments=segments.size() > 1 ? Collections.unmodifiableList(segments.subList(1,segments.size())) : Collections.emptyList();
  this.commandType=potentiallyResolveCommand(segments.get(0).asString());
}
