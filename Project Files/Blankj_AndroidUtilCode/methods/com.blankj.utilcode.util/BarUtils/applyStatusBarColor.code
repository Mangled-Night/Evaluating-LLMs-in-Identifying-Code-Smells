private static View applyStatusBarColor(@NonNull final Activity activity,final int color,boolean isDecor){
  return applyStatusBarColor(activity.getWindow(),color,isDecor);
}
private static View applyStatusBarColor(@NonNull final Window window,final int color,boolean isDecor){
  ViewGroup parent=isDecor ? (ViewGroup)window.getDecorView() : (ViewGroup)window.findViewById(android.R.id.content);
  View fakeStatusBarView=parent.findViewWithTag(TAG_STATUS_BAR);
  if (fakeStatusBarView != null) {
    if (fakeStatusBarView.getVisibility() == View.GONE) {
      fakeStatusBarView.setVisibility(View.VISIBLE);
    }
    fakeStatusBarView.setBackgroundColor(color);
  }
 else {
    fakeStatusBarView=createStatusBarView(window.getContext(),color);
    parent.addView(fakeStatusBarView);
  }
  return fakeStatusBarView;
}
