/** 
 * Similar to  {@link #createWithConstructorInjection(Class,Context)}, but returns {@link Optional#empty()} instead of throwing an exception if the instantiation failed.
 * @param clazz   The class to instantiate.
 * @param context The context to use for injection.
 * @return A new instance of the class to create.
 * @see InjectionHelper#createWithConstructorInjection(Class,Context)
 */
public static <E>Optional<E> safeCreateWithConstructorInjection(Class<? extends E> clazz,Context context){
  SimpleClassFactory simpleClassFactory=new SimpleClassFactory(new ParameterProvider(){
    @Override public <T>Optional<T> get(    Class<T> x){
      return Optional.ofNullable(context.get(x));
    }
  }
);
  return simpleClassFactory.instantiateClass(clazz);
}
