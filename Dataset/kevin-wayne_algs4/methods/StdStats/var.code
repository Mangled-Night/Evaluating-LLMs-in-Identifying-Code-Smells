/** 
 * Returns the sample variance in the specified array.
 * @param a the array
 * @return the sample variance in the array {@code a[]}; {@code Double.NaN} if no such value
 */
public static double var(double[] a){
  validateNotNull(a);
  if (a.length == 0)   return Double.NaN;
  double avg=mean(a);
  double sum=0.0;
  for (int i=0; i < a.length; i++) {
    sum+=(a[i] - avg) * (a[i] - avg);
  }
  return sum / (a.length - 1);
}
/** 
 * Returns the sample variance in the specified subarray.
 * @param a the array
 * @param lo the left endpoint of the subarray (inclusive)
 * @param hi the right endpoint of the subarray (exclusive)
 * @return the sample variance in the subarray {@code a[lo..hi)}; {@code Double.NaN} if no such value
 * @throws IllegalArgumentException if {@code a} is {@code null}
 * @throws IllegalArgumentException unless {@code (0 <= lo) && (lo < hi) && (hi <= a.length)}
 */
public static double var(double[] a,int lo,int hi){
  validateNotNull(a);
  validateSubarrayIndices(lo,hi,a.length);
  int length=hi - lo;
  if (length == 0)   return Double.NaN;
  double avg=mean(a,lo,hi);
  double sum=0.0;
  for (int i=lo; i < hi; i++) {
    sum+=(a[i] - avg) * (a[i] - avg);
  }
  return sum / (length - 1);
}
/** 
 * Returns the sample variance in the specified array.
 * @param a the array
 * @return the sample variance in the array {@code a[]}; {@code Double.NaN} if no such value
 */
public static double var(int[] a){
  validateNotNull(a);
  if (a.length == 0)   return Double.NaN;
  double avg=mean(a);
  double sum=0.0;
  for (int i=0; i < a.length; i++) {
    sum+=(a[i] - avg) * (a[i] - avg);
  }
  return sum / (a.length - 1);
}
