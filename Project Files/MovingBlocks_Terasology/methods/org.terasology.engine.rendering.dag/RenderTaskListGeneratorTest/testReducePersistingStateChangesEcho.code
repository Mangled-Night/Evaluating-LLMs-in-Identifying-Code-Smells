@Test public void testReducePersistingStateChangesEcho(){
  RenderTaskListGenerator renderTaskListGenerator=new RenderTaskListGenerator();
  List<Node> orderedNodes=Lists.newArrayList();
  Node alphaNode=new AlphaNode("alphaNode");
  orderedNodes.add(alphaNode);
  Node bravoNode=new BravoNode("bravoNode");
  orderedNodes.add(bravoNode);
  Node echoNode=new EchoNode("echoNode");
  orderedNodes.add(echoNode);
  Node charlieNode=new CharlieNode("charlieNode");
  orderedNodes.add(charlieNode);
  Node deltaNode=new DeltaNode("deltaNode");
  orderedNodes.add(deltaNode);
  List<RenderPipelineTask> taskList=renderTaskListGenerator.generateFrom(orderedNodes);
  assertEquals("SetName: foo",taskList.get(0).toString().trim());
  assertEquals("test:alphaNode (AlphaNode)",taskList.get(1).toString().trim());
  assertEquals("test:bravoNode (BravoNode)",taskList.get(2).toString().trim());
  assertEquals("SetName: bar",taskList.get(3).toString().trim());
  assertEquals("test:echoNode (EchoNode)",taskList.get(4).toString().trim());
  assertEquals("SetName: foo",taskList.get(5).toString().trim());
  assertEquals("test:charlieNode (CharlieNode)",taskList.get(6).toString().trim());
  assertEquals("SetName: bar",taskList.get(7).toString().trim());
  assertEquals("test:deltaNode (DeltaNode)",taskList.get(8).toString().trim());
  assertEquals("SetName: bar",taskList.get(9).toString().trim());
}
