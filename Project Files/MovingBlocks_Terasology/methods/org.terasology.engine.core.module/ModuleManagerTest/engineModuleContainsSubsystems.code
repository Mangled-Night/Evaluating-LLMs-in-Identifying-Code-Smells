/** 
 * Classes from subsystems are contained in the <i>engine module.</i> <p> Test failures of this type appear as failures to find classes from the subsystem, such as its  {@link AutoConfig} class.<p> (This policy may change in the future to better reflect the fact that the set of subsystems is not always the same, and it would be useful to know which classes are provided by which subsystem.)
 */
@Test public void engineModuleContainsSubsystems(){
  Class<StubSubsystem> subsystem=StubSubsystem.class;
  manager=new ModuleManager("",Collections.singletonList(subsystem));
  environment=manager.getEnvironment();
  engineModule=environment.get(ENGINE_MODULE);
  assertThat(engineModule.getModuleManifest().getSubTypesOf(EngineSubsystem.class)).contains(subsystem);
  assertThat(environment.getSubtypesOf(EngineSubsystem.class)).contains(subsystem);
  assertThat(environment.getModuleProviding(subsystem)).isEqualTo(ENGINE_MODULE);
}
