@Override public void initialise(){
  final ScrollableArea scrollArea=find("scrollArea",ScrollableArea.class);
  scrollArea.moveToBottom();
  commandLine=find("commandLine",UIText.class);
  getManager().setFocus(commandLine);
  commandLine.subscribe(widget -> {
    String text=commandLine.getText();
    if (StringUtils.isNotBlank(text)) {
      String command="say";
      List<String> params=Collections.singletonList(text);
      console.execute(new Name(command),params,localPlayer.getClientEntity());
      commandLine.setText("");
      scrollArea.moveToBottom();
      NotificationOverlay overlay=nuiManager.addOverlay(NotificationOverlay.ASSET_URI,NotificationOverlay.class);
      overlay.setVisible(true);
      nuiManager.closeScreen(this);
    }
 else {
      commandLine.setText("");
      nuiManager.closeScreen(this);
    }
  }
);
  final UILabel history=find("messageHistory",UILabel.class);
  history.bindText(new ReadOnlyBinding<String>(){
    @Override public String get(){
      Iterable<Message> messageIterable=console.getMessages(CoreMessageType.CHAT,CoreMessageType.NOTIFICATION);
      Stream<Message> messageStream=StreamSupport.stream(messageIterable.spliterator(),false);
      return messageStream.map(Message::getMessage).collect(Collectors.joining(Console.NEW_LINE));
    }
  }
);
}
