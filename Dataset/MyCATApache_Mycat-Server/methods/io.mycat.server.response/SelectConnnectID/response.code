public static void response(ServerConnection c){
  if (MycatServer.getInstance().isOnline()) {
    ByteBuffer buffer=c.allocate();
    buffer=header.write(buffer,c,true);
    for (    FieldPacket field : fields) {
      buffer=field.write(buffer,c,true);
    }
    buffer=eof.write(buffer,c,true);
    byte packetId=eof.packetId;
    RowDataPacket row=new RowDataPacket(FIELD_COUNT);
    row.add(getConnectID(c));
    row.packetId=++packetId;
    buffer=row.write(buffer,c,true);
    EOFPacket lastEof=new EOFPacket();
    lastEof.packetId=++packetId;
    buffer=lastEof.write(buffer,c,true);
    c.write(buffer);
  }
 else {
    error.write(c);
  }
}
