@Override protected Object handleInvocation(Object proxy,Method method,Object[] args) throws Throwable {
  if (method.getName().equals("getStatefulConnection")) {
    return proxiedConnection;
  }
  try {
    if (method.getName().equals("close")) {
      proxiedConnection.close();
      return null;
    }
    if (method.getName().equals("closeAsync")) {
      return proxiedConnection.closeAsync();
    }
    return method.invoke(api,args);
  }
 catch (  InvocationTargetException e) {
    throw e.getTargetException();
  }
}
