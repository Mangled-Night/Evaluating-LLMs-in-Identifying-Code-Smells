public class ListMultiFormField extends AbstractMultiFormField implements FormFieldWithOptions {
  private final List<Option> options;
  protected ListMultiFormField(  Builder builder){
    super(builder);
    options=CollectionUtil.cloneAndSeal(builder.options);
  }
  @Override public List<Option> getOptions(){
    return options;
  }
  @Override protected void populateExtraXmlChildElements(){
    super.populateExtraXmlChildElements();
    extraXmlChildElements.addAll(options);
  }
  public Builder asBuilder(){
    return new Builder(this);
  }
public static final class Builder extends AbstractMultiFormField.Builder<ListMultiFormField,ListMultiFormField.Builder> implements FormFieldWithOptions.Builder<Builder> {
    private List<Option> options;
    private Builder(    ListMultiFormField textMultiFormField){
      super(textMultiFormField);
    }
    Builder(    String fieldName){
      super(fieldName,FormField.Type.list_multi);
    }
    @Override public Builder addValue(    CharSequence value){
      return super.addValueVerbatim(value);
    }
    @Override public Builder addOption(    Option option){
      if (options == null) {
        options=new ArrayList<>();
      }
      options.add(option);
      return this;
    }
    @Override public ListMultiFormField build(){
      return new ListMultiFormField(this);
    }
    @Override public Builder getThis(){
      return this;
    }
  }
}
