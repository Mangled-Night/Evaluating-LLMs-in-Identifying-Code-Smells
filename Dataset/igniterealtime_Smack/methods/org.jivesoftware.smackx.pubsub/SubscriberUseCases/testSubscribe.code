public void testSubscribe() throws Exception {
  LeafNode node=getPubnode(false,false);
  Subscription sub=node.subscribe(getJid());
  assertEquals(getJid(),sub.getJid());
  assertNotNull(sub.getId());
  assertEquals(node.getId(),sub.getNode());
  assertEquals(Subscription.State.subscribed,sub.getState());
}
