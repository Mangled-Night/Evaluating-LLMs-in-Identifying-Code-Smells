public void startBridge(){
  final Thread process=new Thread(new Runnable(){
    @Override public void run(){
      try {
        OutputStream out=localTcpSocket.getOutputStream();
        while (true) {
          byte[] b=new byte[500];
          DatagramPacket p=new DatagramPacket(b,500);
          localUdpSocket.receive(p);
          if (p.getLength() == 0)           continue;
          LOGGER.fine("UDP Client Received and Sending to TCP Server:" + new String(p.getData(),0,p.getLength(),"UTF-8"));
          out.write(p.getData(),0,p.getLength());
          out.flush();
          LOGGER.fine("Client Flush");
        }
      }
 catch (      IOException e) {
        LOGGER.log(Level.WARNING,"exception",e);
      }
    }
  }
);
  new Thread(new Runnable(){
    @Override public void run(){
      try {
        InputStream in=localTcpSocket.getInputStream();
        InetAddress remoteHost=InetAddress.getByName(remoteUdpHost);
        process.start();
        while (true) {
          byte[] b=new byte[500];
          int s=in.read(b);
          LOGGER.fine("TCP Client:" + new String(b,0,s,"UTF-8"));
          DatagramPacket udpPacket=new DatagramPacket(b,s);
          udpPacket.setAddress(remoteHost);
          udpPacket.setPort(remoteUdpPort);
          localUdpSocket.send(udpPacket);
        }
      }
 catch (      IOException e) {
        LOGGER.log(Level.WARNING,"exception",e);
      }
    }
  }
).start();
}
