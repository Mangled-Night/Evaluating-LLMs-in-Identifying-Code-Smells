private void closeSocket(){
  if (channel != null) {
    if (channel instanceof SocketChannel) {
      Socket socket=((SocketChannel)channel).socket();
      if (socket != null) {
        try {
          socket.close();
        }
 catch (        IOException e) {
          LOGGER.error("closeChannelError",e);
        }
      }
    }
    boolean isSocketClosed=true;
    try {
      channel.close();
    }
 catch (    Exception e) {
      LOGGER.error("AbstractConnectionCloseError",e);
    }
    boolean closed=isSocketClosed && (!channel.isOpen());
    if (closed == false) {
      LOGGER.warn("close socket of connnection failed " + this);
    }
  }
}
