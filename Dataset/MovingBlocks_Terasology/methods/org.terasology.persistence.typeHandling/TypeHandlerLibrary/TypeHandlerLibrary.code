protected TypeHandlerLibrary(SerializationSandbox sandbox){
  this.sandbox=sandbox;
  ConstructorLibrary constructorLibrary=new ConstructorLibrary(instanceCreators);
  addTypeHandlerFactory(new ObjectFieldMapTypeHandlerFactory(constructorLibrary));
  TypeHandlerLibrary.populateBuiltInHandlers(this);
  addTypeHandlerFactory(new CollectionTypeHandlerFactory(constructorLibrary));
}
public TypeHandlerLibrary(Reflections reflections){
  this(new ReflectionsSandbox(reflections));
}
/** 
 * Constructor for copying.
 */
private TypeHandlerLibrary(List<TypeHandlerFactory> typeHandlerFactories,Map<Type,InstanceCreator<?>> instanceCreators,SerializationSandbox sandbox){
  this.typeHandlerFactories.addAll(typeHandlerFactories);
  this.instanceCreators.putAll(instanceCreators);
  this.sandbox=sandbox;
}
