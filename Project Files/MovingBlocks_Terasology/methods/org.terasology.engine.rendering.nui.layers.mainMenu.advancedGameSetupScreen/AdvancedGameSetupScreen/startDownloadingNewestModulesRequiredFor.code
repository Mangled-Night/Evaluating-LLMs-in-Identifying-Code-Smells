private void startDownloadingNewestModulesRequiredFor(ModuleSelectionInfo moduleMetadata){
  Set<Module> modulesToDownload;
  try {
    modulesToDownload=moduleManager.getInstallManager().getAllModulesToDownloadFor(moduleMetadata.getMetadata().getId());
  }
 catch (  DependencyResolutionFailedException ex) {
    MessagePopup messagePopup=getManager().pushScreen(MessagePopup.ASSET_URI,MessagePopup.class);
    messagePopup.setMessage("Error",ex.getMessage());
    return;
  }
  ConfirmPopup confirmPopup=getManager().pushScreen(ConfirmPopup.ASSET_URI,ConfirmPopup.class);
  confirmPopup.setMessage("Confirm Download",modulesToDownload.size() + " modules will be downloaded");
  confirmPopup.setOkHandler(() -> downloadModules(modulesToDownload));
}
