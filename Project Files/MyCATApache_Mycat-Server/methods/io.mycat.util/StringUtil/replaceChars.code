public static String replaceChars(String str,String searchChars,String replaceChars){
  return replaceChars(str,searchChars,replaceChars,false);
}
public static String replaceChars(String str,String searchChars,String replaceChars,boolean force){
  if (!force) {
    return str;
  }
  if ((str == null) || (str.length() == 0) || (searchChars == null)|| (searchChars.length() == 0)) {
    return str;
  }
  char[] chars=str.toCharArray();
  int len=chars.length;
  boolean modified=false;
  for (int i=0, isize=searchChars.length(); i < isize; i++) {
    char searchChar=searchChars.charAt(i);
    if ((replaceChars == null) || (i >= replaceChars.length())) {
      int pos=0;
      for (int j=0; j < len; j++) {
        if (chars[j] != searchChar) {
          chars[pos++]=chars[j];
        }
 else {
          modified=true;
        }
      }
      len=pos;
    }
 else {
      for (int j=0; j < len; j++) {
        if (chars[j] == searchChar) {
          chars[j]=replaceChars.charAt(i);
          modified=true;
        }
      }
    }
  }
  if (!modified) {
    return str;
  }
  return new String(chars,0,len);
}
