@SuppressWarnings("serial") static class CodecVariableTypeResolver implements ResolvableType.VariableResolver {
  private final TypeInformation<?> codecType;
  private final List<TypeInformation<?>> typeArguments;
  public CodecVariableTypeResolver(  TypeInformation<?> codecType){
    this.codecType=codecType.getSuperTypeInformation(RedisCodec.class);
    this.typeArguments=this.codecType.getTypeArguments();
  }
  @Override public Object getSource(){
    return codecType;
  }
  @Override public ResolvableType resolveVariable(  TypeVariable<?> variable){
    if (variable.getName().equals("K")) {
      return ResolvableType.forClass(typeArguments.get(0).getType());
    }
    if (variable.getName().equals("V")) {
      return ResolvableType.forClass(typeArguments.get(1).getType());
    }
    return null;
  }
}
