/** 
 * Start the activity.
 * @param activity    The activity.
 * @param clz         The activity class.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 */
public static void startActivityForResult(@NonNull final Activity activity,@NonNull final Class<? extends Activity> clz,final int requestCode){
  startActivityForResult(activity,null,activity.getPackageName(),clz.getName(),requestCode,null);
}
/** 
 * Start the activity.
 * @param activity    The activity.
 * @param clz         The activity class.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param options     Additional options for how the Activity should be started.
 */
public static void startActivityForResult(@NonNull final Activity activity,@NonNull final Class<? extends Activity> clz,final int requestCode,@Nullable final Bundle options){
  startActivityForResult(activity,null,activity.getPackageName(),clz.getName(),requestCode,options);
}
/** 
 * Start the activity.
 * @param activity       The activity.
 * @param clz            The activity class.
 * @param requestCode    if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param sharedElements The names of the shared elements to transfer to the calledActivity and their associated Views.
 */
public static void startActivityForResult(@NonNull final Activity activity,@NonNull final Class<? extends Activity> clz,final int requestCode,final View... sharedElements){
  startActivityForResult(activity,null,activity.getPackageName(),clz.getName(),requestCode,getOptionsBundle(activity,sharedElements));
}
/** 
 * Start the activity.
 * @param activity    The activity.
 * @param clz         The activity class.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param enterAnim   A resource ID of the animation resource to use for theincoming activity.
 * @param exitAnim    A resource ID of the animation resource to use for theoutgoing activity.
 */
public static void startActivityForResult(@NonNull final Activity activity,@NonNull final Class<? extends Activity> clz,final int requestCode,@AnimRes final int enterAnim,@AnimRes final int exitAnim){
  startActivityForResult(activity,null,activity.getPackageName(),clz.getName(),requestCode,getOptionsBundle(activity,enterAnim,exitAnim));
  if (Build.VERSION.SDK_INT < Build.VERSION_CODES.JELLY_BEAN) {
    activity.overridePendingTransition(enterAnim,exitAnim);
  }
}
/** 
 * Start the activity.
 * @param extras      The Bundle of extras to add to this intent.
 * @param activity    The activity.
 * @param clz         The activity class.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 */
public static void startActivityForResult(@NonNull final Bundle extras,@NonNull final Activity activity,@NonNull final Class<? extends Activity> clz,final int requestCode){
  startActivityForResult(activity,extras,activity.getPackageName(),clz.getName(),requestCode,null);
}
/** 
 * Start the activity.
 * @param extras      The Bundle of extras to add to this intent.
 * @param activity    The activity.
 * @param clz         The activity class.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param options     Additional options for how the Activity should be started.
 */
public static void startActivityForResult(@NonNull final Bundle extras,@NonNull final Activity activity,@NonNull final Class<? extends Activity> clz,final int requestCode,@Nullable final Bundle options){
  startActivityForResult(activity,extras,activity.getPackageName(),clz.getName(),requestCode,options);
}
/** 
 * Start the activity.
 * @param extras         The Bundle of extras to add to this intent.
 * @param activity       The activity.
 * @param clz            The activity class.
 * @param requestCode    if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param sharedElements The names of the shared elements to transfer to the calledActivity and their associated Views.
 */
public static void startActivityForResult(@NonNull final Bundle extras,@NonNull final Activity activity,@NonNull final Class<? extends Activity> clz,final int requestCode,final View... sharedElements){
  startActivityForResult(activity,extras,activity.getPackageName(),clz.getName(),requestCode,getOptionsBundle(activity,sharedElements));
}
/** 
 * Start the activity.
 * @param extras      The Bundle of extras to add to this intent.
 * @param activity    The activity.
 * @param clz         The activity class.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param enterAnim   A resource ID of the animation resource to use for theincoming activity.
 * @param exitAnim    A resource ID of the animation resource to use for theoutgoing activity.
 */
public static void startActivityForResult(@NonNull final Bundle extras,@NonNull final Activity activity,@NonNull final Class<? extends Activity> clz,final int requestCode,@AnimRes final int enterAnim,@AnimRes final int exitAnim){
  startActivityForResult(activity,extras,activity.getPackageName(),clz.getName(),requestCode,getOptionsBundle(activity,enterAnim,exitAnim));
  if (Build.VERSION.SDK_INT < Build.VERSION_CODES.JELLY_BEAN) {
    activity.overridePendingTransition(enterAnim,exitAnim);
  }
}
/** 
 * Start the activity for result.
 * @param activity    The activity.
 * @param extras      The Bundle of extras to add to this intent.
 * @param pkg         The name of the package.
 * @param cls         The name of the class.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 */
public static void startActivityForResult(@NonNull final Bundle extras,@NonNull final Activity activity,@NonNull final String pkg,@NonNull final String cls,final int requestCode){
  startActivityForResult(activity,extras,pkg,cls,requestCode,null);
}
/** 
 * Start the activity for result.
 * @param extras      The Bundle of extras to add to this intent.
 * @param activity    The activity.
 * @param pkg         The name of the package.
 * @param cls         The name of the class.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param options     Additional options for how the Activity should be started.
 */
public static void startActivityForResult(@NonNull final Bundle extras,@NonNull final Activity activity,@NonNull final String pkg,@NonNull final String cls,final int requestCode,@Nullable final Bundle options){
  startActivityForResult(activity,extras,pkg,cls,requestCode,options);
}
/** 
 * Start the activity for result.
 * @param extras         The Bundle of extras to add to this intent.
 * @param activity       The activity.
 * @param pkg            The name of the package.
 * @param cls            The name of the class.
 * @param requestCode    if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param sharedElements The names of the shared elements to transfer to the calledActivity and their associated Views.
 */
public static void startActivityForResult(@NonNull final Bundle extras,@NonNull final Activity activity,@NonNull final String pkg,@NonNull final String cls,final int requestCode,final View... sharedElements){
  startActivityForResult(activity,extras,pkg,cls,requestCode,getOptionsBundle(activity,sharedElements));
}
/** 
 * Start the activity for result.
 * @param extras      The Bundle of extras to add to this intent.
 * @param pkg         The name of the package.
 * @param cls         The name of the class.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param enterAnim   A resource ID of the animation resource to use for theincoming activity.
 * @param exitAnim    A resource ID of the animation resource to use for theoutgoing activity.
 */
public static void startActivityForResult(@NonNull final Bundle extras,@NonNull final Activity activity,@NonNull final String pkg,@NonNull final String cls,final int requestCode,@AnimRes final int enterAnim,@AnimRes final int exitAnim){
  startActivityForResult(activity,extras,pkg,cls,requestCode,getOptionsBundle(activity,enterAnim,exitAnim));
  if (Build.VERSION.SDK_INT < Build.VERSION_CODES.JELLY_BEAN) {
    activity.overridePendingTransition(enterAnim,exitAnim);
  }
}
/** 
 * Start the activity for result.
 * @param activity    The activity.
 * @param intent      The description of the activity to start.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 */
public static void startActivityForResult(@NonNull final Activity activity,@NonNull final Intent intent,final int requestCode){
  startActivityForResult(intent,activity,requestCode,null);
}
/** 
 * Start the activity for result.
 * @param activity    The activity.
 * @param intent      The description of the activity to start.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param options     Additional options for how the Activity should be started.
 */
public static void startActivityForResult(@NonNull final Activity activity,@NonNull final Intent intent,final int requestCode,@Nullable final Bundle options){
  startActivityForResult(intent,activity,requestCode,options);
}
/** 
 * Start the activity for result.
 * @param activity       The activity.
 * @param intent         The description of the activity to start.
 * @param requestCode    if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param sharedElements The names of the shared elements to transfer to the calledActivity and their associated Views.
 */
public static void startActivityForResult(@NonNull final Activity activity,@NonNull final Intent intent,final int requestCode,final View... sharedElements){
  startActivityForResult(intent,activity,requestCode,getOptionsBundle(activity,sharedElements));
}
/** 
 * Start the activity for result.
 * @param activity    The activity.
 * @param intent      The description of the activity to start.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param enterAnim   A resource ID of the animation resource to use for theincoming activity.
 * @param exitAnim    A resource ID of the animation resource to use for theoutgoing activity.
 */
public static void startActivityForResult(@NonNull final Activity activity,@NonNull final Intent intent,final int requestCode,@AnimRes final int enterAnim,@AnimRes final int exitAnim){
  startActivityForResult(intent,activity,requestCode,getOptionsBundle(activity,enterAnim,exitAnim));
  if (Build.VERSION.SDK_INT < Build.VERSION_CODES.JELLY_BEAN) {
    activity.overridePendingTransition(enterAnim,exitAnim);
  }
}
/** 
 * Start the activity.
 * @param fragment    The fragment.
 * @param clz         The activity class.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 */
public static void startActivityForResult(@NonNull final Fragment fragment,@NonNull final Class<? extends Activity> clz,final int requestCode){
  startActivityForResult(fragment,null,Utils.getApp().getPackageName(),clz.getName(),requestCode,null);
}
/** 
 * Start the activity.
 * @param fragment    The fragment.
 * @param clz         The activity class.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param options     Additional options for how the Activity should be started.
 */
public static void startActivityForResult(@NonNull final Fragment fragment,@NonNull final Class<? extends Activity> clz,final int requestCode,@Nullable final Bundle options){
  startActivityForResult(fragment,null,Utils.getApp().getPackageName(),clz.getName(),requestCode,options);
}
/** 
 * Start the activity.
 * @param fragment       The fragment.
 * @param clz            The activity class.
 * @param requestCode    if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param sharedElements The names of the shared elements to transfer to the calledActivity and their associated Views.
 */
public static void startActivityForResult(@NonNull final Fragment fragment,@NonNull final Class<? extends Activity> clz,final int requestCode,final View... sharedElements){
  startActivityForResult(fragment,null,Utils.getApp().getPackageName(),clz.getName(),requestCode,getOptionsBundle(fragment,sharedElements));
}
/** 
 * Start the activity.
 * @param fragment    The fragment.
 * @param clz         The activity class.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param enterAnim   A resource ID of the animation resource to use for theincoming activity.
 * @param exitAnim    A resource ID of the animation resource to use for theoutgoing activity.
 */
public static void startActivityForResult(@NonNull final Fragment fragment,@NonNull final Class<? extends Activity> clz,final int requestCode,@AnimRes final int enterAnim,@AnimRes final int exitAnim){
  startActivityForResult(fragment,null,Utils.getApp().getPackageName(),clz.getName(),requestCode,getOptionsBundle(fragment,enterAnim,exitAnim));
}
/** 
 * Start the activity.
 * @param extras      The Bundle of extras to add to this intent.
 * @param fragment    The fragment.
 * @param clz         The activity class.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 */
public static void startActivityForResult(@NonNull final Bundle extras,@NonNull final Fragment fragment,@NonNull final Class<? extends Activity> clz,final int requestCode){
  startActivityForResult(fragment,extras,Utils.getApp().getPackageName(),clz.getName(),requestCode,null);
}
/** 
 * Start the activity.
 * @param extras      The Bundle of extras to add to this intent.
 * @param fragment    The fragment.
 * @param clz         The activity class.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param options     Additional options for how the Activity should be started.
 */
public static void startActivityForResult(@NonNull final Bundle extras,@NonNull final Fragment fragment,@NonNull final Class<? extends Activity> clz,final int requestCode,@Nullable final Bundle options){
  startActivityForResult(fragment,extras,Utils.getApp().getPackageName(),clz.getName(),requestCode,options);
}
/** 
 * Start the activity.
 * @param extras         The Bundle of extras to add to this intent.
 * @param fragment       The fragment.
 * @param clz            The activity class.
 * @param requestCode    if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param sharedElements The names of the shared elements to transfer to the calledActivity and their associated Views.
 */
public static void startActivityForResult(@NonNull final Bundle extras,@NonNull final Fragment fragment,@NonNull final Class<? extends Activity> clz,final int requestCode,final View... sharedElements){
  startActivityForResult(fragment,extras,Utils.getApp().getPackageName(),clz.getName(),requestCode,getOptionsBundle(fragment,sharedElements));
}
/** 
 * Start the activity.
 * @param extras      The Bundle of extras to add to this intent.
 * @param fragment    The fragment.
 * @param clz         The activity class.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param enterAnim   A resource ID of the animation resource to use for theincoming activity.
 * @param exitAnim    A resource ID of the animation resource to use for theoutgoing activity.
 */
public static void startActivityForResult(@NonNull final Bundle extras,@NonNull final Fragment fragment,@NonNull final Class<? extends Activity> clz,final int requestCode,@AnimRes final int enterAnim,@AnimRes final int exitAnim){
  startActivityForResult(fragment,extras,Utils.getApp().getPackageName(),clz.getName(),requestCode,getOptionsBundle(fragment,enterAnim,exitAnim));
}
/** 
 * Start the activity for result.
 * @param fragment    The fragment.
 * @param extras      The Bundle of extras to add to this intent.
 * @param pkg         The name of the package.
 * @param cls         The name of the class.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 */
public static void startActivityForResult(@NonNull final Bundle extras,@NonNull final Fragment fragment,@NonNull final String pkg,@NonNull final String cls,final int requestCode){
  startActivityForResult(fragment,extras,pkg,cls,requestCode,null);
}
/** 
 * Start the activity for result.
 * @param extras      The Bundle of extras to add to this intent.
 * @param fragment    The fragment.
 * @param pkg         The name of the package.
 * @param cls         The name of the class.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param options     Additional options for how the Activity should be started.
 */
public static void startActivityForResult(@NonNull final Bundle extras,@NonNull final Fragment fragment,@NonNull final String pkg,@NonNull final String cls,final int requestCode,@Nullable final Bundle options){
  startActivityForResult(fragment,extras,pkg,cls,requestCode,options);
}
/** 
 * Start the activity for result.
 * @param extras         The Bundle of extras to add to this intent.
 * @param fragment       The fragment.
 * @param pkg            The name of the package.
 * @param cls            The name of the class.
 * @param requestCode    if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param sharedElements The names of the shared elements to transfer to the calledActivity and their associated Views.
 */
public static void startActivityForResult(@NonNull final Bundle extras,@NonNull final Fragment fragment,@NonNull final String pkg,@NonNull final String cls,final int requestCode,final View... sharedElements){
  startActivityForResult(fragment,extras,pkg,cls,requestCode,getOptionsBundle(fragment,sharedElements));
}
/** 
 * Start the activity for result.
 * @param extras      The Bundle of extras to add to this intent.
 * @param pkg         The name of the package.
 * @param cls         The name of the class.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param enterAnim   A resource ID of the animation resource to use for theincoming activity.
 * @param exitAnim    A resource ID of the animation resource to use for theoutgoing activity.
 */
public static void startActivityForResult(@NonNull final Bundle extras,@NonNull final Fragment fragment,@NonNull final String pkg,@NonNull final String cls,final int requestCode,@AnimRes final int enterAnim,@AnimRes final int exitAnim){
  startActivityForResult(fragment,extras,pkg,cls,requestCode,getOptionsBundle(fragment,enterAnim,exitAnim));
}
/** 
 * Start the activity for result.
 * @param fragment    The fragment.
 * @param intent      The description of the activity to start.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 */
public static void startActivityForResult(@NonNull final Fragment fragment,@NonNull final Intent intent,final int requestCode){
  startActivityForResult(intent,fragment,requestCode,null);
}
/** 
 * Start the activity for result.
 * @param fragment    The fragment.
 * @param intent      The description of the activity to start.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param options     Additional options for how the Activity should be started.
 */
public static void startActivityForResult(@NonNull final Fragment fragment,@NonNull final Intent intent,final int requestCode,@Nullable final Bundle options){
  startActivityForResult(intent,fragment,requestCode,options);
}
/** 
 * Start the activity for result.
 * @param fragment       The fragment.
 * @param intent         The description of the activity to start.
 * @param requestCode    if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param sharedElements The names of the shared elements to transfer to the calledActivity and their associated Views.
 */
public static void startActivityForResult(@NonNull final Fragment fragment,@NonNull final Intent intent,final int requestCode,final View... sharedElements){
  startActivityForResult(intent,fragment,requestCode,getOptionsBundle(fragment,sharedElements));
}
/** 
 * Start the activity for result.
 * @param fragment    The fragment.
 * @param intent      The description of the activity to start.
 * @param requestCode if &gt;= 0, this code will be returned inonActivityResult() when the activity exits.
 * @param enterAnim   A resource ID of the animation resource to use for theincoming activity.
 * @param exitAnim    A resource ID of the animation resource to use for theoutgoing activity.
 */
public static void startActivityForResult(@NonNull final Fragment fragment,@NonNull final Intent intent,final int requestCode,@AnimRes final int enterAnim,@AnimRes final int exitAnim){
  startActivityForResult(intent,fragment,requestCode,getOptionsBundle(fragment,enterAnim,exitAnim));
}
private static boolean startActivityForResult(final Activity activity,final Bundle extras,final String pkg,final String cls,final int requestCode,@Nullable final Bundle options){
  Intent intent=new Intent();
  if (extras != null)   intent.putExtras(extras);
  intent.setComponent(new ComponentName(pkg,cls));
  return startActivityForResult(intent,activity,requestCode,options);
}
private static boolean startActivityForResult(final Intent intent,final Activity activity,final int requestCode,@Nullable final Bundle options){
  try {
    if (options != null && Build.VERSION.SDK_INT >= Build.VERSION_CODES.JELLY_BEAN) {
      activity.startActivityForResult(intent,requestCode,options);
    }
 else {
      activity.startActivityForResult(intent,requestCode);
    }
  }
 catch (  Exception e) {
    Log.e("ActivityUtils","An exception occurred in startActivityForResult, error message: " + e.getLocalizedMessage());
    return false;
  }
  return true;
}
private static boolean startActivityForResult(final Fragment fragment,final Bundle extras,final String pkg,final String cls,final int requestCode,@Nullable final Bundle options){
  Intent intent=new Intent();
  if (extras != null)   intent.putExtras(extras);
  intent.setComponent(new ComponentName(pkg,cls));
  return startActivityForResult(intent,fragment,requestCode,options);
}
private static boolean startActivityForResult(final Intent intent,final Fragment fragment,final int requestCode,@Nullable final Bundle options){
  if (fragment.getActivity() == null) {
    Log.e("ActivityUtils","Fragment " + fragment + " not attached to Activity");
    return false;
  }
  try {
    if (options != null && Build.VERSION.SDK_INT >= Build.VERSION_CODES.JELLY_BEAN) {
      fragment.startActivityForResult(intent,requestCode,options);
    }
 else {
      fragment.startActivityForResult(intent,requestCode);
    }
  }
 catch (  Exception e) {
    Log.e("ActivityUtils","An exception occurred in fragment.startActivityForResult, error message: " + e.getLocalizedMessage());
    return false;
  }
  return true;
}
