/** 
 * Adds all facet providers and updaters for  {@code facet} which have priority greater than {@code minPriority} to {@code orderedProviders}.
 */
private void addProviderChain(Class<? extends WorldFacet> facet,boolean scalable,int minPriority,Set<FacetProvider> orderedProviders){
  FacetProvider producer=null;
  for (  FacetProvider provider : providersList) {
    if (producesFacet(provider,facet) && (!scalable || provider instanceof ScalableFacetProvider)) {
      if (producer != null) {
        logger.warn("Facet already produced by {} and overwritten by {}",producer,provider);
      }
      providedBy.put(facet,provider);
      addRequirements(facet,provider,scalable,orderedProviders);
      producer=provider;
    }
  }
  for (  FacetProvider provider : providersList) {
    if (updatesFacet(provider,facet) && (!scalable || provider instanceof ScalableFacetProvider)) {
      if (updatePriority(provider,facet) > minPriority) {
        providedBy.put(facet,provider);
        addRequirements(facet,provider,scalable,orderedProviders);
      }
    }
  }
}
