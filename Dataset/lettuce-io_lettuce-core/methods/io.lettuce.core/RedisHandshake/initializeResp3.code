private CompletionStage<Void> initializeResp3(Channel channel){
  return initiateHandshakeResp3(channel,connectionState.getCredentialsProvider()).thenAccept(response -> {
    Long id=(Long)response.get("id");
    String mode=(String)response.get("mode");
    String version=(String)response.get("version");
    String role=(String)response.get("role");
    negotiatedProtocolVersion=ProtocolVersion.RESP3;
    connectionState.setHandshakeResponse(new ConnectionState.HandshakeResponse(negotiatedProtocolVersion,id,version,mode,role));
  }
);
}
