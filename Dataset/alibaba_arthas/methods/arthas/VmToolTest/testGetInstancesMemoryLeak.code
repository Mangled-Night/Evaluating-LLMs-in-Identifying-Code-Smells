@Test public void testGetInstancesMemoryLeak(){
  VmTool vmtool=initVmTool();
  final AtomicLong totalTime=new AtomicLong();
  for (int i=1; i <= 2; i++) {
    long start=System.currentTimeMillis();
    WeakReference<Object[]> reference=new WeakReference<Object[]>(vmtool.getInstances(Object.class));
    Object[] instances=reference.get();
    long cost=System.currentTimeMillis() - start;
    totalTime.addAndGet(cost);
    System.out.println(i + " instance size:" + (instances == null ? 0 : instances.length)+ ", cost "+ cost+ "ms avgCost "+ totalTime.doubleValue() / i + "ms");
    instances=null;
    vmtool.forceGc();
  }
}
