protected void connectAndLogin(int connectionIndex) throws XMPPException {
  String password=usernamePrefix + (connectionIndex + 1);
  if (passwordPrefix != null)   password=(samePassword ? passwordPrefix : passwordPrefix + (connectionIndex + 1));
  TCPConnection con=getConnection(connectionIndex);
  if (!con.isConnected())   con.connect();
  try {
    con.login(usernamePrefix + (connectionIndex + 1),password,"Smack");
  }
 catch (  XMPPException e) {
    createAccount(connectionIndex,usernamePrefix + (connectionIndex + 1),password);
    con.login(usernamePrefix + (connectionIndex + 1),password,"Smack");
  }
}
