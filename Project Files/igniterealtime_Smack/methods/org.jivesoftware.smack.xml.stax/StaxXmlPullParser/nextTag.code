@Override public TagEvent nextTag() throws IOException, XmlPullParserException {
  preNextEvent();
  int staxEventInt;
  try {
    staxEventInt=xmlStreamReader.nextTag();
  }
 catch (  XMLStreamException e) {
    throw new XmlPullParserException(e);
  }
switch (staxEventInt) {
case XMLStreamConstants.START_ELEMENT:
    depth++;
  return TagEvent.START_ELEMENT;
case XMLStreamConstants.END_ELEMENT:
delayedDepthDecrement=true;
return TagEvent.END_ELEMENT;
default :
throw new AssertionError();
}
}
