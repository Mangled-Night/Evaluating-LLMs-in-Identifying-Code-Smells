/** 
 * Callback used by the OpenGL driver to output additional debug information about our use of the API.
 */
public class DebugCallback implements org.lwjgl.opengl.GLDebugMessageCallbackI {
  private static final Logger logger=LoggerFactory.getLogger("OpenGL");
  @Override public void invoke(  int source,  int type,  int id,  int severity,  int length,  long message,  long userParam){
    String logFormat="[{}] [{}] [{}] {}";
    Object[] args=new Object[]{"0x" + Integer.toHexString(id).toUpperCase(Locale.ROOT),getSourceString(source),getTypeString(type),MemoryUtil.memASCII(message).trim()};
switch (severity) {
case GL_DEBUG_SEVERITY_HIGH:
      logger.error(logFormat,args);
    break;
case GL_DEBUG_SEVERITY_MEDIUM:
  logger.warn(logFormat,args);
break;
case GL_DEBUG_SEVERITY_LOW:
logger.debug(logFormat,args);
break;
default :
case GL_DEBUG_SEVERITY_NOTIFICATION:
logger.trace(logFormat,args);
break;
}
}
private static String getSourceString(int source){
switch (source) {
case GL_DEBUG_SOURCE_API:
return "api";
case GL_DEBUG_SOURCE_WINDOW_SYSTEM:
return "window system";
case GL_DEBUG_SOURCE_SHADER_COMPILER:
return "shader compiler";
case GL_DEBUG_SOURCE_THIRD_PARTY:
return "third party";
case GL_DEBUG_SOURCE_APPLICATION:
return "app";
default :
case GL_DEBUG_SOURCE_OTHER:
return "other";
}
}
private static String getTypeString(int type){
switch (type) {
case GL_DEBUG_TYPE_ERROR:
return "error";
case GL_DEBUG_TYPE_DEPRECATED_BEHAVIOR:
return "deprecated";
case GL_DEBUG_TYPE_UNDEFINED_BEHAVIOR:
return "undefined behaviour";
case GL_DEBUG_TYPE_PORTABILITY:
return "portability";
case GL_DEBUG_TYPE_PERFORMANCE:
return "performance";
case GL_DEBUG_TYPE_MARKER:
return "marker";
case GL_DEBUG_TYPE_PUSH_GROUP:
return "pushGroup";
case GL_DEBUG_TYPE_POP_GROUP:
return "popGroup";
default :
case GL_DEBUG_TYPE_OTHER:
return "other";
}
}
}
