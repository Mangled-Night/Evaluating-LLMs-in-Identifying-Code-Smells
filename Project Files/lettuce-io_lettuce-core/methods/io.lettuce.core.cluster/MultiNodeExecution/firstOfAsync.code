/** 
 * Returns the result of the first  {@link RedisFuture} and guarantee that all futures are finished.
 * @param executions mapping of a key to the future
 * @param < T > result type
 * @return future returning the first result.
 */
public static <T>RedisFuture<T> firstOfAsync(Map<?,? extends CompletionStage<T>> executions){
  return new PipelinedRedisFuture<>(executions,objectPipelinedRedisFuture -> {
    for (    CompletionStage<T> future : executions.values()) {
      execute(() -> future.toCompletableFuture().get());
    }
    for (    CompletionStage<T> future : executions.values()) {
      return execute(() -> future.toCompletableFuture().get());
    }
    return null;
  }
);
}
