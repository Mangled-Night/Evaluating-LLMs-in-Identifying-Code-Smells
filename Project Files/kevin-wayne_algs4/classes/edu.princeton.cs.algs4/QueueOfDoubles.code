/** 
 * Helper class for reading and recording audio.
 */
private static class QueueOfDoubles {
  private static final int INIT_CAPACITY=16;
  private double[] a;
  private int n;
  public QueueOfDoubles(){
    a=new double[INIT_CAPACITY];
    n=0;
  }
  private void resize(  int capacity){
    assert capacity >= n;
    double[] temp=new double[capacity];
    for (int i=0; i < n; i++)     temp[i]=a[i];
    a=temp;
  }
  public void enqueue(  double item){
    if (n == a.length)     resize(2 * a.length);
    a[n++]=item;
  }
  public int size(){
    return n;
  }
  public double[] toArray(){
    double[] result=new double[n];
    for (int i=0; i < n; i++)     result[i]=a[i];
    return result;
  }
}
