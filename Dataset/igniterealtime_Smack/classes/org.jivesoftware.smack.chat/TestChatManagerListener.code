static class TestChatManagerListener extends WaitForPacketListener implements ChatManagerListener {
  private Chat newChat;
  private ChatMessageListener listener;
  TestChatManagerListener(  TestMessageListener msgListener){
    listener=msgListener;
  }
  TestChatManagerListener(){
  }
  @Override public void chatCreated(  Chat chat,  boolean createdLocally){
    newChat=chat;
    if (listener != null)     newChat.addMessageListener(listener);
    reportInvoked();
  }
  public Chat getNewChat(){
    return newChat;
  }
}
