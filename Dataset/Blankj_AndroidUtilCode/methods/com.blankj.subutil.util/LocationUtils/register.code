/** 
 * 注册 <p>使用完记得调用 {@link #unregister()}</p> <p>需添加权限  {@code <uses-permission android:name="android.permission.INTERNET" />}</p> <p>需添加权限  {@code <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />}</p> <p>需添加权限  {@code <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />}</p> <p>如果 {@code minDistance}为0，则通过 {@code minTime}来定时更新；</p> <p> {@code minDistance}不为0，则以 {@code minDistance}为准；</p> <p>两者都为0，则随时刷新。</p>
 * @param minTime     位置信息更新周期（单位：毫秒）
 * @param minDistance 位置变化最小距离：当位置距离变化超过此值时，将更新位置信息（单位：米）
 * @param listener    位置刷新的回调接口
 * @return {@code true}: 初始化成功<br> {@code false}: 初始化失败
 */
@RequiresPermission(ACCESS_FINE_LOCATION) public static boolean register(long minTime,long minDistance,OnLocationChangeListener listener){
  if (listener == null)   return false;
  mLocationManager=(LocationManager)Utils.getApp().getSystemService(Context.LOCATION_SERVICE);
  if (!mLocationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER) && !mLocationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)) {
    Log.d("LocationUtils","无法定位，请打开定位服务");
    return false;
  }
  mListener=listener;
  String provider=mLocationManager.getBestProvider(getCriteria(),true);
  Location location=mLocationManager.getLastKnownLocation(provider);
  if (location != null)   listener.getLastKnownLocation(location);
  if (myLocationListener == null)   myLocationListener=new MyLocationListener();
  mLocationManager.requestLocationUpdates(provider,minTime,minDistance,myLocationListener);
  return true;
}
