@Override public CharSequence toXML(org.jivesoftware.smack.packet.XmlEnvironment enclosingNamespace){
  XmlStringBuilder xml=new XmlStringBuilder();
  xml.openElement("configuration");
  xml.element("roomname",configuration.getRoomName());
  xml.optElement("subject",configuration.getSubject());
  if (configuration.getCustomConfigs() != null) {
    Iterator<Map.Entry<String,String>> it=configuration.getCustomConfigs().entrySet().iterator();
    while (it.hasNext()) {
      Map.Entry<String,String> pair=it.next();
      xml.element(pair.getKey(),pair.getValue());
    }
  }
  xml.closeElement("configuration");
  return xml;
}
