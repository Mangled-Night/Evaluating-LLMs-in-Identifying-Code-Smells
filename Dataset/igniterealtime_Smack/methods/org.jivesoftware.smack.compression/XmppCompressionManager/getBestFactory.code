public static XmppCompressionFactory getBestFactory(Compress.Feature compressFeature){
  List<String> announcedMethods=compressFeature.getMethods();
synchronized (xmppCompressionFactories) {
    for (    XmppCompressionFactory factory : xmppCompressionFactories) {
      if (announcedMethods.contains(factory.getCompressionMethod())) {
        return factory;
      }
    }
  }
  return null;
}
