/** 
 * Sends the specified element to the server.
 * @param element the element to send.
 * @throws NotConnectedException if the XMPP connection is not connected.
 * @throws InterruptedException if the calling thread was interrupted.
 */
protected void sendStreamElement(Element element) throws NotConnectedException, InterruptedException {
  throwNotConnectedExceptionIfDoneAndResumptionNotPossible();
  try {
    queue.put(element);
  }
 catch (  InterruptedException e) {
    throwNotConnectedExceptionIfDoneAndResumptionNotPossible();
    throw e;
  }
}
