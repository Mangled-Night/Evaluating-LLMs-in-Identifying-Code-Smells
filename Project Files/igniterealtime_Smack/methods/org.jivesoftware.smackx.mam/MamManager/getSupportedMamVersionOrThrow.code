private MamVersion getSupportedMamVersionOrThrow() throws XMPPErrorException, NotConnectedException, NoResponseException, InterruptedException {
  MamVersion mamVersion=getSupportedMamVersionOrNull();
  if (mamVersion == null) {
    throw new UnsupportedOperationException("Message Archive Management is not supported by " + getArchiveAddress());
  }
  return mamVersion;
}
