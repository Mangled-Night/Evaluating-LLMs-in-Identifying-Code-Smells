private DependencyResolver mockResolver(boolean success,Module... resolutionResult){
  DependencyResolver result=mock(DependencyResolver.class);
  DependencyResolver.ResolutionBuilder builder=mock(DependencyResolver.ResolutionBuilder.class);
  when(builder.requireVersion(any(),any())).thenReturn(builder);
  when(builder.requireAll(any(Name[].class))).thenReturn(builder);
  when(builder.build()).thenReturn(new ResolutionResult(success,new HashSet<>(Arrays.asList(resolutionResult))));
  when(result.builder()).thenReturn(builder);
  return result;
}
