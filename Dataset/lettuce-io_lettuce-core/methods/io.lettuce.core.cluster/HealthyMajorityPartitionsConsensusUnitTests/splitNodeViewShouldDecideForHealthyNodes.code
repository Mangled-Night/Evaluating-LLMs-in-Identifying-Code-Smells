@Test void splitNodeViewShouldDecideForHealthyNodes(){
  Partitions partitions1=createPartitions(node1,node2,node3);
  Partitions partitions2=createPartitions();
  Partitions partitions3=createPartitions(node3,node4,node5);
  Map<RedisURI,Partitions> map=createMap(partitions1,partitions2,partitions3);
  node1.setFlags(Collections.singleton(RedisClusterNode.NodeFlag.FAIL));
  node2.setFlags(Collections.singleton(RedisClusterNode.NodeFlag.FAIL));
  node3.setFlags(Collections.singleton(RedisClusterNode.NodeFlag.FAIL));
  Partitions result=PartitionsConsensus.HEALTHY_MAJORITY.getPartitions(null,map);
  assertThat(result).isSameAs(partitions3);
}
