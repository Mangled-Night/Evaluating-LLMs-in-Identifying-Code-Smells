private Constructor<?> getEventConstructor(Event event) throws NoSuchMethodException {
  Constructor<?> constructor;
synchronized (constructorMap) {
    constructor=constructorMap.get(event.getClass());
  }
  if (constructor == null) {
    String jfrClassName=event.getClass().getPackage().getName() + ".Jfr" + event.getClass().getSimpleName();
    Class<?> eventClass=LettuceClassUtils.findClass(jfrClassName);
    if (eventClass == null) {
      constructor=Object.class.getConstructor();
    }
 else {
      constructor=eventClass.getDeclaredConstructors()[0];
      constructor.setAccessible(true);
    }
synchronized (constructorMap) {
      constructorMap.put(event.getClass(),constructor);
    }
  }
  return constructor;
}
