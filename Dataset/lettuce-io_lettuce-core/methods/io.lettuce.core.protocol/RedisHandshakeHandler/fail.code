/** 
 * Complete the handshake future with an error and close the channel..
 */
protected void fail(ChannelHandlerContext ctx,Throwable cause){
  ctx.close().addListener(closeFuture -> {
    handshakeFuture.completeExceptionally(cause);
  }
);
}
