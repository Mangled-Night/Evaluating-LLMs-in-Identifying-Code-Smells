public void runAndReport() throws InterruptedException {
  executor.shutdown();
  SimpleDateFormat df=new SimpleDateFormat("dd HH:mm:ss");
  while (!executor.isTerminated()) {
    if (outputMiddleInf) {
      long sucess=finshiedCount.get() - failedCount.get();
      System.out.println(df.format(new Date()) + " finished records :" + finshiedCount.get()+ " failed:"+ failedCount.get()+ " speed:"+ sucess * 1000.0 / (System.currentTimeMillis() - start));
    }
    Thread.sleep(1000);
  }
  long usedTime=(System.currentTimeMillis() - start) / 1000;
  System.out.println("finishend:" + finshiedCount.get() + " failed:"+ failedCount.get());
  long sucess=finshiedCount.get() - failedCount.get();
  System.out.println("used time total:" + usedTime + "seconds");
  System.out.println("tps:" + sucess / (usedTime + 0.1));
}
