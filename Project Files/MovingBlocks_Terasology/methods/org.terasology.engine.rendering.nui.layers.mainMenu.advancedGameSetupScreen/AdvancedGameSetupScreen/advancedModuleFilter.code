private void advancedModuleFilter(){
  Iterator<ModuleSelectionInfo> iter=sortedModules.iterator();
  while (iter.hasNext()) {
    ModuleSelectionInfo m=iter.next();
    Module module;
    if (m.isPresent()) {
      module=moduleManager.getRegistry().getLatestModuleVersion(m.getMetadata().getId());
    }
 else {
      module=(m.getOnlineVersion() == null) ? m.getLatestVersion() : m.getOnlineVersion();
    }
    boolean matches=false;
    Collection<StandardModuleExtension> selectedStandardModuleExtensions=selectModulesConfig.getSelectedStandardModuleExtensions();
    for (    StandardModuleExtension standardModuleExtension : selectedStandardModuleExtensions) {
      if (standardModuleExtension != null && standardModuleExtension.isProvidedBy(module)) {
        matches=true;
        break;
      }
    }
    if (!matches) {
      iter.remove();
    }
  }
}
