private void enableWrite(boolean wakeup){
  boolean needWakeup=false;
  try {
    SelectionKey key=this.processKey;
    key.interestOps(key.interestOps() | SelectionKey.OP_WRITE);
    needWakeup=true;
  }
 catch (  Exception e) {
    AbstractConnection.LOGGER.warn("can't enable write " + e);
  }
  if (needWakeup && wakeup) {
    processKey.selector().wakeup();
  }
}
