public <B extends ModularXmppClientToServerConnectionModuleDescriptor.Builder>B with(Class<? extends B> moduleDescriptorBuilderClass){
  Constructor<? extends B> moduleDescriptorBuilderCosntructor;
  try {
    moduleDescriptorBuilderCosntructor=moduleDescriptorBuilderClass.getDeclaredConstructor(ModularXmppClientToServerConnectionConfiguration.Builder.class);
  }
 catch (  NoSuchMethodException|SecurityException e) {
    throw new IllegalArgumentException(e);
  }
  moduleDescriptorBuilderCosntructor.setAccessible(true);
  B moduleDescriptorBuilder;
  try {
    moduleDescriptorBuilder=moduleDescriptorBuilderCosntructor.newInstance(this);
  }
 catch (  InstantiationException|IllegalAccessException|IllegalArgumentException|InvocationTargetException e) {
    throw new IllegalArgumentException(e);
  }
  return moduleDescriptorBuilder;
}
