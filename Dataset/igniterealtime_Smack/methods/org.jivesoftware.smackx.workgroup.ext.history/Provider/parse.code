@Override public ChatMetadata parse(XmlPullParser parser,int initialDepth,IqData iqData,XmlEnvironment xmlEnvironment) throws XmlPullParserException, IOException {
  final ChatMetadata chatM=new ChatMetadata();
  boolean done=false;
  while (!done) {
    XmlPullParser.Event eventType=parser.next();
    if (eventType == XmlPullParser.Event.START_ELEMENT) {
      if (parser.getName().equals("sessionID")) {
        chatM.setSessionID(parser.nextText());
      }
 else       if (parser.getName().equals("metadata")) {
        Map<String,List<String>> map=MetaDataUtils.parseMetaData(parser);
        chatM.setMetadata(map);
      }
    }
 else     if (eventType == XmlPullParser.Event.END_ELEMENT) {
      if (parser.getName().equals(ELEMENT_NAME)) {
        done=true;
      }
    }
  }
  return chatM;
}
