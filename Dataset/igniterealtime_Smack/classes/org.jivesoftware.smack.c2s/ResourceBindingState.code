private final class ResourceBindingState extends State {
  private ResourceBindingState(  StateDescriptor stateDescriptor,  ModularXmppClientToServerConnectionInternal connectionInternal){
    super(stateDescriptor,connectionInternal);
  }
  @Override public StateTransitionResult.AttemptResult transitionInto(  WalkStateGraphContext walkStateGraphContext) throws IOException, SmackException, InterruptedException, XMPPException {
    lastFeaturesReceived=true;
    notifyWaitingThreads();
    LoginContext loginContext=walkStateGraphContext.getLoginContext();
    Resourcepart resource=bindResourceAndEstablishSession(loginContext.resource);
    streamResumed=false;
    return new ResourceBoundResult(resource,loginContext.resource);
  }
}
