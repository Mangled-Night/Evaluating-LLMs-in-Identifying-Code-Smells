/** 
 * Redirect output FBO from one node to another's input <p> Usage:  {@code dagRedirect <connectionTypeString> <fromNodeUri> <outputFboId> <toNodeUri> <inputFboId>}<p> Example: dagRedirect fbo blurredAmbientOcclusion 1 BasicRendering:outputToScreenNode 1 dagRedirect bufferpair backdrop 1 AdvancedRendering:intermediateHazeNode 1
 */
@Command(shortDescription="Debugging command for DAG.",requiredPermission=PermissionManager.NO_PERMISSION) public void dagRedirect(@CommandParam("fromNodeUri") final String connectionTypeString,@CommandParam("fromNodeUri") final String fromNodeUri,@CommandParam("outputFboId") final int outputFboId,@CommandParam("toNodeUri") final String toNodeUri,@CommandParam(value="inputFboId") final int inputFboId){
  RenderGraph.ConnectionType connectionType;
  if (connectionTypeString.equalsIgnoreCase("fbo")) {
    connectionType=RenderGraph.ConnectionType.FBO;
  }
 else   if (connectionTypeString.equalsIgnoreCase("bufferpair")) {
    connectionType=RenderGraph.ConnectionType.BUFFER_PAIR;
  }
 else {
    throw new RuntimeException(("Unsupported connection type: '" + connectionTypeString + "'. Expected 'fbo' "+ "or 'bufferpair'.\n"));
  }
  Node toNode=renderGraph.findNode(toNodeUri);
  if (toNode == null) {
    toNode=renderGraph.findAka(toNodeUri);
    if (toNode == null) {
      throw new RuntimeException(("No node is associated with URI '" + toNodeUri + "'"));
    }
  }
  Node fromNode=renderGraph.findNode(fromNodeUri);
  if (fromNode == null) {
    fromNode=renderGraph.findAka(fromNodeUri);
    if (fromNode == null) {
      throw new RuntimeException(("No node is associated with URI '" + fromNodeUri + "'"));
    }
  }
  renderGraph.reconnectInputToOutput(fromNode,outputFboId,toNode,inputFboId,connectionType,true);
  toNode.clearDesiredStateChanges();
  requestTaskListRefresh();
}
