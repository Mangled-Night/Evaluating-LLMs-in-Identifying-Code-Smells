private void checkBlockEntry(EntityRef entity,Vector3i oldPosition,Vector3i newPosition,float characterHeight){
  if (!oldPosition.equals(newPosition)) {
    int characterHeightInBlocks=(int)Math.ceil(characterHeight);
    Block[] oldBlocks=new Block[characterHeightInBlocks];
    for (int y=0; y < characterHeightInBlocks; y++) {
      oldBlocks[y]=worldProvider.getBlock(oldPosition.x,oldPosition.y + y,oldPosition.z);
    }
    Block[] newBlocks=new Block[characterHeightInBlocks];
    for (int y=0; y < characterHeightInBlocks; y++) {
      newBlocks[y]=worldProvider.getBlock(newPosition.x,newPosition.y + y,newPosition.z);
    }
    for (int y=0; y < characterHeightInBlocks; y++) {
      entity.send(new OnEnterBlockEvent(oldBlocks[y],newBlocks[y],new Vector3i(0,y,0)));
    }
  }
}
