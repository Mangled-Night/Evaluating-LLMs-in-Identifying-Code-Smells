@Override public String toXML(org.jivesoftware.smack.packet.XmlEnvironment enclosingNamespace){
  StringBuilder buffer=new StringBuilder();
  buffer.append('<').append(getElementName()).append(" xmlns=\"").append(getNamespace()).append("\" ");
  if (getName() != null) {
    buffer.append("name=\"").append(StringUtils.escapeForXmlAttribute(getName())).append("\" ");
  }
  if (getSize() > 0) {
    buffer.append("size=\"").append(getSize()).append("\" ");
  }
  if (getDate() != null) {
    buffer.append("date=\"").append(XmppDateTime.formatXEP0082Date(date)).append("\" ");
  }
  if (getHash() != null) {
    buffer.append("hash=\"").append(getHash()).append("\" ");
  }
  if ((desc != null && desc.length() > 0) || isRanged) {
    buffer.append('>');
    if (getDesc() != null && desc.length() > 0) {
      buffer.append("<desc>").append(StringUtils.escapeForXmlText(getDesc())).append("</desc>");
    }
    if (isRanged()) {
      buffer.append("<range/>");
    }
    buffer.append("</").append(getElementName()).append('>');
  }
 else {
    buffer.append("/>");
  }
  return buffer.toString();
}
@Override public String toXML(org.jivesoftware.smack.packet.XmlEnvironment enclosingNamespace){
  StringBuilder buf=new StringBuilder();
  buf.append("<feature xmlns=\"http://jabber.org/protocol/feature-neg\">");
  buf.append(data.toXML());
  buf.append("</feature>");
  return buf.toString();
}
