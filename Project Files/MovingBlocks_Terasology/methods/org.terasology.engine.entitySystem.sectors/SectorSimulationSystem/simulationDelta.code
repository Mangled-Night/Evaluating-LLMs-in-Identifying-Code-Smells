/** 
 * Calculate the time since the last  {@link SectorSimulationEvent} was sent. This also updates the{@link SectorSimulationComponent#lastSimulationTime}, so future deltas will be correct.
 * @param entity
 * @return
 */
private long simulationDelta(EntityRef entity){
  SectorSimulationComponent simulationComponent=entity.getComponent(SectorSimulationComponent.class);
  long currentTime=time.getGameTimeInMs();
  if (simulationComponent.lastSimulationTime == 0) {
    simulationComponent.lastSimulationTime=currentTime;
  }
  long delta=currentTime - simulationComponent.lastSimulationTime;
  simulationComponent.lastSimulationTime=currentTime;
  return delta;
}
