/** 
 * In standalone module environments (i.e. Jenkins CI builds) the CWD is the module under test. When it uses MTE it very likely needs to load itself as a module, but it won't be loadable from the typical path such as ./modules. This means that modules using MTE would always fail CI tests due to failing to load themselves. <p> For these cases we try to load the CWD (via the installPath) as a module and put it in the global module registry. <p> This process is based on how ModuleManagerImpl uses ModulePathScanner to scan for available modules.
 */
static void registerCurrentDirectoryIfModule(ModuleManager moduleManager){
  Path installPath=PathManager.getInstance().getInstallPath();
  ModuleRegistry registry=moduleManager.getRegistry();
  ModuleMetadataJsonAdapter metadataReader=moduleManager.getModuleMetadataReader();
  moduleManager.getModuleFactory().getModuleMetadataLoaderMap().put(TerasologyConstants.MODULE_INFO_FILENAME.toString(),metadataReader);
  try {
    Module module=moduleManager.getModuleFactory().createModule(installPath.toFile());
    if (module != null) {
      registry.add(module);
      logger.info("Added install path as module: {}",installPath);
    }
 else {
      logger.info("Install path does not appear to be a module: {}",installPath);
    }
  }
 catch (  IOException e) {
    logger.warn("Could not read install path as module at " + installPath);
  }
}
