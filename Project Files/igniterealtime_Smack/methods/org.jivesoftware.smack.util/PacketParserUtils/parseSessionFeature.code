public static Session.Feature parseSessionFeature(XmlPullParser parser) throws XmlPullParserException, IOException {
  ParserUtils.assertAtStartTag(parser);
  final int initialDepth=parser.getDepth();
  boolean optional=false;
  outerloop:   while (true) {
    XmlPullParser.Event event=parser.next();
switch (event) {
case START_ELEMENT:
      String name=parser.getName();
switch (name) {
case Session.Feature.OPTIONAL_ELEMENT:
      optional=true;
    break;
}
break;
case END_ELEMENT:
if (parser.getDepth() == initialDepth) {
break outerloop;
}
break;
default :
break;
}
}
return new Session.Feature(optional);
}
