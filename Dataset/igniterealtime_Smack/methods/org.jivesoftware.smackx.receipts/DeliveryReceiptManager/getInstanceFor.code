/** 
 * Obtain the DeliveryReceiptManager responsible for a connection.
 * @param connection the connection object.
 * @return the DeliveryReceiptManager instance for the given connection
 */
public static synchronized DeliveryReceiptManager getInstanceFor(XMPPConnection connection){
  DeliveryReceiptManager receiptManager=instances.get(connection);
  if (receiptManager == null) {
    receiptManager=new DeliveryReceiptManager(connection);
    instances.put(connection,receiptManager);
  }
  return receiptManager;
}
