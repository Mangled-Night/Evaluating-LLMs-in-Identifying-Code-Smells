private static final class GenericInterceptorWrapper<MPB extends MessageOrPresenceBuilder<MP,MPB>,MP extends MessageOrPresence<MPB>> {
  private final Consumer<MPB> stanzaInterceptor;
  private final Predicate<MP> stanzaFilter;
  private GenericInterceptorWrapper(  Consumer<MPB> stanzaInterceptor,  Predicate<MP> stanzaFilter){
    this.stanzaInterceptor=stanzaInterceptor;
    this.stanzaFilter=stanzaFilter;
  }
  private boolean filterMatches(  MP stanza){
    return stanzaFilter == null || stanzaFilter.test(stanza);
  }
  public Consumer<MPB> getInterceptor(){
    return stanzaInterceptor;
  }
}
