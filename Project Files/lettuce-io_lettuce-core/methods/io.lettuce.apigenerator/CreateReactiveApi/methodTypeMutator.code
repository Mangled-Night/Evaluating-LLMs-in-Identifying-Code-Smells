/** 
 * Mutate type to async result.
 * @return
 */
Function<MethodDeclaration,Type> methodTypeMutator(){
  return method -> {
    ClassOrInterfaceDeclaration declaringClass=(ClassOrInterfaceDeclaration)method.getParentNode().get();
    String baseType="Mono";
    String typeArgument=method.getType().toString().trim();
    String fixedResultType=getResultType(method,declaringClass);
    if (fixedResultType != null) {
      return new ClassOrInterfaceType(fixedResultType);
    }
 else     if (CompilationUnitFactory.contains(FORCE_FLUX_RESULT,method)) {
      baseType="Flux";
    }
 else     if (typeArgument.startsWith("List<")) {
      baseType="Flux";
      typeArgument=typeArgument.substring(5,typeArgument.length() - 1);
    }
 else     if (typeArgument.startsWith("Set<")) {
      baseType="Flux";
      typeArgument=typeArgument.substring(4,typeArgument.length() - 1);
    }
 else {
      baseType="Mono";
    }
    if (fixedResultType == null && CompilationUnitFactory.contains(VALUE_WRAP,method)) {
      typeArgument=String.format("Value<%s>",typeArgument);
    }
    return CompilationUnitFactory.createParametrizedType(baseType,typeArgument);
  }
;
}
