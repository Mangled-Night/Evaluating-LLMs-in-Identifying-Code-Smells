public static String getString(ByteBuffer buffer){
  Charset charset=null;
  CharsetDecoder decoder=null;
  CharBuffer charBuffer=null;
  try {
    charset=Charset.forName("UTF-8");
    decoder=charset.newDecoder();
    charBuffer=decoder.decode(buffer.asReadOnlyBuffer());
    return charBuffer.toString();
  }
 catch (  Exception ex) {
    ex.printStackTrace();
    return "error";
  }
}
