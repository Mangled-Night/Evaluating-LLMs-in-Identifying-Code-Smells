@SuppressWarnings("FieldCanBeLocal") class VectorTypeSerializerTest extends ModuleEnvironmentTest {
static class TestObject {
    public Vector3f v1;
    public Vector2f v2;
    public Vector4f v3;
  }
static class TestObject2 {
    public Vector3fc v1;
    public Vector4fc v2;
    public Vector2fc v3;
  }
  private TypeHandlerLibrary typeHandlerLibrary;
  private Serializer<?> gsonSerializer;
  private Gson gson=new Gson();
  @Override public void setup(){
    ModuleContext.setContext(moduleManager.getEnvironment().get(new Name("unittest")));
    typeHandlerLibrary=TypeHandlerLibraryImpl.forModuleEnvironment(moduleManager,typeRegistry);
    gsonSerializer=new Serializer<>(typeHandlerLibrary,new GsonPersistedDataSerializer(),new GsonPersistedDataWriter(gson),new GsonPersistedDataReader(gson));
  }
  @Test void testSerializationConstant(){
    TestObject2 a=new TestObject2();
    a.v1=new Vector3f(1.0f,2.0f,3.0f);
    a.v2=new Vector4f(1.0f,2.0f,3.0f,5.0f);
    a.v3=new Vector2f(1.0f,2.0f);
    byte[] data=gsonSerializer.serialize(a,new TypeInfo<TestObject2>(){
    }
).get();
    TestObject2 o=gsonSerializer.deserialize(new TypeInfo<TestObject2>(){
    }
,data).get();
    assertEquals(new Vector3f(1.0f,2.0f,3.0f),o.v1,.00001f);
    assertEquals(new Vector4f(1.0f,2.0f,3.0f,5.0f),o.v2,.00001f);
    assertEquals(new Vector2f(1.0f,2.0f),o.v3,.00001f);
  }
}
