/** 
 * Initiating SASL authentication by select a mechanism.
 */
class AuthMechanism implements SaslNonza {
  public static final String ELEMENT="auth";
  public static final QName QNAME=new QName(NAMESPACE,ELEMENT);
  private final String mechanism;
  private final String authenticationText;
  public AuthMechanism(  String mechanism,  String authenticationText){
    this.mechanism=Objects.requireNonNull(mechanism,"SASL mechanism shouldn't be null.");
    this.authenticationText=StringUtils.requireNotNullNorEmpty(authenticationText,"SASL authenticationText must not be null nor empty (RFC6120 6.4.2)");
  }
  @Override public XmlStringBuilder toXML(  XmlEnvironment xmlEnvironment){
    XmlStringBuilder xml=new XmlStringBuilder(this,xmlEnvironment);
    xml.attribute("mechanism",mechanism).rightAngleBracket();
    xml.escape(authenticationText);
    xml.closeElement(this);
    return xml;
  }
  public String getMechanism(){
    return mechanism;
  }
  public String getAuthenticationText(){
    return authenticationText;
  }
  @Override public String getElementName(){
    return ELEMENT;
  }
}
