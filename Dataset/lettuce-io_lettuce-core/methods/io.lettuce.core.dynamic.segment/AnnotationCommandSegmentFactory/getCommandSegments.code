private CommandSegments getCommandSegments(String[] split){
  List<CommandSegment> segments=new ArrayList<>();
  for (  String segment : split) {
    if (segment.startsWith(INDEX_BASED_PARAM_START)) {
      segments.add(parseIndexBasedArgument(segment));
      continue;
    }
    if (segment.startsWith(NAME_BASED_PARAM_START)) {
      segments.add(parseNameBasedArgument(segment));
      continue;
    }
    segments.add(CommandSegment.constant(segment));
  }
  return new CommandSegments(segments);
}
