public GameManifest createGameManifest(){
  GameManifest gameManifest=new GameManifest();
  Config config=context.get(Config.class);
  ModuleManager moduleManager=context.get(ModuleManager.class);
  for (  Name moduleName : config.getDefaultModSelection().listModules()) {
    Module module=moduleManager.getRegistry().getLatestModuleVersion(moduleName);
    if (module != null) {
      gameManifest.addModule(module.getId(),module.getVersion());
    }
 else     if (strictModuleRequirements) {
      throw new RuntimeException("ModuleRegistry has no latest version for module " + moduleName);
    }
 else {
      logger.warn("ModuleRegistry has no latest version for module {}",moduleName);
    }
  }
  WorldGenerationConfig worldGenConfig=config.getWorldGeneration();
  if (!worldGenConfig.getDefaultGenerator().isValid()) {
    for (    Name moduleName : config.getDefaultModSelection().listModules()) {
      Module module=moduleManager.getRegistry().getLatestModuleVersion(moduleName);
      if (StandardModuleExtension.isGameplayModule(module)) {
        SimpleUri defaultWorldGenerator=StandardModuleExtension.getDefaultWorldGenerator(module);
        worldGenConfig.setDefaultGenerator(defaultWorldGenerator);
        break;
      }
    }
  }
  SimpleUri worldGeneratorUri=worldGenConfig.getDefaultGenerator();
  gameManifest.setTitle(worldGenConfig.getWorldTitle());
  gameManifest.setSeed(worldGenConfig.getDefaultSeed());
  WorldInfo worldInfo=new WorldInfo(TerasologyConstants.MAIN_WORLD,worldGenConfig.getWorldTitle(),gameManifest.getSeed(),(long)(WorldTime.DAY_LENGTH * WorldTime.NOON_OFFSET),worldGeneratorUri);
  gameManifest.addWorld(worldInfo);
  return gameManifest;
}
