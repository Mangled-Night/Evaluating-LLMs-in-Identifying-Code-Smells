@Test public void setPresenceTypeTest() throws IOException, SAXException {
  Presence.Type type=Presence.Type.unavailable;
  Presence.Type type2=Presence.Type.subscribe;
  StringBuilder controlBuilder=new StringBuilder();
  controlBuilder.append("<presence").append(" type=\"").append(type).append("\">").append("</presence>");
  String control=controlBuilder.toString();
  Presence presenceTypeInConstructor=StanzaBuilder.buildPresence().ofType(type).build();
  assertEquals(type,presenceTypeInConstructor.getType());
  assertXmlSimilar(control,presenceTypeInConstructor.toXML(StreamOpen.CLIENT_NAMESPACE).toString());
  controlBuilder=new StringBuilder();
  controlBuilder.append("<presence").append(" type=\"").append(type2).append("\">").append("</presence>");
  control=controlBuilder.toString();
  PresenceBuilder presenceTypeSet=getNewPresence();
  presenceTypeSet.ofType(type2);
  assertEquals(type2,presenceTypeSet.getType());
  assertXmlSimilar(control,presenceTypeSet.build().toXML(StreamOpen.CLIENT_NAMESPACE).toString());
}
