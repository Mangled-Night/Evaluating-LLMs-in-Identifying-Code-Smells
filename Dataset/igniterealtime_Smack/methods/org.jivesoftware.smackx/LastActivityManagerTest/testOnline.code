/** 
 * This is a test to check if a LastActivity request for idle time is answered and correct.
 */
public void testOnline(){
  TCPConnection conn0=getConnection(0);
  TCPConnection conn1=getConnection(1);
  conn1.sendStanza(new Message(getBareJID(0)));
  try {
    Thread.sleep(1000);
  }
 catch (  InterruptedException e) {
    e.printStackTrace();
    fail("Thread sleep interrupted");
  }
  LastActivity lastActivity=null;
  try {
    lastActivity=LastActivityManager.getLastActivity(conn0,getFullJID(1));
  }
 catch (  XMPPException e) {
    e.printStackTrace();
    fail("An error occurred requesting the Last Activity");
  }
  assertNotNull("No last activity packet",lastActivity);
  assertTrue("The last activity idle time is less than expected: " + lastActivity.getIdleTime(),lastActivity.getIdleTime() >= 1);
}
