/** 
 * @author hengyunabc 2019-10-31
 */
public class GrepCommandTest {
  private static CLI cli=null;
  @Before public void before(){
    cli=CLIConfigurator.define(GrepCommand.class);
  }
  @Test public void test(){
    List<String> args=Arrays.asList("-v","ppp");
    GrepCommand grepCommand=new GrepCommand();
    CommandLine commandLine=cli.parse(args,true);
    try {
      CLIConfigurator.inject(commandLine,grepCommand);
    }
 catch (    Throwable e) {
      throw new RuntimeException(e);
    }
    Assert.assertTrue(grepCommand.isInvertMatch());
  }
  @Test public void test2(){
    List<String> args=Arrays.asList("--before-context=6","ppp");
    GrepCommand grepCommand=new GrepCommand();
    CommandLine commandLine=cli.parse(args,true);
    try {
      CLIConfigurator.inject(commandLine,grepCommand);
    }
 catch (    Throwable e) {
      throw new RuntimeException(e);
    }
    Assert.assertEquals(6,grepCommand.getBeforeLines());
  }
  @Test public void test3(){
    List<String> args=Arrays.asList("--trim-end=false","ppp");
    GrepCommand grepCommand=new GrepCommand();
    CommandLine commandLine=cli.parse(args,true);
    try {
      CLIConfigurator.inject(commandLine,grepCommand);
    }
 catch (    Throwable e) {
      throw new RuntimeException(e);
    }
    Assert.assertFalse(grepCommand.isTrimEnd());
  }
}
