private <C extends AbstractXMPPConnection>C constructConnectedConnection(XmppConnectionDescriptor<C,? extends ConnectionConfiguration,? extends ConnectionConfiguration.Builder<?,?>> connectionDescriptor) throws InterruptedException, SmackException, IOException, XMPPException {
  C connection=constructConnection(connectionDescriptor,null);
  connection.connect();
  connection.login();
  return connection;
}
