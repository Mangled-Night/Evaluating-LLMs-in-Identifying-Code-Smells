@Override public void setReadFrom(ReadFrom readFrom){
synchronized (stateLock) {
    this.readFrom=readFrom;
    Arrays.fill(readers,null);
  }
}
