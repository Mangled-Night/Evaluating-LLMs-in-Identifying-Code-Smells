static Function<ProxySocketConnection,ProxyInfo> forProxyType(ProxyInfo.ProxyType proxyType){
switch (proxyType) {
case HTTP:
    return HTTPProxySocketConnection::new;
case SOCKS4:
  return Socks4ProxySocketConnection::new;
case SOCKS5:
return Socks5ProxySocketConnection::new;
default :
throw new AssertionError("Unknown proxy type: " + proxyType);
}
}
