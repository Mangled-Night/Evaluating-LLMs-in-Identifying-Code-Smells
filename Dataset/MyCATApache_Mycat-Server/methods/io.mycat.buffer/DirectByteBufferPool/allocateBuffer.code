private ByteBuffer allocateBuffer(int theChunkCount,int startPage,int endPage){
  for (int i=startPage; i < endPage; i++) {
    ByteBuffer buffer=allPages[i].allocatChunk(theChunkCount);
    if (buffer != null) {
      prevAllocatedPage.getAndSet(i);
      return buffer;
    }
  }
  return null;
}
