/** 
 * Return a set of all OMEMO capable devices of a contact. Note, that this method does not explicitly refresh the device list of the contact, so it might be outdated.
 * @see #requestDeviceListUpdateFor(BareJid)
 * @param contact contact we want to get a set of device of.
 * @return set of known devices of that contact.
 * @throws IOException if an I/O error occurred.
 */
public Set<OmemoDevice> getDevicesOf(BareJid contact) throws IOException {
  OmemoCachedDeviceList list=getOmemoService().getOmemoStoreBackend().loadCachedDeviceList(getOwnDevice(),contact);
  HashSet<OmemoDevice> devices=new HashSet<>();
  for (  int deviceId : list.getActiveDevices()) {
    devices.add(new OmemoDevice(contact,deviceId));
  }
  return devices;
}
