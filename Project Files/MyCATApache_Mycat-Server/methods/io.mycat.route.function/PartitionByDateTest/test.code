@Test public void test(){
  PartitionByDate partition=new PartitionByDate();
  partition.setDateFormat("yyyy-MM-dd");
  partition.setsBeginDate("2014-01-01");
  partition.setsPartionDay("10");
  partition.init();
  Assert.assertEquals(true,0 == partition.calculate("2014-01-01"));
  Assert.assertEquals(true,0 == partition.calculate("2014-01-10"));
  Assert.assertEquals(true,1 == partition.calculate("2014-01-11"));
  Assert.assertEquals(true,12 == partition.calculate("2014-05-01"));
  partition.setDateFormat("yyyy-MM-dd");
  partition.setsBeginDate("2014-01-01");
  partition.setsEndDate("2014-01-31");
  partition.setsPartionDay("10");
  partition.init();
  Assert.assertEquals(true,0 == partition.calculate("2014-01-01"));
  Assert.assertEquals(true,0 == partition.calculate("2014-01-10"));
  Assert.assertEquals(true,1 == partition.calculate("2014-01-11"));
  Assert.assertEquals(true,3 == partition.calculate("2014-02-01"));
  Assert.assertEquals(true,0 == partition.calculate("2014-02-19"));
  Assert.assertEquals(true,1 == partition.calculate("2014-02-20"));
  Assert.assertEquals(true,1 == partition.calculate("2014-03-01"));
  Assert.assertEquals(true,2 == partition.calculate("2014-03-02"));
  Assert.assertEquals(true,2 == partition.calculate("2014-03-11"));
  Assert.assertEquals(true,3 == partition.calculate("2014-03-20"));
  partition.setDateFormat("yyyy-MM-dd");
  partition.setsBeginDate("2014-01-01");
  partition.setsEndDate("2014-01-31");
  partition.setsPartionDay("1");
  partition.init();
  Assert.assertEquals(true,0 == partition.calculate("2014-01-01"));
  Assert.assertEquals(true,9 == partition.calculate("2014-01-10"));
  Assert.assertEquals(true,10 == partition.calculate("2014-01-11"));
  Assert.assertEquals(true,0 == partition.calculate("2014-02-01"));
  System.out.println(partition.calculate("2014-02-19"));
  PartitionByDate partition2=new PartitionByDate();
  partition2.setDateFormat("yyyy-MM-dd");
  partition2.setsNaturalDay("1");
  partition2.init();
  Assert.assertEquals(true,19 == partition2.calculate("2014-01-20"));
  Assert.assertEquals(true,0 == partition2.calculate("2014-03-01"));
  Assert.assertEquals(true,30 == partition2.calculate("2018-03-31"));
  partition2.setDateFormat("yyyy-MM-dd");
  partition2.setsNaturalDay("1");
  partition2.setsPartionDay("1");
  partition2.setsBeginDate("2014-01-02");
  partition2.init();
  Assert.assertEquals(true,19 == partition2.calculate("2014-01-20"));
  Assert.assertEquals(true,0 == partition2.calculate("2014-03-01"));
  Assert.assertEquals(true,30 == partition2.calculate("2018-03-31"));
  PartitionByDate partition3=new PartitionByDate();
  partition3.setDateFormat("yyyy-MM-dd");
  partition3.setsNaturalDay("1");
  partition3.setsPartionDay("1");
  partition3.setsBeginDate("2014-01-02");
  partition3.setsEndDate("2014-01-20");
  partition3.init();
  Assert.assertEquals(true,0 == partition3.calculate("2014-01-02"));
  Assert.assertEquals(true,1 == partition3.calculate("2014-01-03"));
  Assert.assertEquals(true,2 == partition3.calculate("2014-01-04"));
  Assert.assertEquals(true,6 == partition3.calculate("2014-01-08"));
  Assert.assertEquals(true,8 == partition3.calculate("2014-01-10"));
  Assert.assertEquals(true,12 == partition3.calculate("2014-01-14"));
  Assert.assertEquals(true,18 == partition3.calculate("2014-01-20"));
  System.out.println(partition3.calculate("2014-03-01"));
  partition.setsNaturalDay("1");
  partition.setsBeginDate("2014-01-01");
  partition.setsEndDate("2014-01-24");
  partition.setsPartionDay("10");
  partition.init();
  Assert.assertEquals(true,0 == partition.calculate("2014-01-01"));
  Assert.assertEquals(true,0 == partition.calculate("2014-01-10"));
  Assert.assertEquals(true,0 == partition.calculate("2014-01-05"));
  Assert.assertEquals(true,1 == partition.calculate("2014-01-20"));
  System.out.println("------------success!----");
  partition.setsNaturalDay("1");
  partition.setsBeginDate("2014-01-01");
  partition.setsEndDate("2014-01-29");
  partition.setsPartionDay("10");
  partition.init();
  Assert.assertEquals(true,0 == partition.calculate("2014-01-01"));
  Assert.assertEquals(true,9 == partition.calculate("2014-01-10"));
  Assert.assertEquals(true,4 == partition.calculate("2014-01-05"));
  Assert.assertEquals(true,19 == partition.calculate("2014-01-20"));
  Assert.assertEquals(true,30 == partition.calculate("2018-01-31"));
  partition.setsNaturalDay("1");
  partition.setsBeginDate("2014-01-01");
  partition.setsEndDate("2018-01-29");
  partition.setsPartionDay("1");
  partition.init();
  Assert.assertEquals(true,0 == partition.calculate("2014-01-01"));
  Assert.assertEquals(true,9 == partition.calculate("2014-01-10"));
  Assert.assertEquals(true,4 == partition.calculate("2014-01-05"));
  Assert.assertEquals(true,19 == partition.calculate("2014-01-20"));
  Assert.assertEquals(true,30 == partition.calculate("2018-01-31"));
  System.out.println("------------success!----");
}
