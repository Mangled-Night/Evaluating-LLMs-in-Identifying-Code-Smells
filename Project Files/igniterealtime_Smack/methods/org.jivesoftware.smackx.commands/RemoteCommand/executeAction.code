private void executeAction(Action action) throws NoResponseException, XMPPErrorException, NotConnectedException, InterruptedException {
  executeAction(action,null);
}
/** 
 * Executes the <code>action</code> with the <code>form</code>. The action could be any of the available actions. The form must be the answer of the previous stage. It can be <code>null</code> if it is the first stage.
 * @param action the action to execute.
 * @param form the form with the information.
 * @throws XMPPErrorException if there is a problem executing the command.
 * @throws NoResponseException if there was no response from the server.
 * @throws NotConnectedException if the XMPP connection is not connected.
 * @throws InterruptedException if the calling thread was interrupted.
 */
private void executeAction(Action action,DataForm form) throws NoResponseException, XMPPErrorException, NotConnectedException, InterruptedException {
  AdHocCommandData data=new AdHocCommandData();
  data.setType(IQ.Type.set);
  data.setTo(getOwnerJID());
  data.setNode(getNode());
  data.setSessionID(sessionID);
  data.setAction(action);
  data.setForm(form);
  AdHocCommandData responseData=null;
  try {
    responseData=connection.sendIqRequestAndWaitForResponse(data);
  }
  finally {
    if (responseData != null) {
      this.sessionID=responseData.getSessionID();
      super.setData(responseData);
    }
  }
}
