public class Java7SmackInitializer implements SmackInitializer {
  @Override public List<Exception> initialize(){
    if (SystemUtil.onAndroid()) {
      throw new RuntimeException("You need to remove the smack-java8 dependency/jar from your build, " + "as it does not run on Android. " + "Use smack-android instead.");
    }
    SmackConfiguration.setDefaultHostnameVerifier(new XmppHostnameVerifier());
    Base64.setEncoder(Java7Base64Encoder.getInstance());
    Base64UrlSafeEncoder.setEncoder(Java7Base64UrlSafeEncoder.getInstance());
    return null;
  }
}
