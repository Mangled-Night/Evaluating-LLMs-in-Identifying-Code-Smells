/** 
 * Return the OmemoElement wrapped in a Message ready to be sent. The message is addressed to recipient, contains the OmemoElement as well as an optional clear text hint as body, a MAM storage hint and an EME hint about OMEMO encryption.
 * @param messageBuilder a message builder which will be used to build the message.
 * @param recipient recipient for the to-field of the message.
 * @return the build message.
 */
public Message buildMessage(MessageBuilder messageBuilder,Jid recipient){
  messageBuilder.ofType(Message.Type.chat).to(recipient);
  messageBuilder.addExtension(getElement());
  if (OmemoConfiguration.getAddOmemoHintBody()) {
    messageBuilder.setBody(BODY_OMEMO_HINT);
  }
  StoreHint.set(messageBuilder);
  messageBuilder.addExtension(new ExplicitMessageEncryptionElement(OMEMO_NAMESPACE_V_AXOLOTL,OMEMO));
  return messageBuilder.build();
}
