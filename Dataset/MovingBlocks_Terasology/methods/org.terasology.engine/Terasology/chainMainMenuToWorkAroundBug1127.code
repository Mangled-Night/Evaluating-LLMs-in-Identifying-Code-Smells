/** 
 * Chain states to load after MainMenu. <p> Things are broken when we're not headless and try to skip MainMenu entirely.
 * @see <a href="https://github.com/MovingBlocks/Terasology/issues/1126">#1126</a>
 * @see <a href="https://github.com/MovingBlocks/Terasology/issues/1127">#1127</a>
 */
private GameState chainMainMenuToWorkAroundBug1127(GameState nextState){
  if (isHeadless || nextState == null || nextState instanceof StateMainMenu) {
    return nextState;
  }
  return new StateMainMenu(){
    @Override public void init(    GameEngine gameEngine){
      super.init(gameEngine);
      gameEngine.changeState(nextState);
    }
  }
;
}
