/** 
 * A SharedGroupManager provides services for discovering the shared groups where a user belongs.<p> Important note: This functionality is not part of the XMPP spec and it will only work with Wildfire.
 * @author Gaston Dombiak
 */
public class SharedGroupManager {
  /** 
 * Returns the collection that will contain the name of the shared groups where the user logged in with the specified session belongs.
 * @param connection connection to use to get the user's shared groups.
 * @return collection with the shared groups' name of the logged user.
 * @throws XMPPErrorException if there was an XMPP error returned.
 * @throws NoResponseException if there was no response from the remote entity.
 * @throws NotConnectedException if the XMPP connection is not connected.
 * @throws InterruptedException if the calling thread was interrupted.
 */
  public static List<String> getSharedGroups(  XMPPConnection connection) throws NoResponseException, XMPPErrorException, NotConnectedException, InterruptedException {
    SharedGroupsInfo info=new SharedGroupsInfo();
    info.setType(IQ.Type.get);
    SharedGroupsInfo result=connection.sendIqRequestAndWaitForResponse(info);
    return result.getGroups();
  }
}
