/** 
 * Manages subnegotiation for Terminal Type.
 * @param subn - subnegotiation data to be sent
 * @throws IOException - Exception in I/O.
 */
final synchronized void _sendSubnegotiation(int subn[]) throws IOException {
  if (debug) {
    System.err.println("SEND SUBNEGOTIATION: ");
    if (subn != null) {
      System.err.println(Arrays.toString(subn));
    }
  }
  if (subn != null) {
    _output_.write(_COMMAND_SB);
    for (    int element : subn) {
      byte b=(byte)element;
      if (b == (byte)TelnetCommand.IAC) {
        _output_.write(b);
      }
      _output_.write(b);
    }
    _output_.write(_COMMAND_SE);
    _output_.flush();
  }
}
