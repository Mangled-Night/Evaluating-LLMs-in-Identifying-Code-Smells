/** 
 * Jingle.
 * @author Jeff Williams
 * @see JingleSessionState
 */
public class JingleSessionStateActive extends JingleSessionState {
  private static final Logger LOGGER=Logger.getLogger(JingleSessionStateActive.class.getName());
  private static JingleSessionStateActive INSTANCE=null;
  protected JingleSessionStateActive(){
  }
  /** 
 * A thread-safe means of getting the one instance of this class.
 * @return The singleton instance of this class.
 */
  public static synchronized JingleSessionState getInstance(){
    if (INSTANCE == null) {
      INSTANCE=new JingleSessionStateActive();
    }
    return INSTANCE;
  }
  @Override public void enter(){
  }
  @Override public void exit(){
  }
  @Override public IQ processJingle(  JingleSession session,  Jingle jingle,  JingleActionEnum action){
    IQ response=null;
switch (action) {
case CONTENT_ACCEPT:
      break;
case CONTENT_ADD:
    break;
case CONTENT_MODIFY:
  break;
case CONTENT_REMOVE:
break;
case SESSION_INFO:
break;
case SESSION_TERMINATE:
receiveSessionTerminateAction(session,jingle);
break;
case TRANSPORT_INFO:
break;
default :
response=session.createJingleError(jingle,JingleError.OUT_OF_ORDER);
break;
}
return response;
}
/** 
 * Receive and process the <session-terminate> action.
 */
private static IQ receiveSessionTerminateAction(JingleSession session,Jingle jingle){
IQ response=session.createAck(jingle);
try {
session.terminate("Closed remotely");
}
 catch (Exception e) {
LOGGER.log(Level.WARNING,"exception",e);
}
return response;
}
}
