/** 
 * Serializes a field of a provided container
 * @param field     The metadata for the field to serialize
 * @param container The object containing the field
 * @param context   The current serialization context
 * @return The serialized value of the field
 */
@SuppressWarnings("unchecked") public PersistedData serialize(FieldMetadata<?,?> field,Object container,PersistedDataSerializer context){
  Object rawValue=field.getValue(container);
  if (rawValue != null) {
    TypeHandler handler=getHandlerFor(field);
    if (handler != null) {
      return handler.serialize(rawValue,context);
    }
  }
  return context.serializeNull();
}
