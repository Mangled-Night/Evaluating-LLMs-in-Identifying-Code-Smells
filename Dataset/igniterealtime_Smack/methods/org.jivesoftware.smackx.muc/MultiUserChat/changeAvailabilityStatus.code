/** 
 * Changes the occupant's availability status within the room. The presence type will remain available but with a new status that describes the presence update and a new presence mode (e.g. Extended away).
 * @param status a text message describing the presence update.
 * @param mode the mode type for the presence update.
 * @throws NotConnectedException if the XMPP connection is not connected.
 * @throws InterruptedException if the calling thread was interrupted.
 * @throws MucNotJoinedException if not joined to the Multi-User Chat.
 */
public void changeAvailabilityStatus(String status,Presence.Mode mode) throws NotConnectedException, InterruptedException, MucNotJoinedException {
  final EntityFullJid myRoomJid=getMyRoomJid();
  if (myRoomJid == null) {
    throw new MucNotJoinedException(this);
  }
  Presence joinPresence=connection.getStanzaFactory().buildPresenceStanza().to(myRoomJid).ofType(Presence.Type.available).setStatus(status).setMode(mode).build();
  connection.sendStanza(joinPresence);
}
