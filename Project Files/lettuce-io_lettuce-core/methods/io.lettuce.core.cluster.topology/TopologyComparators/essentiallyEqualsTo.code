/** 
 * Check for  {@code UPSTREAM} or {@code REPLICA} flags and whether the responsible slots changed.
 * @param o1 the first object to be compared.
 * @param o2 the second object to be compared.
 * @return {@code true} if {@code UPSTREAM} or {@code REPLICA} flags changed or the responsible slots changed.
 */
static boolean essentiallyEqualsTo(RedisClusterNode o1,RedisClusterNode o2){
  if (o2 == null) {
    return false;
  }
  if (!sameFlags(o1,o2,RedisClusterNode.NodeFlag.UPSTREAM)) {
    return false;
  }
  if (!sameFlags(o1,o2,RedisClusterNode.NodeFlag.REPLICA)) {
    return false;
  }
  if (!o1.hasSameSlotsAs(o2)) {
    return false;
  }
  return true;
}
