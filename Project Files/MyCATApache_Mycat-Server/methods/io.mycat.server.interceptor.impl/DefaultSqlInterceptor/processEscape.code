/** 
 * mysql driver对'转义与\',解析前改为foundationdb parser支持的'' add by sky
 * @param sql
 * @update by jason@dayima.com replace regex with general string walkingavoid sql being destroyed in case of some mismatch maybe some performance enchanced
 * @return
 */
public static String processEscape(String sql){
  int firstIndex=-1;
  if ((sql == null) || ((firstIndex=sql.indexOf(ESCAPE_CHAR)) == -1)) {
    return sql;
  }
 else {
    int lastIndex=sql.lastIndexOf(ESCAPE_CHAR,sql.length() - 2) + TARGET_STRING_LENGTH;
    StringBuilder sb=new StringBuilder(sql);
    for (int i=firstIndex; i < lastIndex; i++) {
      if (sb.charAt(i) == '\\') {
        if (i + 1 < lastIndex && sb.charAt(i + 1) == '\'') {
          sb.setCharAt(i,'\'');
        }
        i++;
      }
    }
    return sb.toString();
  }
}
