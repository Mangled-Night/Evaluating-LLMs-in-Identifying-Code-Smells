@Test void authenticationTimeout(){
  WithPassword.run(client,() -> {
    try (ServerSocket serverSocket=new ServerSocket(0)){
      RedisURI redisURI=RedisURI.Builder.redis(TestSettings.host(),serverSocket.getLocalPort()).withPassword(passwd).withTimeout(Duration.ofMillis(500)).build();
      try {
        client.connect(redisURI);
        fail("Missing RedisConnectionException");
      }
 catch (      RedisException e) {
        assertThat(e).isInstanceOf(RedisConnectionException.class).hasRootCauseInstanceOf(RedisCommandTimeoutException.class);
      }
    }
   }
);
}
