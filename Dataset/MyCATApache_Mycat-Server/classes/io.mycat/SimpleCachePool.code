public class SimpleCachePool implements LayerCachePool {
  private HashMap<Object,Object> cacheMap;
  public SimpleCachePool(){
    long MAX_CACHE_SIZE=getMaxSize();
    float factor=0.75f;
    int capacity=(int)Math.ceil(MAX_CACHE_SIZE / factor) + 1;
    cacheMap=new LinkedHashMap<Object,Object>(capacity,factor,true){
      @Override protected boolean removeEldestEntry(      Map.Entry<Object,Object> eldest){
        return size() > MAX_CACHE_SIZE;
      }
    }
;
  }
  @Override public void putIfAbsent(  Object key,  Object value){
    cacheMap.put(key,value);
  }
  @Override public Object get(  Object key){
    return cacheMap.get(key);
  }
  @Override public void clearCache(){
    cacheMap.clear();
  }
  @Override public CacheStatic getCacheStatic(){
    return null;
  }
  @Override public void putIfAbsent(  String primaryKey,  Object secondKey,  Object value){
    putIfAbsent(primaryKey + "_" + secondKey,value);
  }
  @Override public Object get(  String primaryKey,  Object secondKey){
    return get(primaryKey + "_" + secondKey);
  }
  @Override public Map<String,CacheStatic> getAllCacheStatic(){
    return null;
  }
  @Override public void clearCache(  String cacheName){
    if (cacheName != null) {
      cacheMap.remove(cacheName);
    }
  }
  @Override public long getMaxSize(){
    return 100;
  }
}
