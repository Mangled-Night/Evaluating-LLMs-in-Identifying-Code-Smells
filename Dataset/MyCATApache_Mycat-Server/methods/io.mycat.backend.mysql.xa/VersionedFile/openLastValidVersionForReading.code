/** 
 * Opens the last valid version for reading.
 * @return A stream to read the last valid contentsof the file: either the backup version (if present) or the current (and only) version if no backup is found.
 * @throws IllegalStateException If a newer version was opened for writing.
 * @throws FileNotFoundException If no last version was found.
 */
public FileInputStream openLastValidVersionForReading() throws IllegalStateException, FileNotFoundException {
  if (randomAccessFile != null)   throw new IllegalStateException("Already started writing.");
  inputStream=new FileInputStream(getCurrentVersionFileName());
  return inputStream;
}
