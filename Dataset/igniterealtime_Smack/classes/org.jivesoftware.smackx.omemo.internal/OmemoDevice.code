/** 
 * Class that combines a BareJid and a deviceId.
 * @author Paul Schaub
 */
public class OmemoDevice {
  private final BareJid jid;
  private final int deviceId;
  /** 
 * Create a new OmemoDevice.
 * @param jid jid of the contact
 * @param deviceId deviceId if the device.
 */
  public OmemoDevice(  BareJid jid,  int deviceId){
    this.jid=jid;
    this.deviceId=deviceId;
  }
  /** 
 * Return the BareJid of the device owner.
 * @return bare JID of the device owner.
 */
  public BareJid getJid(){
    return this.jid;
  }
  /** 
 * Return the OMEMO device Id of the device.
 * @return OMEMO device ID.
 */
  public int getDeviceId(){
    return this.deviceId;
  }
  @Override public String toString(){
    return jid.toString() + ":" + deviceId;
  }
  @Override public boolean equals(  Object other){
    return other instanceof OmemoDevice && ((OmemoDevice)other).getJid().equals(this.getJid()) && ((OmemoDevice)other).getDeviceId() == this.getDeviceId();
  }
  @Override public int hashCode(){
    Integer i;
    i=jid.hashCode() + deviceId;
    return i.hashCode();
  }
  /** 
 * Return the name of the PubSub  {@link org.jivesoftware.smackx.pubsub.LeafNode} of this device.
 * @return node name.
 */
  public String getBundleNodeName(){
    return OmemoConstants.PEP_NODE_BUNDLE_FROM_DEVICE_ID(getDeviceId());
  }
}
