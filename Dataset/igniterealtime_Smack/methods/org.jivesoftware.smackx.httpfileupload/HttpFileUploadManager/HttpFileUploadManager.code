private HttpFileUploadManager(XMPPConnection connection){
  super(connection);
  connection.addConnectionListener(new ConnectionListener(){
    @Override public void authenticated(    XMPPConnection connection,    boolean resumed){
      if (resumed) {
        return;
      }
      try {
        discoverUploadService();
      }
 catch (      XMPPException.XMPPErrorException|SmackException.NotConnectedException|SmackException.NoResponseException|InterruptedException e) {
        LOGGER.log(Level.WARNING,"Error during discovering HTTP File Upload service",e);
      }
    }
  }
);
}
