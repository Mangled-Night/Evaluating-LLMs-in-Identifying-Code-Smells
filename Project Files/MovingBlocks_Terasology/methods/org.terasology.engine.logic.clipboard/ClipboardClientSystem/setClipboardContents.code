@Override public boolean setClipboardContents(String value){
  return AccessController.doPrivileged((PrivilegedAction<Boolean>)() -> {
    Clipboard clipboard=Toolkit.getDefaultToolkit().getSystemClipboard();
    try {
      clipboard.setContents(new StringSelection(value),null);
    }
 catch (    IllegalStateException exp) {
      return false;
    }
    return true;
  }
);
}
