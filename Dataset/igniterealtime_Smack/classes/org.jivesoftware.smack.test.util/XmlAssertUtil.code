public class XmlAssertUtil {
  public static void assertXmlNotSimilar(  CharSequence xmlOne,  CharSequence xmlTwo){
    normalizedCompare(xmlOne,xmlTwo).areNotSimilar();
  }
  public static void assertXmlSimilar(  CharSequence expected,  CharSequence actual){
    normalizedCompare(expected,actual).areSimilar();
  }
  private static CompareAssert normalizedCompare(  CharSequence expectedCharSequence,  CharSequence actualCharSequence){
    String expectedString=expectedCharSequence.toString();
    String actualString=actualCharSequence.toString();
    NormalizedSource expected=new NormalizedSource(new StreamSource(new StringReader(expectedString)));
    NormalizedSource actual=new NormalizedSource(new StreamSource(new StringReader(actualString)));
    return XmlAssert.assertThat(actual).and(expected).ignoreChildNodesOrder().withNodeMatcher(new DefaultNodeMatcher(ElementSelectors.byNameAndAllAttributes,ElementSelectors.byNameAndText)).normalizeWhitespace();
  }
}
