/** 
 * The back-end system for the NUI skin editor.
 */
@RegisterSystem @Share(NUISkinEditorSystem.class) public class NUISkinEditorSystem extends AbstractEditorSystem {
  @In private NUIManager nuiManager;
  private boolean editorActive;
  @Priority(EventPriority.PRIORITY_CRITICAL) @ReceiveEvent(components=ClientComponent.class) public void showEditor(  NUISkinEditorButton event,  EntityRef entity){
    if (event.getState() == ButtonState.DOWN) {
      toggleEditor();
      event.consume();
    }
  }
  @Override public void toggleEditor(){
    nuiManager.toggleScreen(NUISkinEditorScreen.ASSET_URI);
    editorActive=!editorActive;
  }
  @Override public boolean isEditorActive(){
    return editorActive;
  }
}
