@Test public void testLastInsertId(){
  String stmt=" last_insert_iD()";
  int indexAfterLastInsertIdFunc=ServerParseSelect.indexAfterLastInsertIdFunc(stmt,stmt.indexOf('l'));
  Assert.assertEquals(stmt.length(),indexAfterLastInsertIdFunc);
  stmt=" last_insert_iD ()";
  indexAfterLastInsertIdFunc=ServerParseSelect.indexAfterLastInsertIdFunc(stmt,stmt.indexOf('l'));
  Assert.assertEquals(stmt.length(),indexAfterLastInsertIdFunc);
  stmt=" last_insert_iD ( /**/ )";
  indexAfterLastInsertIdFunc=ServerParseSelect.indexAfterLastInsertIdFunc(stmt,stmt.indexOf('l'));
  Assert.assertEquals(stmt.length(),indexAfterLastInsertIdFunc);
  stmt=" last_insert_iD (  )  ";
  indexAfterLastInsertIdFunc=ServerParseSelect.indexAfterLastInsertIdFunc(stmt,stmt.indexOf('l'));
  Assert.assertEquals(stmt.lastIndexOf(')') + 1,indexAfterLastInsertIdFunc);
  stmt=" last_insert_id(  )";
  indexAfterLastInsertIdFunc=ServerParseSelect.indexAfterLastInsertIdFunc(stmt,stmt.indexOf('l'));
  Assert.assertEquals(stmt.lastIndexOf(')') + 1,indexAfterLastInsertIdFunc);
  stmt="last_iNsert_id(  ) ";
  indexAfterLastInsertIdFunc=ServerParseSelect.indexAfterLastInsertIdFunc(stmt,stmt.indexOf('l'));
  Assert.assertEquals(stmt.lastIndexOf(')') + 1,indexAfterLastInsertIdFunc);
  stmt=" last_insert_iD";
  indexAfterLastInsertIdFunc=ServerParseSelect.indexAfterLastInsertIdFunc(stmt,stmt.indexOf('l'));
  Assert.assertEquals(-1,indexAfterLastInsertIdFunc);
  stmt=" last_insert_i     ";
  indexAfterLastInsertIdFunc=ServerParseSelect.indexAfterLastInsertIdFunc(stmt,stmt.indexOf('l'));
  Assert.assertEquals(-1,indexAfterLastInsertIdFunc);
  stmt=" last_insert_i    d ";
  indexAfterLastInsertIdFunc=ServerParseSelect.indexAfterLastInsertIdFunc(stmt,stmt.indexOf('l'));
  Assert.assertEquals(-1,indexAfterLastInsertIdFunc);
  stmt=" last_insert_id (     ";
  indexAfterLastInsertIdFunc=ServerParseSelect.indexAfterLastInsertIdFunc(stmt,stmt.indexOf('l'));
  Assert.assertEquals(-1,indexAfterLastInsertIdFunc);
  stmt=" last_insert_id(  d)     ";
  indexAfterLastInsertIdFunc=ServerParseSelect.indexAfterLastInsertIdFunc(stmt,stmt.indexOf('l'));
  Assert.assertEquals(-1,indexAfterLastInsertIdFunc);
  stmt=" last_insert_id(  ) d    ";
  indexAfterLastInsertIdFunc=ServerParseSelect.indexAfterLastInsertIdFunc(stmt,stmt.indexOf('l'));
  Assert.assertEquals(stmt.lastIndexOf(')') + 1,indexAfterLastInsertIdFunc);
  stmt=" last_insert_id(d)";
  indexAfterLastInsertIdFunc=ServerParseSelect.indexAfterLastInsertIdFunc(stmt,stmt.indexOf('l'));
  Assert.assertEquals(-1,indexAfterLastInsertIdFunc);
  stmt=" last_insert_id(#\r\nd) ";
  indexAfterLastInsertIdFunc=ServerParseSelect.indexAfterLastInsertIdFunc(stmt,stmt.indexOf('l'));
  Assert.assertEquals(-1,indexAfterLastInsertIdFunc);
  stmt=" last_insert_id(#\n\r) ";
  indexAfterLastInsertIdFunc=ServerParseSelect.indexAfterLastInsertIdFunc(stmt,stmt.indexOf('l'));
  Assert.assertEquals(stmt.lastIndexOf(')') + 1,indexAfterLastInsertIdFunc);
  stmt=" last_insert_id (#\n\r)";
  indexAfterLastInsertIdFunc=ServerParseSelect.indexAfterLastInsertIdFunc(stmt,stmt.indexOf('l'));
  Assert.assertEquals(stmt.lastIndexOf(')') + 1,indexAfterLastInsertIdFunc);
  stmt=" last_insert_id(#\n\r)";
  indexAfterLastInsertIdFunc=ServerParseSelect.indexAfterLastInsertIdFunc(stmt,stmt.indexOf('l'));
  Assert.assertEquals(stmt.lastIndexOf(')') + 1,indexAfterLastInsertIdFunc);
  stmt="select last_insert_id(#\n\r)";
  Assert.assertEquals(ServerParseSelect.LAST_INSERT_ID,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r) as id";
  Assert.assertEquals(ServerParseSelect.LAST_INSERT_ID,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r) as `id`";
  Assert.assertEquals(ServerParseSelect.LAST_INSERT_ID,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r) as 'id'";
  Assert.assertEquals(ServerParseSelect.LAST_INSERT_ID,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r)  id";
  Assert.assertEquals(ServerParseSelect.LAST_INSERT_ID,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r)  `id`";
  Assert.assertEquals(ServerParseSelect.LAST_INSERT_ID,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r)  'id'";
  Assert.assertEquals(ServerParseSelect.LAST_INSERT_ID,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r) a";
  Assert.assertEquals(ServerParseSelect.LAST_INSERT_ID,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r) as";
  Assert.assertEquals(ServerParseSelect.LAST_INSERT_ID,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r) asd";
  Assert.assertEquals(ServerParseSelect.LAST_INSERT_ID,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r) as 777";
  Assert.assertEquals(ServerParseSelect.LAST_INSERT_ID,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r)  777";
  Assert.assertEquals(ServerParseSelect.LAST_INSERT_ID,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r)as `77``7`";
  Assert.assertEquals(ServerParseSelect.LAST_INSERT_ID,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r)ass";
  Assert.assertEquals(ServerParseSelect.LAST_INSERT_ID,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r)as 'a'";
  Assert.assertEquals(ServerParseSelect.LAST_INSERT_ID,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r)as 'a\\''";
  Assert.assertEquals(ServerParseSelect.LAST_INSERT_ID,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r)as 'a'''";
  Assert.assertEquals(ServerParseSelect.LAST_INSERT_ID,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r)as 'a\"'";
  Assert.assertEquals(ServerParseSelect.LAST_INSERT_ID,ServerParseSelect.parse(stmt,6));
  stmt="   select last_insert_id(#\n\r) As 'a\"'";
  Assert.assertEquals(ServerParseSelect.LAST_INSERT_ID,ServerParseSelect.parse(stmt,9));
  stmt="select last_insert_id(#\n\r)as 'a\"\\'";
  Assert.assertEquals(ServerParseSelect.OTHER,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r)as `77``7` ,";
  Assert.assertEquals(ServerParseSelect.OTHER,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r)as `77`7`";
  Assert.assertEquals(ServerParseSelect.OTHER,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r) as,";
  Assert.assertEquals(ServerParseSelect.OTHER,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r) ass a";
  Assert.assertEquals(ServerParseSelect.OTHER,ServerParseSelect.parse(stmt,6));
  stmt="select last_insert_id(#\n\r) as 'a";
  Assert.assertEquals(ServerParseSelect.OTHER,ServerParseSelect.parse(stmt,6));
}
