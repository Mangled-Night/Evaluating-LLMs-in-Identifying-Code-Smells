private class TerminatedHandler implements Handler<Integer> {
  private final JobControllerImpl controller;
  public TerminatedHandler(  JobControllerImpl controller){
    this.controller=controller;
  }
  @Override public void handle(  Integer exitCode){
    jobHandler.onTerminated(JobImpl.this);
    controller.removeJob(JobImpl.this.id);
    if (statusUpdateHandler != null) {
      statusUpdateHandler.handle(ExecStatus.TERMINATED);
    }
    terminateFuture.complete();
  }
}
