@Test public void testParseFullVCardIQStanza() throws Throwable {
  final String request="<iq id='v1' to='user@igniterealtime.org/mobile' type='result'>" + "<vCard xmlns='vcard-temp'>" + "<FN>User Name</FN>"+ "<N>"+ "<FAMILY>Name</FAMILY>"+ "<GIVEN>User</GIVEN>"+ "<MIDDLE>PJ</MIDDLE>"+ "<PREFIX>Mr.</PREFIX>"+ "<SUFFIX>III</SUFFIX>"+ "</N>"+ "<NICKNAME>User dude</NICKNAME>"+ "<URL>http://www.igniterealtime.org</URL>"+ "<BDAY>1970-17-03</BDAY>"+ "<ORG>"+ "<ORGNAME>Ignite Realtime</ORGNAME>"+ "<ORGUNIT>Smack</ORGUNIT>"+ "</ORG>"+ "<TITLE>Programmer &amp; tester</TITLE>"+ "<ROLE>Bug fixer</ROLE>"+ "<TEL><WORK/><VOICE/><NUMBER>123-456-7890</NUMBER></TEL>"+ "<TEL><WORK/><FAX/><NUMBER/></TEL>"+ "<TEL><WORK/><MSG/><NUMBER/></TEL>"+ "<ADR>"+ "<WORK/>"+ "<EXTADD></EXTADD>"+ "<STREET>Work Street</STREET>"+ "<LOCALITY>Work Locality</LOCALITY>"+ "<REGION>Work Region</REGION>"+ "<PCODE>Work Post Code</PCODE>"+ "<CTRY>Work Country</CTRY>"+ "</ADR>"+ "<TEL><HOME/><VOICE/><NUMBER>123-098-7654</NUMBER></TEL>"+ "<TEL><HOME/><FAX/><NUMBER/></TEL>"+ "<TEL><HOME/><MSG/><NUMBER/></TEL>"+ "<ADR>"+ "<HOME/>"+ "<EXTADD/>"+ "<STREET/>"+ "<LOCALITY>Home Locality</LOCALITY>"+ "<REGION>Home Region</REGION>"+ "<PCODE>Home Post Code</PCODE>"+ "<CTRY>Home Country</CTRY>"+ "</ADR>"+ "<EMAIL><INTERNET/><PREF/><USERID>user@igniterealtime.org</USERID></EMAIL>"+ "<EMAIL><INTERNET/><WORK/><USERID>work@igniterealtime.org</USERID></EMAIL>"+ "<JABBERID>user@igniterealtime.org</JABBERID>"+ "<DESC>"+ "&lt;Check out our website: http://www.igniterealtime.org&gt;"+ "</DESC>"+ "<PHOTO><BINVAL>" + getAvatarEncoded() + "</BINVAL><TYPE>"+ MIME_TYPE+ "</TYPE></PHOTO>"+ "</vCard>"+ "</iq>";
  VCard vCard=PacketParserUtils.parseStanza(request);
  assertEquals("User",vCard.getFirstName());
  assertEquals("Name",vCard.getLastName());
  assertEquals("PJ",vCard.getMiddleName());
  assertEquals("User dude",vCard.getNickName());
  assertEquals("Mr.",vCard.getPrefix());
  assertEquals("III",vCard.getSuffix());
  assertEquals("Programmer & tester",vCard.getField("TITLE"));
  assertEquals("Bug fixer",vCard.getField("ROLE"));
  assertEquals("<Check out our website: http://www.igniterealtime.org>",vCard.getField("DESC"));
  assertEquals("http://www.igniterealtime.org",vCard.getField("URL"));
  assertEquals("user@igniterealtime.org",vCard.getEmailHome());
  assertEquals("work@igniterealtime.org",vCard.getEmailWork());
  assertEquals("user@igniterealtime.org",vCard.getJabberId());
  assertEquals("Ignite Realtime",vCard.getOrganization());
  assertEquals("Smack",vCard.getOrganizationUnit());
  assertEquals("123-098-7654",vCard.getPhoneHome("VOICE"));
  assertEquals("123-456-7890",vCard.getPhoneWork("VOICE"));
  assertEquals("Work Locality",vCard.getAddressFieldWork("LOCALITY"));
  assertEquals("Work Region",vCard.getAddressFieldWork("REGION"));
  assertEquals("Work Post Code",vCard.getAddressFieldWork("PCODE"));
  assertEquals("Work Country",vCard.getAddressFieldWork("CTRY"));
  assertEquals("Home Locality",vCard.getAddressFieldHome("LOCALITY"));
  assertEquals("Home Region",vCard.getAddressFieldHome("REGION"));
  assertEquals("Home Post Code",vCard.getAddressFieldHome("PCODE"));
  assertEquals("Home Country",vCard.getAddressFieldHome("CTRY"));
  byte[] expectedAvatar=getAvatarBinary();
  assertTrue(Arrays.equals(vCard.getAvatar(),expectedAvatar));
  assertEquals(MIME_TYPE,vCard.getAvatarMimeType());
}
