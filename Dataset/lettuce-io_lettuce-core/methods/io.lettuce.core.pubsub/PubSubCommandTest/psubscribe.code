@Test void psubscribe() throws Exception {
  RedisFuture<Void> psubscribe=pubsub.psubscribe(pattern);
  assertThat(TestFutures.getOrTimeout(psubscribe)).isNull();
  assertThat(psubscribe.getError()).isNull();
  assertThat(psubscribe.isCancelled()).isFalse();
  assertThat(psubscribe.isDone()).isTrue();
  assertThat(patterns.take()).isEqualTo(pattern);
  assertThat((long)counts.take()).isEqualTo(1);
}
