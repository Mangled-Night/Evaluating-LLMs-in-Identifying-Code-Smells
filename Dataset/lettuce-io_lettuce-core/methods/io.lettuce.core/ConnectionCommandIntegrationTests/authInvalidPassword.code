@Test void authInvalidPassword(){
  RedisAsyncCommands<String,String> async=client.connect().async();
  try {
    TestFutures.awaitOrTimeout(async.auth("invalid"));
    fail("Authenticated with invalid password");
  }
 catch (  RedisException e) {
    assertThat(e.getMessage()).startsWith("ERR").contains("AUTH");
    StatefulRedisConnectionImpl<String,String> statefulRedisCommands=(StatefulRedisConnectionImpl)async.getStatefulConnection();
    assertThat(statefulRedisCommands.getConnectionState().getCredentialsProvider().resolveCredentials().block().getPassword()).isNull();
  }
 finally {
    async.getStatefulConnection().close();
  }
}
