private SocketAddress doResolve(HostAndPort mapped) throws UnknownHostException {
  InetAddress[] inetAddress=dnsResolver.resolve(mapped.getHostText());
  if (inetAddress.length == 0) {
    return InetSocketAddress.createUnresolved(mapped.getHostText(),mapped.getPort());
  }
  return new InetSocketAddress(inetAddress[0],mapped.getPort());
}
