@Override public void channelRead(ChannelHandlerContext ctx,Object msg) throws Exception {
  NetData.NetMessage message=(NetData.NetMessage)msg;
  if (message.hasServerInfo()) {
    logger.info("Received server info");
    serverInfo=new ServerInfoMessageImpl(message.getServerInfo());
  }
 else {
    logger.error("Received unexpected message");
  }
  ctx.channel().close();
}
