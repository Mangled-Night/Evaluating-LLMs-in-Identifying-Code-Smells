/** 
 * Deserializes a value onto an object
 * @param target        The object to deserialize the field onto
 * @param fieldMetadata The metadata of the field
 * @param data          The serialized value of the field
 */
public void deserializeOnto(Object target,FieldMetadata<?,?> fieldMetadata,PersistedData data){
  TypeHandler<?> handler=getHandlerFor(fieldMetadata);
  if (handler == null) {
    logger.error("No type handler for type {} used by {}::{}",fieldMetadata.getType(),target.getClass(),fieldMetadata);
  }
 else {
    try {
      Object deserializedValue=handler.deserializeOrNull(data);
      fieldMetadata.setValue(target,deserializedValue);
    }
 catch (    DeserializationException e) {
      logger.error("Unable to deserialize field '{}' from '{}'",fieldMetadata.getName(),data.toString(),e);
    }
  }
}
/** 
 * Deserializes a Collection of name-values onto an object
 * @param target  The object to deserialize onto
 * @param values  The collection of values to apply to the object
 */
public void deserializeOnto(Object target,PersistedDataMap values){
  deserializeOnto(target,values,DeserializeFieldCheck.NullCheck.newInstance());
}
/** 
 * Deserializes a Collection of name-values onto an object
 * @param target The object to deserialize onto
 * @param values The collection of values to apply to the object
 * @param check  A check to filter which fields to deserialize
 */
public void deserializeOnto(Object target,PersistedDataMap values,DeserializeFieldCheck check){
  for (  Map.Entry<String,PersistedData> field : values.entrySet()) {
    FieldMetadata<?,?> fieldInfo=classMetadata.getField(field.getKey());
    if (fieldInfo != null && check.shouldDeserialize(classMetadata,fieldInfo)) {
      deserializeOnto(target,fieldInfo,field.getValue());
    }
 else     if (fieldInfo == null) {
      logger.warn("Cannot deserialize unknown field '{}' onto '{}'",field.getKey(),classMetadata.getId());
    }
  }
}
/** 
 * Deserializes a Collection of name-values onto an object
 * @param target The object to deserialize onto
 * @param values The collection of values to apply to the object
 */
public void deserializeOnto(Object target,Map<FieldMetadata<?,?>,PersistedData> values){
  deserializeOnto(target,values,DeserializeFieldCheck.NullCheck.newInstance());
}
/** 
 * Deserializes a Collection of name-values onto an object
 * @param target The object to deserialize onto
 * @param values The collection of values to apply to the object
 * @param check  A check to filter which fields to deserialize
 */
public void deserializeOnto(Object target,Map<FieldMetadata<?,?>,PersistedData> values,DeserializeFieldCheck check){
  for (  Map.Entry<FieldMetadata<?,?>,PersistedData> field : values.entrySet()) {
    if (check.shouldDeserialize(classMetadata,field.getKey())) {
      deserializeOnto(target,field.getKey(),field.getValue());
    }
  }
}
