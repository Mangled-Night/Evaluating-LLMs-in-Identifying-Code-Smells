public static int exec(String cmd){
  Process process=null;
  try {
    Runtime runtime=Runtime.getRuntime();
    process=runtime.exec(cmd);
    new StreamGobble(process.getInputStream(),"INFO").start();
    new StreamGobble(process.getErrorStream(),"ERROR").start();
    return process.waitFor();
  }
 catch (  Throwable t) {
    LOGGER.error(t.getMessage());
  }
 finally {
    if (process != null)     process.destroy();
  }
  return 0;
}
public static int exec(String cmd,File dir){
  Process process=null;
  try {
    Runtime runtime=Runtime.getRuntime();
    process=runtime.exec(cmd,null,dir);
    new StreamGobble(process.getInputStream(),"INFO").start();
    new StreamGobble(process.getErrorStream(),"ERROR").start();
    return process.waitFor();
  }
 catch (  Throwable t) {
    LOGGER.error(t.getMessage());
  }
 finally {
    if (process != null)     process.destroy();
  }
  return 0;
}
