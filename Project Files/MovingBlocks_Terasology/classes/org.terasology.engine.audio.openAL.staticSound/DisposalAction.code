public static class DisposalAction implements DisposableResource {
  private final ResourceUrn urn;
  private int bufferId;
  private WeakReference<OpenALSound> asset;
  public DisposalAction(  ResourceUrn urn){
    this.urn=urn;
  }
  public OpenALSound getAsset(){
    return asset.get();
  }
  public void setAsset(  OpenALSound asset){
    this.asset=new WeakReference<>(asset);
  }
  @Override public void close(){
    try {
      GameThread.synch(() -> {
        OpenALSound sound=asset.get();
        if (bufferId != 0) {
          if (sound != null) {
            sound.audioManager.purgeSound(sound);
          }
          alDeleteBuffers(bufferId);
          OpenALException.checkState("Deleting buffer data");
        }
      }
);
    }
 catch (    InterruptedException e) {
      logger.error("Failed to dispose {}",urn,e);
    }
  }
}
