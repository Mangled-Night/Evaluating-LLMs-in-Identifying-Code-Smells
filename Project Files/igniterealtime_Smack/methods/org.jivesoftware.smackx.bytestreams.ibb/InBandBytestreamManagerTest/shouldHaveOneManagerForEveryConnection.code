/** 
 * Test that {@link InBandBytestreamManager#getByteStreamManager(XMPPConnection)} returnsone bytestream manager for every connection.
 */
@Test public void shouldHaveOneManagerForEveryConnection(){
  XMPPConnection connection1=mock(XMPPConnection.class);
  XMPPConnection connection2=mock(XMPPConnection.class);
  InBandBytestreamManager conn1ByteStreamManager1=InBandBytestreamManager.getByteStreamManager(connection1);
  InBandBytestreamManager conn1ByteStreamManager2=InBandBytestreamManager.getByteStreamManager(connection1);
  InBandBytestreamManager conn2ByteStreamManager1=InBandBytestreamManager.getByteStreamManager(connection2);
  assertEquals(conn1ByteStreamManager1,conn1ByteStreamManager2);
  assertNotSame(conn1ByteStreamManager1,conn2ByteStreamManager1);
}
