private long extractVersion(String name){
  long ret=0;
  int lastpos=name.lastIndexOf('.');
  int startpos=getBaseName().length();
  String suffix=name.substring(startpos,lastpos);
  try {
    ret=Long.valueOf(suffix);
  }
 catch (  NumberFormatException e) {
    IllegalArgumentException err=new IllegalArgumentException("Error extracting version from file: " + name + " in "+ getBaseDir());
    err.initCause(e);
    throw err;
  }
  return ret;
}
