DiscoverInfo(DiscoverInfoBuilder builder,boolean validate){
  super(builder,ELEMENT,NAMESPACE);
  features.addAll(builder.getFeatures());
  identities.addAll(builder.getIdentities());
  node=builder.getNode();
  for (  Feature feature : features) {
    boolean featureIsNew=featuresSet.add(feature);
    if (!featureIsNew) {
      containsDuplicateFeatures=true;
    }
  }
  for (  Identity identity : identities) {
    identitiesSet.add(identity.getKey());
  }
  if (!validate) {
    return;
  }
  if (containsDuplicateFeatures) {
    throw new IllegalArgumentException("The disco#info request contains duplicate features.");
  }
}
/** 
 * Deprecated.
 * @deprecated use {@link DiscoverInfoBuilder} instead.
 */
@Deprecated public DiscoverInfo(){
  super(ELEMENT,NAMESPACE);
}
/** 
 * Copy constructor.
 * @param d TODO javadoc me please
 */
public DiscoverInfo(DiscoverInfo d){
  super(d);
  node=d.getNode();
  features.addAll(d.features);
  featuresSet.addAll(d.featuresSet);
  identities.addAll(d.identities);
  identitiesSet.addAll(d.identitiesSet);
}
