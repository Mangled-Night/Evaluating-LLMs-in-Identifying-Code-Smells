public class ChatMetadata extends IQ {
  /** 
 * Element name of the stanza extension.
 */
  public static final String ELEMENT_NAME="chat-metadata";
  /** 
 * Namespace of the stanza extension.
 */
  public static final String NAMESPACE="http://jivesoftware.com/protocol/workgroup";
  private String sessionID;
  public ChatMetadata(){
    super(ELEMENT_NAME,NAMESPACE);
  }
  public String getSessionID(){
    return sessionID;
  }
  public void setSessionID(  String sessionID){
    this.sessionID=sessionID;
  }
  private Map<String,List<String>> map=new HashMap<String,List<String>>();
  public void setMetadata(  Map<String,List<String>> metadata){
    this.map=metadata;
  }
  public Map<String,List<String>> getMetadata(){
    return map;
  }
  @Override protected IQChildElementXmlStringBuilder getIQChildElementBuilder(  IQChildElementXmlStringBuilder buf){
    buf.rightAngleBracket();
    buf.append("<sessionID>").append(getSessionID()).append("</sessionID>");
    return buf;
  }
  /** 
 * An IQProvider for Metadata packets.
 * @author Derek DeMoro
 */
public static class Provider extends IqProvider<ChatMetadata> {
    @Override public ChatMetadata parse(    XmlPullParser parser,    int initialDepth,    IqData iqData,    XmlEnvironment xmlEnvironment) throws XmlPullParserException, IOException {
      final ChatMetadata chatM=new ChatMetadata();
      boolean done=false;
      while (!done) {
        XmlPullParser.Event eventType=parser.next();
        if (eventType == XmlPullParser.Event.START_ELEMENT) {
          if (parser.getName().equals("sessionID")) {
            chatM.setSessionID(parser.nextText());
          }
 else           if (parser.getName().equals("metadata")) {
            Map<String,List<String>> map=MetaDataUtils.parseMetaData(parser);
            chatM.setMetadata(map);
          }
        }
 else         if (eventType == XmlPullParser.Event.END_ELEMENT) {
          if (parser.getName().equals(ELEMENT_NAME)) {
            done=true;
          }
        }
      }
      return chatM;
    }
  }
}
