@Override public final PE parse(XmlPullParser parser,int initialDepth,XmlEnvironment xmlEnvironment) throws XmlPullParserException, IOException, SmackParsingException {
  final String namespace=parser.getNamespace();
  final String name=parser.getName();
  final int attributeCount=parser.getAttributeCount();
  Map<String,String> attMap=new HashMap<>(attributeCount);
  for (int i=0; i < attributeCount; i++) {
    attMap.put(parser.getAttributeName(i),parser.getAttributeValue(i));
  }
  List<XmlElement> extensions=new ArrayList<>();
  XmlPullParser.Event event;
  do {
    event=parser.next();
    if (event == XmlPullParser.Event.START_ELEMENT)     PacketParserUtils.addExtensionElement(extensions,parser,xmlEnvironment);
  }
 while (!(event == XmlPullParser.Event.END_ELEMENT && parser.getDepth() == initialDepth));
  return createReturnExtension(name,namespace,attMap,extensions);
}
