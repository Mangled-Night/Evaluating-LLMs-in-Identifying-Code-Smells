public class StaxXmlPullParserFactory implements XmlPullParserFactory {
  private static final XMLInputFactory xmlInputFactory=XMLInputFactory.newInstance();
static {
    xmlInputFactory.setProperty(XMLInputFactory.IS_COALESCING,true);
    xmlInputFactory.setProperty(XMLInputFactory.IS_SUPPORTING_EXTERNAL_ENTITIES,false);
    xmlInputFactory.setProperty(XMLInputFactory.IS_REPLACING_ENTITY_REFERENCES,false);
    xmlInputFactory.setProperty(XMLInputFactory.SUPPORT_DTD,false);
  }
  @Override public StaxXmlPullParser newXmlPullParser(  Reader reader) throws XmlPullParserException {
    XMLStreamReader xmlStreamReader;
    try {
      xmlStreamReader=xmlInputFactory.createXMLStreamReader(reader);
    }
 catch (    XMLStreamException e) {
      throw new XmlPullParserException(e);
    }
    return new StaxXmlPullParser(xmlStreamReader);
  }
}
