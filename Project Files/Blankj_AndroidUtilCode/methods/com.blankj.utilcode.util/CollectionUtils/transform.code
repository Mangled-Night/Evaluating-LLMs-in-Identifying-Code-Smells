/** 
 * Transform the collection by applying a Transformer to each element. <p> If the input collection or transformer is null, there is no change made. <p> This routine is best for Lists, for which set() is used to do the transformations "in place."  For other Collections, clear() and addAll() are used to replace elements. <p> If the input collection controls its input, such as a Set, and the Transformer creates duplicates (or are otherwise invalid), the collection may reduce in size due to calling this method.
 * @param collection  the collection to get the input from, may be null
 * @param transformer the transformer to perform, may be null
 */
public static <E1,E2>void transform(Collection<E1> collection,Transformer<E1,E2> transformer){
  if (collection == null || transformer == null)   return;
  if (collection instanceof List) {
    List list=(List)collection;
    for (ListIterator it=list.listIterator(); it.hasNext(); ) {
      it.set(transformer.transform((E1)it.next()));
    }
  }
 else {
    Collection resultCollection=collect(collection,transformer);
    collection.clear();
    collection.addAll(resultCollection);
  }
}
E2 transform(E1 input);
