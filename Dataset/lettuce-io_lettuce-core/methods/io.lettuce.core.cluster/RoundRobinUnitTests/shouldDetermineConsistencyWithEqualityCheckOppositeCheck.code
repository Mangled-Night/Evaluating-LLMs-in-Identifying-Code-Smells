@Test void shouldDetermineConsistencyWithEqualityCheckOppositeCheck(){
  RedisClusterNode node1=RedisClusterNode.of("1");
  RedisClusterNode node2=RedisClusterNode.of("2");
  RedisClusterNode newNode1=new RedisClusterNode(RedisURI.create("127.0.0.0",1),"1",true,"",0,0,0,new ArrayList<>(),new HashSet<>());
  RoundRobin<RedisClusterNode> roundRobin=new RoundRobin<>((l,r) -> l.getUri() == r.getUri() || (l.getUri() != null && l.getUri().equals(r.getUri())));
  roundRobin.rebuild(Arrays.asList(node1,node2));
  assertThat(roundRobin.isConsistent(Arrays.asList(node1,node2))).isTrue();
  assertThat(roundRobin.isConsistent(Arrays.asList(newNode1,node2))).isFalse();
  assertThat(roundRobin.isConsistent(Collections.singletonList(newNode1))).isFalse();
  assertThat(roundRobin.isConsistent(Collections.singletonList(node2))).isFalse();
}
