/** 
 * Test for parsing a Jingle
 */
public void testParseIQSimple(){
  IQfake iqSent=new IQfake(" <jingle xmlns='urn:xmpp:tmp:jingle'" + " initiator=\"gorrino@viejo.com\"" + " responder=\"colico@hepatico.com\""+ " action=\"transport-info\" sid=\"\">"+ " <transport xmlns='urn:xmpp:tmp:jingle:transports:ice-udp'>"+ " <candidate generation=\"1\""+ " ip=\"192.168.1.1\""+ " password=\"secret\""+ " port=\"8080\""+ " username=\"username\""+ " preference=\"1\"/>"+ " </transport>"+ "</jingle>");
  iqSent.setTo(getFullJID(0));
  iqSent.setFrom(getFullJID(0));
  iqSent.setType(IQ.Type.get);
  PacketFilter filter=new StanzaTypeFilter(IQ.class);
  StanzaCollector collector=getConnection(0).createStanzaCollector(filter);
  System.out.println("Testing if a Jingle IQ can be sent and received...");
  getConnection(0).sendStanza(iqSent);
  IQ iqReceived=(IQ)collector.nextResult(SmackConfiguration.getPacketReplyTimeout());
  collector.cancel();
  if (iqReceived == null) {
    fail("No response from server");
  }
 else   if (iqReceived.getType() == IQ.Type.error) {
    fail("The server did reply with an error packet: " + iqReceived.getError().getCode());
  }
 else {
    assertTrue(iqReceived instanceof Jingle);
    Jingle jin=(Jingle)iqReceived;
    System.out.println("Sent:     " + iqSent.toXML());
    System.out.println("Received: " + jin.toXML());
  }
}
