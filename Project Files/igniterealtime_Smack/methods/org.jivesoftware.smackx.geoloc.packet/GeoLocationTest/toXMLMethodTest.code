@Test public void toXMLMethodTest() throws Exception {
  final String geoLocationMessageString="<message from='portia@merchantofvenice.lit'" + " to='bassanio@merchantofvenice.lit'>" + "<geoloc xmlns='http://jabber.org/protocol/geoloc'>"+ "<accuracy>23</accuracy>"+ "<alt>1000</alt>"+ "<altaccuracy>10</altaccuracy>"+ "<area>Delhi</area>"+ "<bearing>10</bearing>"+ "<building>Small Building</building>"+ "<country>India</country>"+ "<countrycode>IN</countrycode>"+ "<description>My Description</description>"+ "<error>90</error>"+ "<floor>top</floor>"+ "<lat>25.098345</lat>"+ "<locality>awesome</locality>"+ "<lon>77.992034</lon>"+ "<postalcode>110085</postalcode>"+ "<region>North</region>"+ "<room>small</room>"+ "<speed>250.0</speed>"+ "<street>Wall Street</street>"+ "<text>Unit Testing GeoLocation</text>"+ "<timestamp>2004-02-19</timestamp>"+ "<tzo>+5:30</tzo>"+ "<uri>http://xmpp.org</uri>"+ "</geoloc>"+ "</message>";
  Message messageWithGeoLocation=PacketParserUtils.parseStanza(geoLocationMessageString);
  assertNotNull(messageWithGeoLocation);
  GeoLocation geoLocation=messageWithGeoLocation.getExtension(GeoLocation.class);
  assertNotNull(geoLocation);
  assertNotNull(geoLocation.toXML());
  @SuppressWarnings("deprecation") GeoLocation constructedGeoLocation=GeoLocation.builder().setAccuracy(23d).setAlt(1000d).setAltAccuracy(10d).setArea("Delhi").setBearing(10d).setBuilding("Small Building").setCountry("India").setCountryCode("IN").setDescription("My Description").setError(90d).setFloor("top").setLat(25.098345d).setLocality("awesome").setLon(77.992034).setPostalcode("110085").setRegion("North").setRoom("small").setSpeed(250.0d).setStreet("Wall Street").setText("Unit Testing GeoLocation").setTimestamp(XmppDateTime.parseDate("2004-02-19")).setTzo("+5:30").setUri(new URI("http://xmpp.org")).build();
  assertEquals(constructedGeoLocation.toXML().toString(),geoLocation.toXML().toString());
}
