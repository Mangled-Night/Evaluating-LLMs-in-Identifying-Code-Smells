public void logAdmin(Integer type,String action,Boolean succeed,String result,String comment){
  LitemallLog log=new LitemallLog();
  Subject currentUser=SecurityUtils.getSubject();
  if (currentUser != null) {
    LitemallAdmin admin=(LitemallAdmin)currentUser.getPrincipal();
    if (admin != null) {
      log.setAdmin(admin.getUsername());
    }
 else {
      log.setAdmin("匿名用户");
    }
  }
 else {
    log.setAdmin("匿名用户");
  }
  HttpServletRequest request=((ServletRequestAttributes)RequestContextHolder.getRequestAttributes()).getRequest();
  if (request != null) {
    log.setIp(IpUtil.getIpAddr(request));
  }
  log.setType(type);
  log.setAction(action);
  log.setStatus(succeed);
  log.setResult(result);
  log.setComment(comment);
  logService.add(log);
}
