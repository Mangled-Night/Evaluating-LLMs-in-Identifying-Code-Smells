private static byte[] copyOfRange(final byte[] original,final int from,final int to){
  int newLength=to - from;
  if (newLength < 0)   throw new IllegalArgumentException(from + " > " + to);
  byte[] copy=new byte[newLength];
  System.arraycopy(original,from,copy,0,Math.min(original.length - from,newLength));
  return copy;
}
