@Override public void channelRead(ChannelHandlerContext ctx,Object msg) throws Exception {
  NetData.NetMessage message=(NetData.NetMessage)msg;
  if (message.hasHandshakeHello()) {
    processServerHello(message.getHandshakeHello(),ctx);
  }
 else   if (message.hasProvisionIdentity()) {
    processNewIdentity(message.getProvisionIdentity(),ctx);
  }
 else   if (message.hasHandshakeVerification()) {
    processHandshakeVerification(message.getHandshakeVerification(),ctx);
  }
 else {
    super.channelRead(ctx,msg);
  }
}
