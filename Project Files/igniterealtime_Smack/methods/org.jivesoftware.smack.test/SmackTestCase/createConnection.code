/** 
 * Creates a new XMPPTCPConnection using the connection preferences. This is useful when not using a connection from the connection pool in a test case.
 * @return a new XMPP connection.
 */
protected XMPPTCPConnection createConnection(){
  ConnectionConfiguration config=new ConnectionConfiguration(host,port);
  config.setCompressionEnabled(compressionEnabled);
  config.setSendPresence(sendInitialPresence());
  if (getSocketFactory() == null) {
    config.setSocketFactory(getSocketFactory());
  }
  return new XMPPTCPConnection(config);
}
