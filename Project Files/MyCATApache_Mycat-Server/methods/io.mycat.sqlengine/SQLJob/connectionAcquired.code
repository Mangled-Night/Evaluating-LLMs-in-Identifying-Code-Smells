@Override public void connectionAcquired(final BackendConnection conn){
  if (LOGGER.isDebugEnabled()) {
    LOGGER.debug("con query sql:" + sql + " to con:"+ conn);
  }
  conn.setResponseHandler(this);
  try {
    if (ctx != null) {
      ServerConnection sc=ctx.getSession().getSource();
      conn.query(sql,sc.getCharsetIndex());
    }
 else {
      conn.query(sql);
    }
    connection=conn;
  }
 catch (  Exception e) {
    doFinished(true,e.getMessage());
  }
}
