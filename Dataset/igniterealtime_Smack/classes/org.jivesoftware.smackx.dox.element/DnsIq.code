public class DnsIq extends IQ {
  public static final String ELEMENT="dns";
  public static final String NAMESPACE="urn:xmpp:dox:0";
  private final DnsMessage dnsMessage;
  private String base64DnsMessage;
  public DnsIq(  String base64DnsMessage) throws IOException {
    this(Base64.decode(base64DnsMessage));
    this.base64DnsMessage=base64DnsMessage;
  }
  public DnsIq(  byte[] dnsMessage) throws IOException {
    this(new DnsMessage(dnsMessage));
  }
  public DnsIq(  DnsMessage dnsQuery,  Jid to){
    this(dnsQuery);
    setTo(to);
    setType(Type.get);
  }
  public DnsIq(  DnsMessage dnsMessage){
    super(ELEMENT,NAMESPACE);
    this.dnsMessage=dnsMessage;
  }
  public DnsMessage getDnsMessage(){
    return dnsMessage;
  }
  @SuppressWarnings("ByteBufferBackingArray") public String getDnsMessageBase64Encoded(){
    if (base64DnsMessage == null) {
      ByteBuffer byteBuffer=dnsMessage.getInByteBuffer();
      byte[] bytes=byteBuffer.array();
      base64DnsMessage=Base64.encodeToStringWithoutPadding(bytes);
    }
    return base64DnsMessage;
  }
  @Override protected IQChildElementXmlStringBuilder getIQChildElementBuilder(  IQChildElementXmlStringBuilder xml){
    xml.rightAngleBracket();
    xml.escape(getDnsMessageBase64Encoded());
    return xml;
  }
}
