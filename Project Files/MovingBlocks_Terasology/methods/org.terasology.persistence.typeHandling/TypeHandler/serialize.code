/** 
 * Serializes a single value. The default implementation of this method returns  {@link PersistedDataSerializer#serializeNull()}if  {@code value} is null, otherwise delegates to {@link #serializeNonNull}.
 * @param value The value to serialize - may be null
 * @param serializer The serializer used to serialize simple values
 * @return The serialized value.
 */
public PersistedData serialize(T value,PersistedDataSerializer serializer){
  if (value == null) {
    return serializer.serializeNull();
  }
  return serializeNonNull(value,serializer);
}
