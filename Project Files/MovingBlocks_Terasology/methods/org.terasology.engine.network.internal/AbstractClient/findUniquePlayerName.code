/** 
 * Provides an alternative name to the client when the preferred name is taken or unavailable, appending a suffix to the end.
 * @param preferredName Used to build new name based on preferred option.
 * @param entityManager
 * @param player Used to mark client name as not to be checked, ensuring the client doesn't block its own name.
 * @return Returns the new name to the client.
 */
protected String findUniquePlayerName(String preferredName,EntityManager entityManager,EntityRef player){
  Set<String> usedNames=findNamesOfOtherPlayers(entityManager,player);
  String name=preferredName;
  int nextSuffix=2;
  while (usedNames.contains(name)) {
    name=preferredName + nextSuffix;
    nextSuffix++;
  }
  return name;
}
