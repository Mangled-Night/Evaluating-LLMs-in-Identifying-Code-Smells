/** 
 * Manual JMH Test Launcher.
 * @author Mark Paluch
 */
public class JmhMain {
  public static void main(  String... args) throws RunnerException {
    runCommandHandlerBenchmark();
  }
  private static void runBenchmarks() throws RunnerException {
    new Runner(prepareOptions().mode(Mode.AverageTime).timeUnit(TimeUnit.NANOSECONDS).build()).run();
  }
  private static void runCommandBenchmark() throws RunnerException {
    new Runner(prepareOptions().mode(Mode.AverageTime).timeUnit(TimeUnit.NANOSECONDS).include(".*CommandBenchmark.*").build()).run();
    new Runner(prepareOptions().mode(Mode.Throughput).timeUnit(TimeUnit.SECONDS).include(".*CommandBenchmark.*").build()).run();
  }
  private static void runCommandHandlerBenchmark() throws RunnerException {
    new Runner(prepareOptions().mode(Mode.AverageTime).timeUnit(TimeUnit.NANOSECONDS).include(".*CommandHandlerBenchmark.*").build()).run();
  }
  private static void runRedisEndpointBenchmark() throws RunnerException {
    new Runner(prepareOptions().mode(Mode.AverageTime).timeUnit(TimeUnit.NANOSECONDS).include(".*RedisEndpointBenchmark.*").build()).run();
  }
  private static void runCommandEncoderBenchmark() throws RunnerException {
    new Runner(prepareOptions().mode(Mode.AverageTime).timeUnit(TimeUnit.NANOSECONDS).include(".*CommandEncoderBenchmark.*").build()).run();
  }
  private static void runRedisStateMachineBenchmark() throws RunnerException {
    new Runner(prepareOptions().mode(Mode.AverageTime).timeUnit(TimeUnit.NANOSECONDS).include(".*RedisStateMachineBenchmark.*").build()).run();
  }
  private static ChainedOptionsBuilder prepareOptions(){
    return new OptionsBuilder().forks(1).warmupIterations(5).threads(1).measurementIterations(5).timeout(TimeValue.seconds(2));
  }
}
