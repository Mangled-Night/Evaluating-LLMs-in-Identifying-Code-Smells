/** 
 * Return whether the navigation bar visible. <p>Call it in onWindowFocusChanged will get right result.</p>
 * @param activity The activity.
 * @return {@code true}: yes<br> {@code false}: no
 */
public static boolean isNavBarVisible(@NonNull final Activity activity){
  return isNavBarVisible(activity.getWindow());
}
/** 
 * Return whether the navigation bar visible. <p>Call it in onWindowFocusChanged will get right result.</p>
 * @param window The window.
 * @return {@code true}: yes<br> {@code false}: no
 */
public static boolean isNavBarVisible(@NonNull final Window window){
  boolean isVisible=false;
  ViewGroup decorView=(ViewGroup)window.getDecorView();
  for (int i=0, count=decorView.getChildCount(); i < count; i++) {
    final View child=decorView.getChildAt(i);
    final int id=child.getId();
    if (id != View.NO_ID) {
      String resourceEntryName=getResNameById(id);
      if ("navigationBarBackground".equals(resourceEntryName) && child.getVisibility() == View.VISIBLE) {
        isVisible=true;
        break;
      }
    }
  }
  if (isVisible) {
    if (UtilsBridge.isSamsung() && Build.VERSION.SDK_INT >= Build.VERSION_CODES.JELLY_BEAN_MR1 && Build.VERSION.SDK_INT < Build.VERSION_CODES.Q) {
      try {
        return Settings.Global.getInt(Utils.getApp().getContentResolver(),"navigationbar_hide_bar_enabled") == 0;
      }
 catch (      Exception ignore) {
      }
    }
    int visibility=decorView.getSystemUiVisibility();
    isVisible=(visibility & View.SYSTEM_UI_FLAG_HIDE_NAVIGATION) == 0;
  }
  return isVisible;
}
