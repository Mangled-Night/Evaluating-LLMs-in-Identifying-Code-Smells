@Test void reactiveGetAndSetWithTraceProvider(){
  brave.Span trace=clientTracing.tracer().newTrace();
  StatefulRedisConnection<String,String> connect=client.connect();
  connect.reactive().set("foo","bar").then(connect.reactive().get("foo")).contextWrite(io.lettuce.core.tracing.Tracing.withTraceContextProvider(() -> BraveTracing.BraveTraceContext.create(trace.context()))).as(StepVerifier::create).expectNext("bar").verifyComplete();
  Wait.untilTrue(() -> spans.size() > 2).waitOrTimeout();
  trace.finish();
  List<Span> spans=new ArrayList<>(BraveTracingIntegrationTests.spans);
  assertThat(spans.get(1).name()).isEqualTo("set");
  assertThat(spans.get(2).name()).isEqualTo("get");
}
