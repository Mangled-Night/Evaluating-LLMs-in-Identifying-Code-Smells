public class NumberTypeHandler extends TypeHandler<Number> {
  @Override public PersistedData serializeNonNull(  Number value,  PersistedDataSerializer serializer){
    return serializer.serialize(value.doubleValue());
  }
  @Override public Optional<Number> deserialize(  PersistedData data){
    if (data.isNumber()) {
      return Optional.of(data.getAsDouble());
    }
    return Optional.empty();
  }
}
