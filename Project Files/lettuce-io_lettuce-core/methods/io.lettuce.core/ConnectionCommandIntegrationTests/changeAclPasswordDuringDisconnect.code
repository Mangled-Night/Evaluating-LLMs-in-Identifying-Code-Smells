@Test @EnabledOnCommand("ACL") void changeAclPasswordDuringDisconnect(){
  WithPassword.run(client,() -> {
    client.setOptions(ClientOptions.builder().pingBeforeActivateConnection(false).protocolVersion(ProtocolVersion.RESP2).build());
    AtomicReference<CharSequence> passwd=new AtomicReference<>(TestSettings.aclPassword());
    RedisCredentialsProvider.ImmediateRedisCredentialsProvider rcp=() -> RedisCredentials.just(TestSettings.aclUsername(),passwd.get());
    RedisURI redisURI=RedisURI.Builder.redis(host,port).withDatabase(2).withAuthentication(rcp).build();
    StatefulRedisConnection<String,String> connection=client.connect(redisURI);
    Command<String,String,List<Object>> command=CliParser.parse("ACL SETUSER " + TestSettings.aclUsername() + " on <"+ TestSettings.aclPassword()+ " >another-password ~cached:* +@all");
    connection.sync().dispatch(command.getType(),command.getOutput(),command.getArgs());
    connection.async().quit().await(100,TimeUnit.MILLISECONDS);
    passwd.set("another-password");
    connection.sync().ping();
    connection.close();
  }
);
}
