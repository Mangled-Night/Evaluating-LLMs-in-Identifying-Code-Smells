/** 
 * Ensure, that  {@link FasteningElement#applyTo(MessageBuilder)}throws when trying to add an  {@link FasteningElement} to a {@link MessageBuilder} that already contains onesuch element.
 * @see <a href="https://xmpp.org/extensions/xep-0422.html#rules">XEP-0422: ยง4. Business Rules</a>
 */
@Test public void ensureStanzaCanOnlyContainOneFasteningElement(){
  MessageBuilder messageWithFastening=stanzaFactory.buildMessageStanza();
  FasteningElement.builder().setOriginId("origin-id").build().applyTo(messageWithFastening);
  Assertions.assertThrows(IllegalArgumentException.class,() -> FasteningElement.builder().setOriginId("another-apply-to").build().applyTo(messageWithFastening));
}
