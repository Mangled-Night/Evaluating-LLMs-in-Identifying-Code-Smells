public long[] toArrayAndReset(){
  long[] array=new long[rangeCounters.length()];
  for (int i=0; i < rangeCounters.length(); i++) {
    array[i]=rangeCounters.getAndSet(i,0);
  }
  return array;
}
