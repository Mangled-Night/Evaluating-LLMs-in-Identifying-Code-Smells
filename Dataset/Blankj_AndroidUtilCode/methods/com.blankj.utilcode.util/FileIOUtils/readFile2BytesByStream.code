/** 
 * Return the bytes in file by stream.
 * @param filePath The path of file.
 * @return the bytes in file
 */
public static byte[] readFile2BytesByStream(final String filePath){
  return readFile2BytesByStream(UtilsBridge.getFileByPath(filePath),null);
}
/** 
 * Return the bytes in file by stream.
 * @param file The file.
 * @return the bytes in file
 */
public static byte[] readFile2BytesByStream(final File file){
  return readFile2BytesByStream(file,null);
}
/** 
 * Return the bytes in file by stream.
 * @param filePath The path of file.
 * @param listener The progress update listener.
 * @return the bytes in file
 */
public static byte[] readFile2BytesByStream(final String filePath,final OnProgressUpdateListener listener){
  return readFile2BytesByStream(UtilsBridge.getFileByPath(filePath),listener);
}
/** 
 * Return the bytes in file by stream.
 * @param file     The file.
 * @param listener The progress update listener.
 * @return the bytes in file
 */
public static byte[] readFile2BytesByStream(final File file,final OnProgressUpdateListener listener){
  if (!UtilsBridge.isFileExists(file))   return null;
  try {
    ByteArrayOutputStream os=null;
    InputStream is=new BufferedInputStream(new FileInputStream(file),sBufferSize);
    try {
      os=new ByteArrayOutputStream();
      byte[] b=new byte[sBufferSize];
      int len;
      if (listener == null) {
        while ((len=is.read(b,0,sBufferSize)) != -1) {
          os.write(b,0,len);
        }
      }
 else {
        double totalSize=is.available();
        int curSize=0;
        listener.onProgressUpdate(0);
        while ((len=is.read(b,0,sBufferSize)) != -1) {
          os.write(b,0,len);
          curSize+=len;
          listener.onProgressUpdate(curSize / totalSize);
        }
      }
      return os.toByteArray();
    }
 catch (    IOException e) {
      e.printStackTrace();
      return null;
    }
 finally {
      try {
        is.close();
      }
 catch (      IOException e) {
        e.printStackTrace();
      }
      try {
        if (os != null) {
          os.close();
        }
      }
 catch (      IOException e) {
        e.printStackTrace();
      }
    }
  }
 catch (  FileNotFoundException e) {
    e.printStackTrace();
    return null;
  }
}
