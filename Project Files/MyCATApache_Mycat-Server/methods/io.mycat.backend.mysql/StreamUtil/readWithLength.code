public static final byte[] readWithLength(InputStream in) throws IOException {
  int length=(int)readLength(in);
  if (length <= 0) {
    return EMPTY_BYTES;
  }
  byte[] b=new byte[length];
  read(in,b,0,b.length);
  return b;
}
