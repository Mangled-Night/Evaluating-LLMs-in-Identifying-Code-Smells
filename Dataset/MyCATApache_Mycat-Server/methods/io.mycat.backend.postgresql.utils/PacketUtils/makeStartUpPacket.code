public static ByteBuffer makeStartUpPacket(String user,String database) throws IOException {
  List<String[]> paramList=new ArrayList<String[]>();
  String appName="MyCat-Server";
  paramList.add(new String[]{"user",user});
  paramList.add(new String[]{"database",database});
  paramList.add(new String[]{"client_encoding","UTF8"});
  paramList.add(new String[]{"DateStyle","ISO"});
  paramList.add(new String[]{"TimeZone",createPostgresTimeZone()});
  paramList.add(new String[]{"extra_float_digits","3"});
  paramList.add(new String[]{"application_name",appName});
  String[][] params=paramList.toArray(new String[0][]);
  StringBuilder details=new StringBuilder();
  for (int i=0; i < params.length; ++i) {
    if (i != 0) {
      details.append(", ");
    }
    details.append(params[i][0]);
    details.append("=");
    details.append(params[i][1]);
  }
  int length=4 + 4;
  byte[][] encodedParams=new byte[params.length * 2][];
  for (int i=0; i < params.length; ++i) {
    encodedParams[i * 2]=params[i][0].getBytes("UTF-8");
    encodedParams[i * 2 + 1]=params[i][1].getBytes("UTF-8");
    length+=encodedParams[i * 2].length + 1 + encodedParams[i * 2 + 1].length+ 1;
  }
  length+=1;
  ByteBuffer buffer=ByteBuffer.allocate(length);
  PIOUtils.SendInteger4(length,buffer);
  PIOUtils.SendInteger2(3,buffer);
  PIOUtils.SendInteger2(0,buffer);
  for (  byte[] encodedParam : encodedParams) {
    PIOUtils.Send(encodedParam,buffer);
    PIOUtils.SendChar(0,buffer);
  }
  PIOUtils.Send(new byte[]{0},buffer);
  return buffer;
}
