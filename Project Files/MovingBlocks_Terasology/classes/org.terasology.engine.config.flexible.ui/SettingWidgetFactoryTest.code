class SettingWidgetFactoryTest {
  @Test void testCreateWidgetFor(){
    ModuleEnvironment environment=mock(ModuleEnvironment.class);
    when(environment.getSubtypesOf(eq(ConstraintWidgetFactory.class))).thenReturn(Lists.newArrayList(NumberRangeConstraintWidgetFactory.class));
    AssetManager assetManager=new AssetManager(mock(AssetTypeManager.class));
    SettingWidgetFactory settingWidgetFactory=new SettingWidgetFactory(environment,assetManager,null);
    Setting<Integer> setting=mock(Setting.class);
    when(setting.getConstraint()).thenReturn(new NumberRangeConstraint<>(0,10,false,false));
    Optional<ConstraintWidgetFactory<Integer,?>> widget=settingWidgetFactory.getConstraintWidgetFactory(setting);
    assertTrue(widget.isPresent());
    assertTrue(widget.get() instanceof NumberRangeConstraintWidgetFactory);
  }
}
