/** 
 * @return the previous value associated with the specified key, or<tt>null</tt> if there was no mapping for the key
 * @throws NullPointerException if the specified key or value is null
 */
public V putIfAbsent(K key,V value){
  if (value == null) {
    throw new NullPointerException();
  }
  int hash=hashOf(key);
  return segmentFor(hash).put(key,hash,value,true);
}
