protected void completeResult(){
  if (command.getOutput() == null) {
    complete(null);
  }
 else   if (command.getOutput().hasError()) {
    doCompleteExceptionally(ExceptionFactory.createExecutionException(command.getOutput().getError()));
  }
 else {
    complete(command.getOutput().get());
  }
}
