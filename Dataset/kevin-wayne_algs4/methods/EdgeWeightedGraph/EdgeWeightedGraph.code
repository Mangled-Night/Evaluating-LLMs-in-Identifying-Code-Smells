/** 
 * Initializes an empty edge-weighted graph with  {@code V} vertices and 0 edges.
 * @param V the number of vertices
 * @throws IllegalArgumentException if {@code V < 0}
 */
public EdgeWeightedGraph(int V){
  if (V < 0)   throw new IllegalArgumentException("Number of vertices must be non-negative");
  this.V=V;
  this.E=0;
  adj=(Bag<Edge>[])new Bag[V];
  for (int v=0; v < V; v++) {
    adj[v]=new Bag<Edge>();
  }
}
/** 
 * Initializes a random edge-weighted graph with  {@code V} vertices and <em>E</em> edges.
 * @param V the number of vertices
 * @param E the number of edges
 * @throws IllegalArgumentException if {@code V < 0}
 * @throws IllegalArgumentException if {@code E < 0}
 */
public EdgeWeightedGraph(int V,int E){
  this(V);
  if (E < 0)   throw new IllegalArgumentException("Number of edges must be non-negative");
  for (int i=0; i < E; i++) {
    int v=StdRandom.uniformInt(V);
    int w=StdRandom.uniformInt(V);
    double weight=0.01 * StdRandom.uniformInt(0,100);
    Edge e=new Edge(v,w,weight);
    addEdge(e);
  }
}
/** 
 * Initializes an edge-weighted graph from an input stream. The format is the number of vertices <em>V</em>, followed by the number of edges <em>E</em>, followed by <em>E</em> pairs of vertices and edge weights, with each entry separated by whitespace.
 * @param in the input stream
 * @throws IllegalArgumentException if {@code in} is {@code null}
 * @throws IllegalArgumentException if the endpoints of any edge are not in prescribed range
 * @throws IllegalArgumentException if the number of vertices or edges is negative
 */
public EdgeWeightedGraph(In in){
  if (in == null)   throw new IllegalArgumentException("argument is null");
  try {
    V=in.readInt();
    adj=(Bag<Edge>[])new Bag[V];
    for (int v=0; v < V; v++) {
      adj[v]=new Bag<Edge>();
    }
    int E=in.readInt();
    if (E < 0)     throw new IllegalArgumentException("Number of edges must be non-negative");
    for (int i=0; i < E; i++) {
      int v=in.readInt();
      int w=in.readInt();
      validateVertex(v);
      validateVertex(w);
      double weight=in.readDouble();
      Edge e=new Edge(v,w,weight);
      addEdge(e);
    }
  }
 catch (  NoSuchElementException e) {
    throw new IllegalArgumentException("invalid input format in EdgeWeightedGraph constructor",e);
  }
}
/** 
 * Initializes a new edge-weighted graph that is a deep copy of  {@code G}.
 * @param G the edge-weighted graph to copy
 */
public EdgeWeightedGraph(EdgeWeightedGraph G){
  this(G.V());
  this.E=G.E();
  for (int v=0; v < G.V(); v++) {
    Stack<Edge> reverse=new Stack<Edge>();
    for (    Edge e : G.adj[v]) {
      reverse.push(e);
    }
    for (    Edge e : reverse) {
      adj[v].add(e);
    }
  }
}
