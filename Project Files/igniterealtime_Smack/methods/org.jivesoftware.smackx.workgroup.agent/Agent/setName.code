/** 
 * Changes the name of the agent in the server. The server may have this functionality disabled for all the agents or for this agent in particular. If the agent is not allowed to change his name then an exception will be thrown with a service_unavailable error code.
 * @param newName the new name of the agent.
 * @throws XMPPErrorException if there was an XMPP error returned.
 * @throws NoResponseException if there was no response from the remote entity.
 * @throws NotConnectedException if the XMPP connection is not connected.
 * @throws InterruptedException if the calling thread was interrupted.
 */
public void setName(String newName) throws NoResponseException, XMPPErrorException, NotConnectedException, InterruptedException {
  AgentInfo agentInfo=new AgentInfo();
  agentInfo.setType(IQ.Type.set);
  agentInfo.setTo(workgroupJID);
  agentInfo.setFrom(getUser());
  agentInfo.setName(newName);
  connection.sendIqRequestAndWaitForResponse(agentInfo);
}
