/** 
 * Returns the textual content of an element as String. After this method returns the parser position will be END_ELEMENT, following the established pull parser calling convention. <p> The parser must be positioned on a START_ELEMENT of an element which MUST NOT contain Mixed Content (as defined in XML 3.2.2), or else an XmlPullParserException will be thrown. </p> This method is used for the parts where the XMPP specification requires elements that contain only text or are the empty element.
 * @param parser TODO javadoc me please
 * @return the textual content of the element as String
 * @throws XmlPullParserException if an error in the XML parser occurred.
 * @throws IOException if an I/O error occurred.
 */
public static String parseElementText(XmlPullParser parser) throws XmlPullParserException, IOException {
  assert parser.getEventType() == XmlPullParser.Event.START_ELEMENT;
  String res;
  XmlPullParser.Event event=parser.next();
  if (event != XmlPullParser.Event.TEXT_CHARACTERS) {
    if (event == XmlPullParser.Event.END_ELEMENT) {
      return "";
    }
 else {
      throw new XmlPullParserException("Non-empty element tag not followed by text, while Mixed Content (XML 3.2.2) is disallowed");
    }
  }
  res=parser.getText();
  event=parser.next();
  if (event != XmlPullParser.Event.END_ELEMENT) {
    throw new XmlPullParserException("Non-empty element tag contains child-elements, while Mixed Content (XML 3.2.2) is disallowed");
  }
  return res;
}
