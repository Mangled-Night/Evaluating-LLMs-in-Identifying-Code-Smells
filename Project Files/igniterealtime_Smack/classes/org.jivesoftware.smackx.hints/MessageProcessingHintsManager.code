public class MessageProcessingHintsManager {
  public static Set<MessageProcessingHintType> getHintsFrom(  Message message){
    Set<MessageProcessingHintType> hints=null;
    boolean noCopyHint=NoCopyHint.hasHint(message);
    if (noCopyHint) {
      hints=new HashSet<>(MessageProcessingHintType.values().length);
      hints.add(MessageProcessingHintType.no_copy);
    }
    boolean noPermanentStoreHint=NoPermanentStoreHint.hasHint(message);
    if (noPermanentStoreHint) {
      if (hints == null) {
        hints=new HashSet<>(MessageProcessingHintType.values().length);
      }
      hints.add(MessageProcessingHintType.no_permanent_store);
    }
    boolean noStoreHint=NoStoreHint.hasHint(message);
    if (noStoreHint) {
      if (hints == null) {
        hints=new HashSet<>(MessageProcessingHintType.values().length);
      }
      hints.add(MessageProcessingHintType.no_store);
    }
    boolean storeHint=StoreHint.hasHint(message);
    if (storeHint) {
      if (hints == null) {
        hints=new HashSet<>(MessageProcessingHintType.values().length);
      }
      hints.add(MessageProcessingHintType.store);
    }
    if (hints == null) {
      return Collections.emptySet();
    }
    return hints;
  }
}
