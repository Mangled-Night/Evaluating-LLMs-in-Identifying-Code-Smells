public static Class<?> getRawType(Type type){
  if (type instanceof Class) {
    return (Class<?>)type;
  }
 else   if (type instanceof ParameterizedType) {
    return (Class<?>)((ParameterizedType)type).getRawType();
  }
 else   if (type instanceof GenericArrayType) {
    GenericArrayType genericArrayType=(GenericArrayType)type;
    return Array.newInstance(getRawType(genericArrayType.getGenericComponentType()),0).getClass();
  }
 else   if (type instanceof WildcardType) {
    WildcardType wildcardType=(WildcardType)type;
    return getRawType(wildcardType.getUpperBounds()[0]);
  }
  return Object.class;
}
public Class<?> getRawType(){
  return this.rawType;
}
