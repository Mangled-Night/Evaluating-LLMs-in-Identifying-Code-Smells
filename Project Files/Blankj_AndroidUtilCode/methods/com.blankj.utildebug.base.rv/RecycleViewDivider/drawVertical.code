@SuppressLint("NewApi") protected void drawVertical(Canvas canvas,RecyclerView parent){
  canvas.save();
  final int left;
  final int right;
  if (parent.getClipToPadding()) {
    left=parent.getPaddingLeft();
    right=parent.getWidth() - parent.getPaddingRight();
    canvas.clipRect(left,parent.getPaddingTop(),right,parent.getHeight() - parent.getPaddingBottom());
  }
 else {
    left=0;
    right=parent.getWidth();
  }
  final int childCount=parent.getChildCount();
  for (int i=0; i < childCount; i++) {
    if (i == childCount - 1 && !mShowFooterDivider)     continue;
    final View child=parent.getChildAt(i);
    parent.getDecoratedBoundsWithMargins(child,mBounds);
    final int bottom=mBounds.bottom + Math.round(ViewCompat.getTranslationY(child));
    final int top=bottom - mDivider.getIntrinsicHeight();
    mDivider.setBounds(left,top,right,bottom);
    mDivider.draw(canvas);
  }
  canvas.restore();
}
