private Object getDIInstance(Engines engines,Class<?> type){
  if (type.isAssignableFrom(Engines.class)) {
    return engines;
  }
 else   if (type.isAssignableFrom(MainLoop.class)) {
    return new MainLoop(engines);
  }
 else   if (type.isAssignableFrom(ModuleTestingHelper.class)) {
    return new ModuleTestingHelper(engines);
  }
 else {
    return engines.getHostContext().get(type);
  }
}
