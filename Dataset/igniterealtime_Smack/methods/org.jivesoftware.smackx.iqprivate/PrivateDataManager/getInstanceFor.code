public static synchronized PrivateDataManager getInstanceFor(XMPPConnection connection){
  PrivateDataManager privateDataManager=instances.get(connection);
  if (privateDataManager == null) {
    privateDataManager=new PrivateDataManager(connection);
  }
  return privateDataManager;
}
