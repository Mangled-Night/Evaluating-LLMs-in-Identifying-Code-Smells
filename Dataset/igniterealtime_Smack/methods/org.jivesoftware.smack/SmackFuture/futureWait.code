protected final void futureWait() throws InterruptedException {
  futureWait(0);
}
@SuppressWarnings("WaitNotInLoop") protected void futureWait(long timeout) throws InterruptedException {
  wait(timeout);
}
@Override protected void futureWait(long timeout) throws InterruptedException {
  try {
    super.futureWait(timeout);
  }
 catch (  InterruptedException interruptedException) {
synchronized (wasInterruptedLock) {
      wasInterrupted=true;
      if (!socket.isClosed()) {
        closeSocket();
      }
    }
    throw interruptedException;
  }
}
