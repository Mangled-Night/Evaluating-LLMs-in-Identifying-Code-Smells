public class PagingTest extends MamTest {
  private static final String pagingStanza="<iq id='sarasa' type='set'>" + "<query xmlns='urn:xmpp:mam:2' queryid='testid'>" + "<x xmlns='jabber:x:data' type='submit'>"+ "<field var='FORM_TYPE'>"+ "<value>urn:xmpp:mam:2</value>"+ "</field>"+ "</x>"+ "<set xmlns='http://jabber.org/protocol/rsm'>"+ "<max>10</max>"+ "</set>"+ "</query>"+ "</iq>";
  @Test public void checkPageQueryStanza() throws Exception {
    DataForm dataForm=getNewMamForm();
    int max=10;
    RSMSet rsmSet=new RSMSet(max);
    MamQueryIQ mamQueryIQ=new MamQueryIQ(MamVersion.MAM2,queryId,dataForm);
    mamQueryIQ.setStanzaId("sarasa");
    mamQueryIQ.setType(IQ.Type.set);
    mamQueryIQ.addExtension(rsmSet);
    assertEquals(mamQueryIQ.getDataForm(),dataForm);
    assertEquals(mamQueryIQ.getDataForm().getFields().get(0).getValues().get(0).toString(),"urn:xmpp:mam:2");
    assertEquals(pagingStanza,mamQueryIQ.toXML(StreamOpen.CLIENT_NAMESPACE).toString());
  }
}
