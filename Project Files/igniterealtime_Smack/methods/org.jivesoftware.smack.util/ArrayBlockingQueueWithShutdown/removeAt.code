private void removeAt(int i){
  if (i == takeIndex) {
    items[takeIndex]=null;
    takeIndex=inc(takeIndex);
  }
 else {
    while (true) {
      int nexti=inc(i);
      if (nexti != putIndex) {
        items[i]=items[nexti];
        i=nexti;
      }
 else {
        items[i]=null;
        putIndex=i;
        break;
      }
    }
  }
  count--;
  notFull.signal();
}
