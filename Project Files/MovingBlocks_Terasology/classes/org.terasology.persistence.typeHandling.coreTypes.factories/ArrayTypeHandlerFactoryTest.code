class ArrayTypeHandlerFactoryTest {
  private final TypeHandlerLibrary typeHandlerLibrary=mock(TypeHandlerLibrary.class);
  private final ArrayTypeHandlerFactory typeHandlerFactory=new ArrayTypeHandlerFactory();
  private final TypeHandlerContext context=new TypeHandlerContext(typeHandlerLibrary,mock(SerializationSandbox.class));
  @Test void testArray(){
    TypeInfo<int[]> arrayTypeInfo=TypeInfo.of(int[].class);
    Optional<TypeHandler<int[]>> typeHandler=typeHandlerFactory.create(arrayTypeInfo,context);
    assertTrue(typeHandler.isPresent());
    assertTrue(typeHandler.get() instanceof ArrayTypeHandler);
    verify(typeHandlerLibrary).getTypeHandler(eq(TypeInfo.of(int.class).getType()));
  }
  @Test void testGenericArray(){
    TypeInfo<List<Integer>[]> arrayTypeInfo=new TypeInfo<List<Integer>[]>(){
    }
;
    Optional<TypeHandler<List<Integer>[]>> typeHandler=typeHandlerFactory.create(arrayTypeInfo,context);
    assertTrue(typeHandler.isPresent());
    assertTrue(typeHandler.get() instanceof ArrayTypeHandler);
    verify(typeHandlerLibrary).getTypeHandler(eq(new TypeInfo<List<Integer>>(){
    }
.getType()));
  }
  @Test void testNonArray(){
    TypeInfo<List<Integer>> arrayTypeInfo=new TypeInfo<List<Integer>>(){
    }
;
    Optional<TypeHandler<List<Integer>>> typeHandler=typeHandlerFactory.create(arrayTypeInfo,context);
    assertFalse(typeHandler.isPresent());
  }
}
