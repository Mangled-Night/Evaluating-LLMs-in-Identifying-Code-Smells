protected AbstractXMPPConnection getConnectedConnection() throws InterruptedException, XMPPException, SmackException, IOException {
  AbstractXMPPConnection connection=getUnconnectedConnection();
  connection.connect().login();
  return connection;
}
