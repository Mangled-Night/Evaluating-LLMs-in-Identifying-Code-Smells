/** 
 * Complete and send an error. Complete all the null fields in an IQ error response, using the session information we have or some info from the incoming packet.
 * @param iq The Jingle stanza we are responding to
 * @param jingleError the IQ stanza we want to complete and send
 * @return the jingle error IQ.
 */
public IQ createJingleError(IQ iq,JingleError jingleError){
  IQ errorPacket=null;
  if (jingleError != null) {
    StanzaError builder=StanzaError.getBuilder().setCondition(StanzaError.Condition.undefined_condition).addExtension(jingleError).build();
    errorPacket=IQ.createErrorResponse(iq,builder);
    LOGGER.severe("Error sent: " + errorPacket.toXML());
  }
  return errorPacket;
}
