public static void execute(ManagerConnection c,final boolean loadAll){
  if (loadAll && !NIOProcessor.backends_old.isEmpty()) {
    c.writeErrMessage(ErrorCode.ER_YES,"The are several unfinished db transactions before executing \"reload @@config_all\", therefore the execution is terminated for logical integrity and please try again later.");
    return;
  }
  final ReentrantLock lock=MycatServer.getInstance().getConfig().getLock();
  lock.lock();
  try {
    ListenableFuture<Boolean> listenableFuture=MycatServer.getInstance().getListeningExecutorService().submit(new Callable<Boolean>(){
      @Override public Boolean call() throws Exception {
        return loadAll ? reload_all() : reload();
      }
    }
);
    Futures.addCallback(listenableFuture,new ReloadCallBack(c),MycatServer.getInstance().getListeningExecutorService());
  }
  finally {
    lock.unlock();
  }
}
