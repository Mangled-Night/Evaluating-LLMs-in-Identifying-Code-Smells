@ParameterizedTest @EnumSource(SmackTestUtil.XmlPullParserKind.class) public void testGetNamespace(SmackTestUtil.XmlPullParserKind parserKind) throws XmlPullParserException, IOException {
  String xml="<foo:bar xmlns='namespace' xmlns:foo='foo-namespace'/>";
  XmlPullParser parser=SmackTestUtil.getParserFor(xml,parserKind);
  String parsedName=parser.getName();
  assertEquals("bar",parsedName);
  String parsedPrefix=parser.getPrefix();
  assertEquals("foo",parsedPrefix);
  String parsedPrefixNamespace=parser.getNamespace(parsedPrefix);
  assertEquals("foo-namespace",parsedPrefixNamespace);
  String parsedNamespace=parser.getNamespace();
  assertEquals("foo-namespace",parsedNamespace);
  List<Function<XmlPullParser,String>> defaultNamespaceRetrievers=new ArrayList<>();
  defaultNamespaceRetrievers.add(p -> p.getNamespace(null));
  defaultNamespaceRetrievers.add(p -> p.getDefaultNamespace());
  for (  Function<XmlPullParser,String> defaultNamespaceRetriever : defaultNamespaceRetrievers) {
    String defaultNamespace=defaultNamespaceRetriever.apply(parser);
    assertEquals("namespace",defaultNamespace);
  }
}
