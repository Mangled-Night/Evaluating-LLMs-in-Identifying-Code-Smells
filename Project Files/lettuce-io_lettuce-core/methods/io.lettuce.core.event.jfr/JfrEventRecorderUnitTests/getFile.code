private static File getFile(Recording recording) throws IOException {
  InputStream stream=recording.getStream(recording.getStartTime(),recording.getStopTime());
  File temp=File.createTempFile("recording",".jfr");
  FileOutputStream fos=new FileOutputStream(temp);
  temp.deleteOnExit();
  byte[] buffer=new byte[4096];
  int bytesRead;
  while ((bytesRead=stream.read(buffer)) != -1) {
    fos.write(buffer,0,bytesRead);
  }
  fos.close();
  return temp;
}
