private static byte[] getBytesFromDate(Date date){
  int year=DateUtil.getYear(date);
  int month=DateUtil.getMonth(date);
  int day=DateUtil.getDay(date);
  int hour=DateUtil.getHour(date);
  int minute=DateUtil.getMinute(date);
  int second=DateUtil.getSecond(date);
  int microSecond=DateUtil.getMicroSecond(date);
  byte[] bytes=null;
  byte[] tmp=null;
  if (year == 0 && month == 0 && day == 0 && hour == 0 && minute == 0 && second == 0 && microSecond == 0) {
    bytes=new byte[1];
    bytes[0]=(byte)0;
  }
 else   if (hour == 0 && minute == 0 && second == 0 && microSecond == 0) {
    bytes=new byte[1 + 4];
    bytes[0]=(byte)4;
    tmp=getBytes((short)year);
    bytes[1]=tmp[0];
    bytes[2]=tmp[1];
    bytes[3]=(byte)month;
    bytes[4]=(byte)day;
  }
 else   if (microSecond == 0) {
    bytes=new byte[1 + 7];
    bytes[0]=(byte)7;
    tmp=getBytes((short)year);
    bytes[1]=tmp[0];
    bytes[2]=tmp[1];
    bytes[3]=(byte)month;
    bytes[4]=(byte)day;
    bytes[5]=(byte)hour;
    bytes[6]=(byte)minute;
    bytes[7]=(byte)second;
  }
 else {
    bytes=new byte[1 + 11];
    bytes[0]=(byte)11;
    tmp=getBytes((short)year);
    bytes[1]=tmp[0];
    bytes[2]=tmp[1];
    bytes[3]=(byte)month;
    bytes[4]=(byte)day;
    bytes[5]=(byte)hour;
    bytes[6]=(byte)minute;
    bytes[7]=(byte)second;
    tmp=getBytes(microSecond);
    bytes[8]=tmp[0];
    bytes[9]=tmp[1];
    bytes[10]=tmp[2];
    bytes[11]=tmp[3];
  }
  return bytes;
}
