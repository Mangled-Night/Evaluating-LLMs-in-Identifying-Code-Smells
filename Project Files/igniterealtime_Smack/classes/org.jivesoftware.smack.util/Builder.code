public static final class Builder {
  private boolean isEquals=true;
  private Builder(){
  }
  private void nullSafeCompare(  Object left,  Object right,  Runnable runnable){
    if (!isEquals) {
      return;
    }
    if (left == right) {
      return;
    }
    if (left == null || right == null) {
      isEquals=false;
      return;
    }
    runnable.run();
  }
  public <O>Builder append(  O left,  O right){
    if (!isEquals) {
      return this;
    }
    if (left == right) {
      return this;
    }
    if (left == null || right == null) {
      isEquals=false;
      return this;
    }
    isEquals=left.equals(right);
    return this;
  }
  public Builder append(  boolean left,  boolean right){
    if (!isEquals) {
      return this;
    }
    isEquals=left == right;
    return this;
  }
  public Builder append(  boolean[] left,  boolean[] right){
    nullSafeCompare(left,right,() -> {
      if (left.length != right.length) {
        isEquals=false;
        return;
      }
      for (int i=0; i < left.length && isEquals; i++) {
        append(left[i],right[i]);
      }
    }
);
    return this;
  }
  public Builder append(  byte left,  byte right){
    if (!isEquals) {
      return this;
    }
    isEquals=left == right;
    return this;
  }
  public Builder append(  byte[] left,  byte[] right){
    nullSafeCompare(left,right,() -> {
      if (left.length != right.length) {
        isEquals=false;
        return;
      }
      for (int i=0; i < left.length && isEquals; i++) {
        append(left[i],right[i]);
      }
    }
);
    return this;
  }
  public Builder append(  char left,  char right){
    if (!isEquals) {
      return this;
    }
    isEquals=left == right;
    return this;
  }
  public Builder append(  char[] left,  char[] right){
    nullSafeCompare(left,right,() -> {
      if (left.length != right.length) {
        isEquals=false;
        return;
      }
      for (int i=0; i < left.length && isEquals; i++) {
        append(left[i],right[i]);
      }
    }
);
    return this;
  }
  public Builder append(  double left,  double right){
    if (!isEquals) {
      return this;
    }
    return append(Double.doubleToLongBits(left),Double.doubleToLongBits(right));
  }
  public Builder append(  double[] left,  double[] right){
    nullSafeCompare(left,right,() -> {
      if (left.length != right.length) {
        isEquals=false;
        return;
      }
      for (int i=0; i < left.length && isEquals; i++) {
        append(left[i],right[i]);
      }
    }
);
    return this;
  }
  public Builder append(  float left,  float right){
    if (!isEquals) {
      return this;
    }
    return append(Float.floatToIntBits(left),Float.floatToIntBits(right));
  }
  public Builder append(  float[] left,  float[] right){
    nullSafeCompare(left,right,() -> {
      if (left.length != right.length) {
        isEquals=false;
        return;
      }
      for (int i=0; i < left.length && isEquals; i++) {
        append(left[i],right[i]);
      }
    }
);
    return this;
  }
  public Builder append(  int left,  int right){
    if (!isEquals) {
      return this;
    }
    isEquals=left == right;
    return this;
  }
  public Builder append(  int[] left,  int[] right){
    nullSafeCompare(left,right,() -> {
      if (left.length != right.length) {
        isEquals=false;
        return;
      }
      for (int i=0; i < left.length && isEquals; i++) {
        append(left[i],right[i]);
      }
    }
);
    return this;
  }
  public Builder append(  long left,  long right){
    if (!isEquals) {
      return this;
    }
    isEquals=left == right;
    return this;
  }
  public Builder append(  long[] left,  long[] right){
    nullSafeCompare(left,right,() -> {
      if (left.length != right.length) {
        isEquals=false;
        return;
      }
      for (int i=0; i < left.length && isEquals; i++) {
        append(left[i],right[i]);
      }
    }
);
    return this;
  }
}
public static class Builder {
  private int hashcode=17;
  private void applyHash(){
    applyHash(0);
  }
  private void applyHash(  int hash){
    hashcode=MULTIPLIER_VALUE * hashcode + hash;
  }
  public Builder append(  Object object){
    if (object == null) {
      applyHash();
      return this;
    }
    if (object.getClass().isArray()) {
      if (object instanceof int[]) {
        append((int[])object);
      }
 else       if (object instanceof long[]) {
        append((long[])object);
      }
 else       if (object instanceof boolean[]) {
        append((boolean[])object);
      }
 else       if (object instanceof double[]) {
        append((double[])object);
      }
 else       if (object instanceof float[]) {
        append((float[])object);
      }
 else       if (object instanceof short[]) {
        append((short[])object);
      }
 else       if (object instanceof char[]) {
        append((char[])object);
      }
 else       if (object instanceof byte[]) {
        append((byte[])object);
      }
 else {
        append((Object[])object);
      }
    }
    applyHash(object.hashCode());
    return this;
  }
  public Builder append(  boolean value){
    applyHash(value ? 0 : 1);
    return this;
  }
  public Builder append(  boolean[] array){
    if (array == null) {
      applyHash();
      return this;
    }
    for (    boolean bool : array) {
      append(bool);
    }
    return this;
  }
  public Builder append(  byte value){
    applyHash(value);
    return this;
  }
  public Builder append(  byte[] array){
    if (array == null) {
      applyHash();
      return this;
    }
    for (    byte b : array) {
      append(b);
    }
    return this;
  }
  public Builder append(  char value){
    applyHash(value);
    return this;
  }
  public Builder append(  char[] array){
    if (array == null) {
      applyHash();
      return this;
    }
    for (    char c : array) {
      append(c);
    }
    return this;
  }
  public Builder append(  double value){
    return append(Double.doubleToLongBits(value));
  }
  public Builder append(  double[] array){
    if (array == null) {
      applyHash();
      return this;
    }
    for (    double d : array) {
      append(d);
    }
    return this;
  }
  public Builder append(  float value){
    return append(Float.floatToIntBits(value));
  }
  public Builder append(  float[] array){
    if (array == null) {
      applyHash();
      return this;
    }
    for (    float f : array) {
      append(f);
    }
    return this;
  }
  public Builder append(  long value){
    applyHash((int)(value ^ (value >>> 32)));
    return this;
  }
  public Builder append(  long[] array){
    if (array == null) {
      applyHash();
      return this;
    }
    for (    long l : array) {
      append(l);
    }
    return this;
  }
  public Builder append(  Object[] array){
    if (array == null) {
      applyHash();
      return this;
    }
    for (    Object element : array) {
      append(element);
    }
    return this;
  }
  public int build(){
    return hashcode;
  }
}
public static final class Builder {
  private final StringBuilder sb;
  private Builder(  StringBuilder sb){
    this.sb=sb;
  }
  public Builder addValue(  String name,  Object value){
    if (value == null) {
      return this;
    }
    if (sb.charAt(sb.length() - 1) != '(') {
      sb.append(' ');
    }
    sb.append(name).append("='").append(value).append('\'');
    return this;
  }
  public <V>Builder add(  String name,  Collection<? extends V> values,  Function<?,V> toStringFunction){
    if (values.isEmpty()) {
      return this;
    }
    sb.append(' ').append(name).append('[');
    List<String> stringValues=new ArrayList<>(values.size());
    for (    V value : values) {
      String valueString=toStringFunction.apply(value).toString();
      stringValues.add(valueString);
    }
    StringUtils.appendTo(stringValues,", ",sb);
    sb.append(']');
    return this;
  }
  public String build(){
    sb.append(')');
    return sb.toString();
  }
}
