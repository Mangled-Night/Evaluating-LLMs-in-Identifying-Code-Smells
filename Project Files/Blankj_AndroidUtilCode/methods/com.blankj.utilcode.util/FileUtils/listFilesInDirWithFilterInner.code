private static List<File> listFilesInDirWithFilterInner(final File dir,final FileFilter filter,final boolean isRecursive){
  List<File> list=new ArrayList<>();
  if (!isDir(dir))   return list;
  File[] files=dir.listFiles();
  if (files != null && files.length > 0) {
    for (    File file : files) {
      if (filter.accept(file)) {
        list.add(file);
      }
      if (isRecursive && file.isDirectory()) {
        list.addAll(listFilesInDirWithFilterInner(file,filter,true));
      }
    }
  }
  return list;
}
