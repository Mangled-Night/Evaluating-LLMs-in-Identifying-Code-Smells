protected void tryErrorFinished(boolean allEnd){
  if (allEnd && !session.closed()) {
    if (LOGGER.isDebugEnabled()) {
      LOGGER.debug("error all end ,clear session resource ");
    }
    session.closeAndClearResources(error);
    session.getSource().clearTxInterrupt();
    if (responseData != null) {
      LOGGER.error(this.error);
      session.getSource().write(responseData);
    }
 else     session.getSource().writeErrMessage(ErrorCode.ER_UNKNOWN_ERROR,this.error);
  }
}
