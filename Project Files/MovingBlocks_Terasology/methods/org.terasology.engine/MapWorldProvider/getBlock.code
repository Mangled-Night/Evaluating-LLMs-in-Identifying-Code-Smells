@Override public Block getBlock(int x,int y,int z){
  Vector3i pos=new Vector3i(x,y,z);
  Block block=blocks.get(pos);
  if (block != null) {
    return block;
  }
  Vector3i chunkPos=Chunks.toChunkPos(pos,new Vector3i());
  Chunk chunk=chunks.get(chunkPos);
  if (chunk == null && worldGenerator != null) {
    chunk=new ChunkImpl(chunkPos,blockManager,extraDataManager);
    worldGenerator.createChunk(chunk,entityBuffer);
    chunks.put(chunkPos,chunk);
  }
  if (chunk != null) {
    return chunk.getBlock(Chunks.toRelative(pos,pos));
  }
  return null;
}
