@Nullable private static Object realSubArray(@Nullable Object array,int startIndexInclusive,int endIndexExclusive){
  if (array == null) {
    return null;
  }
  if (startIndexInclusive < 0) {
    startIndexInclusive=0;
  }
  int length=getLength(array);
  if (endIndexExclusive > length) {
    endIndexExclusive=length;
  }
  int newSize=endIndexExclusive - startIndexInclusive;
  Class type=array.getClass().getComponentType();
  if (newSize <= 0) {
    return Array.newInstance(type,0);
  }
  Object subArray=Array.newInstance(type,newSize);
  System.arraycopy(array,startIndexInclusive,subArray,0,newSize);
  return subArray;
}
