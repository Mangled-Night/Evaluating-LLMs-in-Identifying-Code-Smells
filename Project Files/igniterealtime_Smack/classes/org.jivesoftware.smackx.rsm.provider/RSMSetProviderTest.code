public class RSMSetProviderTest extends SmackTestSuite {
  @Test public void testRsmSetProvider() throws Exception {
    final String rsmset="<iq type='get' id='iqget'>" + "<pubsub xmlns='http://jabber.org/protocol/pubsub'>" + "<set xmlns='http://jabber.org/protocol/rsm'>"+ "<after>aftervalue</after>"+ "<before>beforevalue</before>"+ "<count>1</count>"+ "<first index='2'>foo@bar.com</first>"+ "<index>3</index>"+ "<last>lastvalue</last>"+ "<max>4</max>"+ "</set>"+ "</pubsub>"+ "</iq>";
    IQ iqWithRsm=PacketParserUtils.parseStanza(rsmset);
    RSMSet rsm=iqWithRsm.getExtension(RSMSet.class);
    assertNotNull(rsm);
    assertEquals("aftervalue",rsm.getAfter());
    assertEquals("beforevalue",rsm.getBefore());
    assertEquals(1,rsm.getCount());
    assertEquals(2,rsm.getFirstIndex());
    assertEquals("foo@bar.com",rsm.getFirst());
    assertEquals(3,rsm.getIndex());
    assertEquals("lastvalue",rsm.getLast());
    assertEquals(4,rsm.getMax());
  }
}
