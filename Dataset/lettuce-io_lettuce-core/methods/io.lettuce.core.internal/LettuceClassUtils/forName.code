/** 
 * Loads a class using the  {@link #getDefaultClassLoader()}.
 * @param className
 * @return
 * @throws ClassNotFoundException
 */
public static Class<?> forName(String className) throws ClassNotFoundException {
  return forName(className,getDefaultClassLoader());
}
private static Class<?> forName(String className,ClassLoader classLoader) throws ClassNotFoundException {
  try {
    return classLoader.loadClass(className);
  }
 catch (  ClassNotFoundException ex) {
    int lastDotIndex=className.lastIndexOf('.');
    if (lastDotIndex != -1) {
      String innerClassName=className.substring(0,lastDotIndex) + '$' + className.substring(lastDotIndex + 1);
      try {
        return classLoader.loadClass(innerClassName);
      }
 catch (      ClassNotFoundException ex2) {
      }
    }
    throw ex;
  }
}
