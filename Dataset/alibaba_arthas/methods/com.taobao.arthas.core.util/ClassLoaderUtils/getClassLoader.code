public static ClassLoader getClassLoader(Instrumentation inst,String hashCode){
  if (hashCode == null || hashCode.isEmpty()) {
    return null;
  }
  for (  Class<?> clazz : inst.getAllLoadedClasses()) {
    ClassLoader classLoader=clazz.getClassLoader();
    if (classLoader != null) {
      if (Integer.toHexString(classLoader.hashCode()).equals(hashCode)) {
        return classLoader;
      }
    }
  }
  return null;
}
/** 
 * Find List<ClassLoader> by the class name of ClassLoader or the return value of ClassLoader#toString().
 * @param inst
 * @param classLoaderClassName
 * @param classLoaderToString
 * @return
 */
public static List<ClassLoader> getClassLoader(Instrumentation inst,String classLoaderClassName,String classLoaderToString){
  List<ClassLoader> matchClassLoaders=new ArrayList<ClassLoader>();
  if (StringUtils.isEmpty(classLoaderClassName) && StringUtils.isEmpty(classLoaderToString)) {
    return matchClassLoaders;
  }
  Set<ClassLoader> classLoaderSet=getAllClassLoader(inst);
  List<ClassLoader> matchedByClassLoaderToStr=new ArrayList<ClassLoader>();
  for (  ClassLoader classLoader : classLoaderSet) {
    if (!StringUtils.isEmpty(classLoaderClassName) && StringUtils.isEmpty(classLoaderToString)) {
      if (classLoader.getClass().getName().equals(classLoaderClassName)) {
        matchClassLoaders.add(classLoader);
      }
    }
 else     if (!StringUtils.isEmpty(classLoaderToString) && StringUtils.isEmpty(classLoaderClassName)) {
      if (classLoader.toString().equals(classLoaderToString)) {
        matchClassLoaders.add(classLoader);
      }
    }
 else {
      if (classLoader.getClass().getName().equals(classLoaderClassName)) {
        matchClassLoaders.add(classLoader);
      }
      if (classLoader.toString().equals(classLoaderToString)) {
        matchedByClassLoaderToStr.add(classLoader);
      }
    }
  }
  if (!StringUtils.isEmpty(classLoaderClassName) && !StringUtils.isEmpty(classLoaderToString)) {
    matchClassLoaders.retainAll(matchedByClassLoaderToStr);
  }
  return matchClassLoaders;
}
