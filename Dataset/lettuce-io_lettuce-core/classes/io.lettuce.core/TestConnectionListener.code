private class TestConnectionListener implements RedisConnectionStateListener {
  volatile SocketAddress onConnectedSocketAddress;
  volatile RedisChannelHandler<?,?> onConnected;
  volatile RedisChannelHandler<?,?> onDisconnected;
  volatile RedisChannelHandler<?,?> onException;
  @Override public void onRedisConnected(  RedisChannelHandler<?,?> connection,  SocketAddress socketAddress){
    onConnected=connection;
    onConnectedSocketAddress=socketAddress;
  }
  @Override public void onRedisDisconnected(  RedisChannelHandler<?,?> connection){
    onDisconnected=connection;
  }
  @Override public void onRedisExceptionCaught(  RedisChannelHandler<?,?> connection,  Throwable cause){
    onException=connection;
  }
}
