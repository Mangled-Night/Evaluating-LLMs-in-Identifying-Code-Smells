public void expandPointerArray(LongArray newArray){
  if (newArray.size() < array.size()) {
    throw new OutOfMemoryError("Not enough memory to grow pointer array");
  }
  Platform.copyMemory(array.getBaseObject(),array.getBaseOffset(),newArray.getBaseObject(),newArray.getBaseOffset(),array.size() * (8 / memoryAllocationFactor));
  consumer.freeLongArray(array);
  array=newArray;
}
