/** 
 * Instances of this class manage Frame buffer Objects (FBOs) whose characteristics are immutable. Once an FBO is first generated through the request(FboConfig) method, it stays the same until it is disposed.
 */
public class ImmutableFbo extends AbstractFboManager {
  @Override public FBO request(  FboConfig fboConfig){
    FBO fbo;
    SimpleUri fboName=fboConfig.getName();
    if (fboConfigs.containsKey(fboName)) {
      if (!fboConfig.equals(fboConfigs.get(fboName))) {
        throw new IllegalArgumentException("Requested FBO is already available with different configuration");
      }
      fbo=fboLookup.get(fboConfig.getName());
    }
 else {
      fbo=generateWithDimensions(fboConfig,fboConfig.getDimensions());
    }
    retain(fboName);
    return fbo;
  }
}
