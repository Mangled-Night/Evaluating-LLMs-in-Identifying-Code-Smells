Ipv4SubnetRule(String ipAddress,int cidrPrefix,ConcurrentLruCache<String,Integer> ipv4AddressCache){
  LettuceAssert.isTrue(NetUtil.isValidIpV4Address(ipAddress),() -> String.format("Invalid IPv4 IP address %s",ipAddress));
  LettuceAssert.isTrue(0 <= cidrPrefix && cidrPrefix <= 32,() -> String.format("Invalid CIDR prefix %d",cidrPrefix));
  this.subnetMask=toSubnetMask(cidrPrefix);
  this.networkAddress=toNetworkAddress(ipAddress,this.subnetMask);
  this.ipv4AddressCache=ipv4AddressCache;
}
