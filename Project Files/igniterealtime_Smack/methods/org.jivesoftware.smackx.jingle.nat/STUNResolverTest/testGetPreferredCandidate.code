/** 
 * Test for getPreferredCandidate()
 * @throws Exception if an exception occurs.
 */
public void testGetPreferredCandidate() throws Exception {
  int highestPref=100;
  TransportCandidate cand1=new ICECandidate("192.168.2.1",3,2,"password",3468,"username1",1,ICECandidate.Type.prflx);
  TransportCandidate cand2=new ICECandidate("192.168.5.1",2,10,"password",3469,"username2",15,ICECandidate.Type.prflx);
  TransportCandidate candH=new ICECandidate("192.168.2.11",1,2,"password",3468,"usernameH",highestPref,ICECandidate.Type.prflx);
  TransportCandidate cand3=new ICECandidate("192.168.2.10",2,10,"password",3469,"username3",2,ICECandidate.Type.prflx);
  TransportCandidate cand4=new ICECandidate("192.168.4.1",3,2,"password",3468,"username4",78,ICECandidate.Type.prflx);
  STUNResolver stunResolver=new STUNResolver(){
  }
;
  stunResolver.addCandidate(cand1);
  stunResolver.addCandidate(cand2);
  stunResolver.addCandidate(candH);
  stunResolver.addCandidate(cand3);
  stunResolver.addCandidate(cand4);
  assertEquals(stunResolver.getPreferredCandidate(),candH);
}
