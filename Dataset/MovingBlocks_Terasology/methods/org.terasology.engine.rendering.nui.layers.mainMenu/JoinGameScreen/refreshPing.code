private void refreshPing(){
  String address=visibleList.getSelection().getAddress();
  int port=visibleList.getSelection().getPort();
  String name=visibleList.getSelection().getName();
  UILabel ping=find("ping",UILabel.class);
  ping.setText("Requested");
  Thread getPing=new Thread(() -> {
    PingService pingService=new PingService(address,port);
    try {
      long responseTime=pingService.call();
      if (visibleList.getSelection().getAddress().equals(address)) {
        GameThread.asynch(() -> ping.setText(responseTime + " ms."));
      }
    }
 catch (    IOException e) {
      String text=translationSystem.translate("${engine:menu#connection-failed}");
      if (name.equals(visibleList.getSelection().getName())) {
        GameThread.asynch(() -> ping.setText(FontColor.getColored(text,Color.RED)));
      }
    }
  }
);
  getPing.start();
}
