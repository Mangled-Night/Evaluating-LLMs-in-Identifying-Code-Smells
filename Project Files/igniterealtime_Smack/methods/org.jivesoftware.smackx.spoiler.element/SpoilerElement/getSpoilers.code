/** 
 * Return a map of all spoilers contained in a message. The map uses the language of a spoiler as key. If a spoiler has no language attribute, its key will be an empty String.
 * @param message message
 * @return map of spoilers
 */
public static Map<String,String> getSpoilers(Message message){
  if (!containsSpoiler(message)) {
    return Collections.emptyMap();
  }
  List<SpoilerElement> spoilers=message.getExtensions(SpoilerElement.class);
  Map<String,String> map=new HashMap<>();
  for (  SpoilerElement s : spoilers) {
    if (s.getLanguage() == null || s.getLanguage().equals("")) {
      map.put("",s.getHint());
    }
 else {
      map.put(s.getLanguage(),s.getHint());
    }
  }
  return map;
}
