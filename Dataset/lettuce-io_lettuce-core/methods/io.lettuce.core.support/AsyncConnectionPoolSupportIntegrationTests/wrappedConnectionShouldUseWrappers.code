@Test void wrappedConnectionShouldUseWrappers(){
  AsyncPool<StatefulRedisConnection<String,String>> pool=AsyncConnectionPoolSupport.createBoundedObjectPool(() -> client.connectAsync(StringCodec.ASCII,uri),BoundedPoolConfig.create());
  StatefulRedisConnection<String,String> connection=TestFutures.getOrTimeout(pool.acquire());
  RedisCommands<String,String> sync=connection.sync();
  assertThat(connection).isInstanceOf(StatefulRedisConnection.class).isNotInstanceOf(StatefulRedisClusterConnectionImpl.class);
  assertThat(Proxy.isProxyClass(connection.getClass())).isTrue();
  assertThat(sync).isInstanceOf(RedisCommands.class);
  assertThat(connection.async()).isInstanceOf(RedisAsyncCommands.class).isNotInstanceOf(RedisAsyncCommandsImpl.class);
  assertThat(connection.reactive()).isInstanceOf(RedisReactiveCommands.class).isNotInstanceOf(RedisReactiveCommandsImpl.class);
  assertThat(sync.getStatefulConnection()).isInstanceOf(StatefulRedisConnection.class).isNotInstanceOf(StatefulRedisConnectionImpl.class).isSameAs(connection);
  connection.close();
  pool.close();
}
