/** 
 * The constructor, to be used in the initialise method of a node. Sample use: addDesiredStateChange(new SetInputTextureFromFbo(0, fbo, ColorTexture, displayResolutionDependentFboManager, "engine:prog.chunk", "textureWater"));
 * @param textureSlot an integer representing the number to add to GL_TEXTURE0 to identify a texture unit on the GPU.
 * @param fbo the FBO from which the texture attachment will be fetched.
 * @param textureType one of the types available through the FboTextureType enum.
 * @param fboManager the BaseFboManager instance that will send change notifications via the update() method of this class.
 * @param materialUrn a URN identifying a Material instance.
 * @param shaderParameterName the name of a variable in the shader program used to sample the texture.
 */
public SetInputTextureFromFbo(int textureSlot,FBO fbo,FboTexturesTypes textureType,BaseFboManager fboManager,ResourceUrn materialUrn,String shaderParameterName){
  this.textureSlot=textureSlot;
  this.textureType=textureType;
  this.fbo=fbo;
  this.materialUrn=materialUrn;
  this.shaderParameterName=shaderParameterName;
  this.material=getMaterial(materialUrn);
  propertyChange(null);
  fboManager.subscribe(DisplayResolutionDependentFbo.POST_FBO_REGENERATION,this);
}
/** 
 * The constructor, to be used in the initialise method of a node. Sample use: addDesiredStateChange(new SetInputTextureFromFbo(0, fboUri, ColorTexture, displayResolutionDependentFboManager, "engine:prog.chunk", "textureWater"));
 * @param textureSlot an integer representing the number to add to GL_TEXTURE0 to identify a texture unit on the GPU.
 * @param fboUri a SimpleUri identifying an FBO in the given fboManager, from which the texture attachment will be fetched.
 * @param textureType one of the types available through the FboTextureType enum.
 * @param fboManager the BaseFboManager instance that will send change notifications via the update() method of this class.
 * @param materialUrn a ResourceUrn identifying a Material instance.
 * @param shaderParameterName the name of a variable in the shader program used to sample the texture.
 */
public SetInputTextureFromFbo(int textureSlot,SimpleUri fboUri,FboTexturesTypes textureType,BaseFboManager fboManager,ResourceUrn materialUrn,String shaderParameterName){
  this(textureSlot,fboManager.get(fboUri),textureType,fboManager,materialUrn,shaderParameterName);
}
private SetInputTextureFromFbo(int textureSlot,ResourceUrn materialUrn,String shaderParameterName){
  this.textureSlot=textureSlot;
  this.materialUrn=materialUrn;
  this.shaderParameterName=shaderParameterName;
  this.material=getMaterial(materialUrn);
  defaultInstance=this;
}
