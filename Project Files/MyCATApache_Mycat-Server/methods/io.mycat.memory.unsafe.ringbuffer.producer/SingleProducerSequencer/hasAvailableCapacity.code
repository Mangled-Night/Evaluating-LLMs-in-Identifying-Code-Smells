@Override public boolean hasAvailableCapacity(int requiredCapacity){
  long nextValue=this.nextValue;
  long wrapPoint=(nextValue + requiredCapacity) - bufferSize;
  long cachedGatingSequence=this.cachedValue;
  if (wrapPoint > cachedGatingSequence || cachedGatingSequence > nextValue) {
    long minSequence=Util.getMinimumSequence(gatingSequences,nextValue);
    this.cachedValue=minSequence;
    if (wrapPoint > minSequence) {
      return false;
    }
  }
  return true;
}
