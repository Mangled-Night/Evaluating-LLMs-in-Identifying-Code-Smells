private State.Type readReplyType(ByteBuf buffer){
  byte b=buffer.readByte();
  State.Type type=TYPE_BY_BYTE_MARKER[b];
  if (type == null) {
    throw new RedisProtocolException("Invalid first byte: " + b + " ("+ new String(new byte[]{b})+ ")"+ " at buffer index "+ buffer.readerIndex()+ " decoding using "+ getProtocolVersion());
  }
  return type;
}
