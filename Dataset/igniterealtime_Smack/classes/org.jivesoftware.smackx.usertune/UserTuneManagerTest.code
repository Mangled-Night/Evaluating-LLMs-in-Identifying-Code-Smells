public class UserTuneManagerTest extends SmackTestSuite {
  @Test public void addMessage() throws URISyntaxException {
    UserTuneElement.Builder builder=UserTuneElement.getBuilder();
    builder.setArtist("Yes");
    builder.setLength(686);
    builder.setRating(8);
    builder.setSource("Yessongs");
    builder.setTitle("Heart of the Sunrise");
    builder.setTrack("3");
    URI uri=new URI("http://www.yesworld.com/lyrics/Fragile.html#9");
    builder.setUri(uri);
    UserTuneElement userTuneElement=builder.build();
    Message message=StanzaBuilder.buildMessage().addExtension(userTuneElement).build();
    assertTrue(message.hasExtension(UserTuneElement.ELEMENT,UserTuneElement.NAMESPACE));
    assertTrue(UserTuneElement.hasUserTuneElement(message));
    UserTuneElement element=UserTuneElement.from(message);
    assertNotNull(element);
    assertEquals(userTuneElement,element);
  }
}
