public static StartTls parseStartTlsFeature(XmlPullParser parser) throws XmlPullParserException, IOException {
  ParserUtils.assertAtStartTag(parser);
  assert parser.getNamespace().equals(StartTls.NAMESPACE);
  int initalDepth=parser.getDepth();
  boolean required=false;
  outerloop:   while (true) {
    XmlPullParser.Event event=parser.next();
switch (event) {
case START_ELEMENT:
      String name=parser.getName();
switch (name) {
case "required":
      required=true;
    break;
}
break;
case END_ELEMENT:
if (parser.getDepth() == initalDepth) {
break outerloop;
}
break;
default :
break;
}
}
ParserUtils.assertAtEndTag(parser);
return new StartTls(required);
}
