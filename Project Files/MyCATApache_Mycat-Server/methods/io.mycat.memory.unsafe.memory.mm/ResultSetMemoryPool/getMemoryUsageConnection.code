/** 
 * Returns the memory consumption, in bytes, for the given task.
 */
public long getMemoryUsageConnection(long taskAttemptId){
synchronized (lock) {
    if (!memoryForConnection.containsKey(taskAttemptId)) {
      memoryForConnection.put(taskAttemptId,0L);
    }
    return memoryForConnection.get(taskAttemptId);
  }
}
