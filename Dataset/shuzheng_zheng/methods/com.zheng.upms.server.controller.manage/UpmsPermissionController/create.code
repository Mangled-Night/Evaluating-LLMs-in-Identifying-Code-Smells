@ApiOperation(value="新增权限") @RequiresPermissions("upms:permission:create") @RequestMapping(value="/create",method=RequestMethod.GET) public String create(ModelMap modelMap){
  UpmsSystemExample upmsSystemExample=new UpmsSystemExample();
  upmsSystemExample.createCriteria().andStatusEqualTo((byte)1);
  List<UpmsSystem> upmsSystems=upmsSystemService.selectByExample(upmsSystemExample);
  modelMap.put("upmsSystems",upmsSystems);
  return "/manage/permission/create.jsp";
}
@ApiOperation(value="新增权限") @RequiresPermissions("upms:permission:create") @ResponseBody @RequestMapping(value="/create",method=RequestMethod.POST) public Object create(UpmsPermission upmsPermission){
  ComplexResult result=FluentValidator.checkAll().on(upmsPermission.getName(),new LengthValidator(1,20,"名称")).doValidate().result(ResultCollectors.toComplex());
  if (!result.isSuccess()) {
    return new UpmsResult(UpmsResultConstant.INVALID_LENGTH,result.getErrors());
  }
  long time=System.currentTimeMillis();
  upmsPermission.setCtime(time);
  upmsPermission.setOrders(time);
  int count=upmsPermissionService.insertSelective(upmsPermission);
  return new UpmsResult(UpmsResultConstant.SUCCESS,count);
}
