/** 
 * Environment with a MapWorldProvider and BlockManager. Useful to get headless environment with a generated world.
 * @deprecated Use ModuleTestingEnvironment.
 */
@Deprecated public class WorldProvidingHeadlessEnvironment extends HeadlessEnvironment {
  public WorldProvidingHeadlessEnvironment(  Name... modules){
    super(modules);
  }
  public void setupWorldProvider(  WorldGenerator generator){
    generator.initialize();
    WorldProviderCore stub=new MapWorldProvider(generator,context.get(BlockManager.class),context.get(ExtraBlockDataManager.class));
    WorldProvider world=new WorldProviderWrapper(stub,context.get(ExtraBlockDataManager.class));
    CoreRegistry.put(WorldProvider.class,world);
    CoreRegistry.put(BlockEntityRegistry.class,new EntityAwareWorldProvider(stub,context));
  }
}
