private static InetAddress getInetAddress(){
  try {
    Enumeration<NetworkInterface> nis=NetworkInterface.getNetworkInterfaces();
    while (nis.hasMoreElements()) {
      NetworkInterface ni=nis.nextElement();
      if (!ni.isUp())       continue;
      Enumeration<InetAddress> addresses=ni.getInetAddresses();
      while (addresses.hasMoreElements()) {
        InetAddress inetAddress=addresses.nextElement();
        if (!inetAddress.isLoopbackAddress()) {
          String hostAddress=inetAddress.getHostAddress();
          if (hostAddress.indexOf(':') < 0)           return inetAddress;
        }
      }
    }
  }
 catch (  SocketException e) {
    e.printStackTrace();
  }
  return null;
}
