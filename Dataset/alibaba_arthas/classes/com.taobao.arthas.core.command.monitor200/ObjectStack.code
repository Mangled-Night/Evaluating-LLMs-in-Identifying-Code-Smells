/** 
 * <pre> 一个特殊的stack，为了追求效率，避免扩容。 因为这个stack的push/pop 并不一定成对调用，比如可能push执行了，但是后面的流程被中断了，pop没有被执行。 如果不固定大小，一直增长的话，极端情况下可能应用有内存问题。 如果到达容量，pos会重置，循环存储数据。所以使用这个Stack如果在极端情况下统计的数据会不准确，只用于monitor/watch等命令的计时。 </pre>
 * @author hengyunabc 2020-05-20
 */
static class ObjectStack {
  private Object[] array;
  private int pos=0;
  private int cap;
  public ObjectStack(  int maxSize){
    array=new Object[maxSize];
    cap=array.length;
  }
  public int size(){
    return pos;
  }
  public void push(  Object value){
    if (pos < cap) {
      array[pos++]=value;
    }
 else {
      pos=0;
      array[pos++]=value;
    }
  }
  public Object pop(){
    if (pos > 0) {
      pos--;
      Object object=array[pos];
      array[pos]=null;
      return object;
    }
 else {
      pos=cap;
      pos--;
      Object object=array[pos];
      array[pos]=null;
      return object;
    }
  }
}
