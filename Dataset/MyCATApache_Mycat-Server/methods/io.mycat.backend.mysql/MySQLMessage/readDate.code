public java.util.Date readDate(){
  byte length=read();
  int year=readUB2();
  byte month=read();
  byte date=read();
  int hour=read();
  int minute=read();
  int second=read();
  if (length == 11) {
    long nanos=readUB4();
    Calendar cal=getLocalCalendar();
    cal.set(year,--month,date,hour,minute,second);
    Timestamp time=new Timestamp(cal.getTimeInMillis());
    time.setNanos((int)nanos);
    return time;
  }
 else {
    Calendar cal=getLocalCalendar();
    cal.set(year,--month,date,hour,minute,second);
    return new java.sql.Date(cal.getTimeInMillis());
  }
}
