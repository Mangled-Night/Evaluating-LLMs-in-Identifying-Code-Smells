@Override protected void doReload(ShaderData data){
  try {
    GameThread.synch(() -> {
      logger.debug("Recompiling shader {}.",getUrn());
      disposalAction.disposeData();
      shaderProgramBase=data;
      parameters.clear();
      for (      ShaderParameterMetadata metadata : shaderProgramBase.getParameterMetadata()) {
        parameters.put(metadata.getName(),metadata);
      }
      updateAvailableFeatures();
      try {
        registerAllShaderPermutations();
      }
 catch (      RuntimeException e) {
        logger.warn(e.getMessage());
      }
    }
);
  }
 catch (  InterruptedException e) {
    logger.error("Failed to reload {}",getUrn(),e);
  }
}
