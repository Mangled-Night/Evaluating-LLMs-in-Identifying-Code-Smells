/** 
 * Adds the sent stanza detail to the messages table.
 * @param dateFormatter the SimpleDateFormat to use to format Dates
 * @param packet        the sent stanza to add to the table
 */
private void addSentPacketToTable(final SimpleDateFormat dateFormatter,final TopLevelStreamElement packet){
  SwingUtilities.invokeLater(new Runnable(){
    @Override public void run(){
      String messageType;
      Jid to;
      String stanzaId;
      if (packet instanceof Stanza) {
        Stanza stanza=(Stanza)packet;
        to=stanza.getTo();
        stanzaId=stanza.getStanzaId();
      }
 else {
        to=null;
        stanzaId="(Nonza)";
      }
      String type="";
      Icon packetTypeIcon;
      sentPackets++;
      if (packet instanceof IQ) {
        packetTypeIcon=iqPacketIcon;
        messageType="IQ Sent (class=" + packet.getClass().getName() + ")";
        type=((IQ)packet).getType().toString();
        sentIQPackets++;
      }
 else       if (packet instanceof Message) {
        packetTypeIcon=messagePacketIcon;
        messageType="Message Sent";
        type=((Message)packet).getType().toString();
        sentMessagePackets++;
      }
 else       if (packet instanceof Presence) {
        packetTypeIcon=presencePacketIcon;
        messageType="Presence Sent";
        type=((Presence)packet).getType().toString();
        sentPresencePackets++;
      }
 else {
        packetTypeIcon=unknownPacketTypeIcon;
        messageType=packet.getClass().getName() + " Sent";
        sentOtherPackets++;
      }
      if (EnhancedDebuggerWindow.MAX_TABLE_ROWS > 0 && messagesTable.getRowCount() >= EnhancedDebuggerWindow.MAX_TABLE_ROWS) {
        messagesTable.removeRow(0);
      }
      messagesTable.addRow(new Object[]{XmlUtil.prettyFormatXml(packet.toXML().toString()),dateFormatter.format(new Date()),packetSentIcon,packetTypeIcon,messageType,stanzaId,type,to,""});
      updateStatistics();
    }
  }
);
}
