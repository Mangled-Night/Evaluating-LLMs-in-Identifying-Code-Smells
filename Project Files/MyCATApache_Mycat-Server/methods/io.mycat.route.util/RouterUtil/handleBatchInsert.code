public static List<String> handleBatchInsert(String origSQL,int valuesIndex){
  List<String> handledSQLs=new LinkedList<>();
  String prefix=origSQL.substring(0,valuesIndex + "VALUES".length());
  String values=origSQL.substring(valuesIndex + "VALUES".length());
  int flag=0;
  StringBuilder currentValue=new StringBuilder();
  currentValue.append(prefix);
  for (int i=0; i < values.length(); i++) {
    char j=values.charAt(i);
    if (j == '(' && flag == 0) {
      flag=1;
      currentValue.append(j);
    }
 else     if (j == '\"' && flag == 1) {
      flag=2;
      currentValue.append(j);
    }
 else     if (j == '\'' && flag == 1) {
      flag=3;
      currentValue.append(j);
    }
 else     if (j == '\\' && flag == 2) {
      flag=4;
      currentValue.append(j);
    }
 else     if (j == '\\' && flag == 3) {
      flag=5;
      currentValue.append(j);
    }
 else     if (flag == 4) {
      flag=2;
      currentValue.append(j);
    }
 else     if (flag == 5) {
      flag=3;
      currentValue.append(j);
    }
 else     if (j == '\"' && flag == 2) {
      flag=1;
      currentValue.append(j);
    }
 else     if (j == '\'' && flag == 3) {
      flag=1;
      currentValue.append(j);
    }
 else     if (j == ')' && flag == 1) {
      flag=0;
      currentValue.append(j);
      handledSQLs.add(currentValue.toString());
      currentValue=new StringBuilder();
      currentValue.append(prefix);
    }
 else     if (j == ',' && flag == 0) {
      continue;
    }
 else {
      currentValue.append(j);
    }
  }
  return handledSQLs;
}
/** 
 * 对于主键不在插入语句的fields中的SQL，需要改写。比如hotnews主键为id，插入语句为： insert into hotnews(title) values('aaa'); 需要改写成： insert into hotnews(id, title) values(next value for MYCATSEQ_hotnews,'aaa');
 */
public static void handleBatchInsert(ServerConnection sc,SchemaConfig schema,int sqlType,String origSQL,int valuesIndex,String tableName,String primaryKey,List<List<String>> vauleList,String suffixStr){
  final String pk="\\(" + primaryKey + ",";
  final String mycatSeqPrefix="(next value for MYCATSEQ_" + tableName.toUpperCase() + "";
  String prefix=origSQL.substring(0,valuesIndex + 6);
  prefix=prefix.replaceFirst("\\(",pk);
  StringBuilder sb=new StringBuilder("");
  for (  List<String> list : vauleList) {
    sb.append(mycatSeqPrefix);
    for (    String val : list) {
      sb.append(",").append(val);
    }
    sb.append("),");
  }
  sb.setCharAt(sb.length() - 1,' ');
  if (suffixStr != null) {
    sb.append(suffixStr);
  }
  processSQL(sc,schema,prefix + sb.toString(),sqlType);
}
