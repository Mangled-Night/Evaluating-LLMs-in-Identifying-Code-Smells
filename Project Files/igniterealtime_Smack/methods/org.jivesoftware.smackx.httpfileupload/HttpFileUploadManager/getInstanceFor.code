/** 
 * Obtain the HttpFileUploadManager responsible for a connection.
 * @param connection the connection object.
 * @return a HttpFileUploadManager instance
 */
public static synchronized HttpFileUploadManager getInstanceFor(XMPPConnection connection){
  HttpFileUploadManager httpFileUploadManager=INSTANCES.get(connection);
  if (httpFileUploadManager == null) {
    httpFileUploadManager=new HttpFileUploadManager(connection);
    INSTANCES.put(connection,httpFileUploadManager);
  }
  return httpFileUploadManager;
}
