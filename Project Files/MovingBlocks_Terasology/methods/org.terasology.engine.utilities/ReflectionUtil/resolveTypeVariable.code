private static Type resolveTypeVariable(Type contextType,TypeVariable<?> typeVariable,Class<?> contextClass){
  if (!(typeVariable.getGenericDeclaration() instanceof Class)) {
    return typeVariable;
  }
  return getCascadedGenericDeclaration(typeVariable).filter(declaration -> declaration.getKey().isAssignableFrom(contextClass)).findAny().map(declaration -> getTypeParameterForSuper(contextType,declaration.getKey(),declaration.getValue())).orElse(Object.class);
}
