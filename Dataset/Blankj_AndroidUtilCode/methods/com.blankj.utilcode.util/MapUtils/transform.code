/** 
 * Transform the map by applying a Transformer to each element. <p> If the input map or transformer is null, there is no change made.
 * @param map         the map to get the input from, may be null
 * @param transformer the transformer to perform, may be null
 */
public static <K1,V1,K2,V2>Map<K2,V2> transform(Map<K1,V1> map,final Transformer<K1,V1,K2,V2> transformer){
  if (map == null || transformer == null)   return null;
  try {
    final Map<K2,V2> transMap=map.getClass().newInstance();
    forAllDo(map,new Closure<K1,V1>(){
      @Override public void execute(      K1 key,      V1 value){
        Pair<K2,V2> pair=transformer.transform(key,value);
        transMap.put(pair.first,pair.second);
      }
    }
);
    return transMap;
  }
 catch (  IllegalAccessException e) {
    e.printStackTrace();
  }
catch (  InstantiationException e) {
    e.printStackTrace();
  }
  return null;
}
Pair<K2,V2> transform(K1 k1,V1 v1);
