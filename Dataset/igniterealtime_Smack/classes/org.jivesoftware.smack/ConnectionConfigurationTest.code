public class ConnectionConfigurationTest {
  @Test public void setIp(){
    DummyConnectionConfiguration.Builder builder=newUnitTestBuilder();
    final String ip="192.168.0.1";
    builder.setHost(ip);
    DummyConnectionConfiguration connectionConfiguration=builder.build();
    assertEquals('/' + ip,connectionConfiguration.getHostAddress().toString());
  }
  @Test public void setFqdn(){
    DummyConnectionConfiguration.Builder builder=newUnitTestBuilder();
    final String fqdn="foo.example.org";
    builder.setHost(fqdn);
    DummyConnectionConfiguration connectionConfiguration=builder.build();
    assertEquals(fqdn,connectionConfiguration.getHost().toString());
  }
  private static DummyConnectionConfiguration.Builder newUnitTestBuilder(){
    DummyConnectionConfiguration.Builder builder=DummyConnectionConfiguration.builder();
    builder.setXmppDomain(JidTestUtil.DOMAIN_BARE_JID_1);
    return builder;
  }
private static final class DummyConnectionConfiguration extends ConnectionConfiguration {
    DummyConnectionConfiguration(    Builder builder){
      super(builder);
    }
    public static Builder builder(){
      return new Builder();
    }
private static final class Builder extends ConnectionConfiguration.Builder<Builder,DummyConnectionConfiguration> {
      @Override public DummyConnectionConfiguration build(){
        return new DummyConnectionConfiguration(this);
      }
      @Override protected Builder getThis(){
        return this;
      }
    }
  }
}
