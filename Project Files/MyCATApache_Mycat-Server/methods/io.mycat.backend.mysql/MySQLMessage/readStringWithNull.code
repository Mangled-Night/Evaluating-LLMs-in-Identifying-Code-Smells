public String readStringWithNull(){
  final byte[] b=this.data;
  if (position >= length) {
    return null;
  }
  int offset=-1;
  for (int i=position; i < length; i++) {
    if (b[i] == 0) {
      offset=i;
      break;
    }
  }
  if (offset == -1) {
    String s=new String(b,position,length - position);
    position=length;
    return s;
  }
  if (offset > position) {
    String s=new String(b,position,offset - position);
    position=offset + 1;
    return s;
  }
 else {
    position++;
    return null;
  }
}
public String readStringWithNull(String charset) throws UnsupportedEncodingException {
  final byte[] b=this.data;
  if (position >= length) {
    return null;
  }
  int offset=-1;
  for (int i=position; i < length; i++) {
    if (b[i] == 0) {
      offset=i;
      break;
    }
  }
switch (offset) {
case -1:
    String s1=new String(b,position,length - position,charset);
  position=length;
return s1;
case 0:
position++;
return null;
default :
String s2=new String(b,position,offset - position,charset);
position=offset + 1;
return s2;
}
}
