@Test public void validatePresenceOptionalElements() throws Exception {
  String stanza="<presence xml:lang='en' type='unsubscribed'>" + "<show>dnd</show>" + "<status>Wooing Juliet</status>"+ "<priority>1</priority>"+ "</presence>";
  Presence presence=PacketParserUtils.parsePresence(PacketParserUtils.getParserFor(stanza));
  assertXmlSimilar(stanza,presence.toXML(StreamOpen.CLIENT_NAMESPACE).toString());
  assertEquals(Presence.Type.unsubscribed,presence.getType());
  assertEquals("dnd",presence.getMode().name());
  assertEquals("en",presence.getLanguage());
  assertEquals("Wooing Juliet",presence.getStatus());
  assertEquals(1,presence.getPriority());
}
