/** 
 * Gets all fields of the given class and its parents (if any).
 * @param cls the  {@link Class} to query
 * @return an array of Fields (possibly empty).
 * @throws IllegalArgumentException if the class is  {@code null}
 * @since 3.2
 */
public static List<Field> getAllFieldsList(final Class<?> cls){
  isTrue(cls != null,"The class must not be null");
  final List<Field> allFields=new ArrayList<Field>();
  Class<?> currentClass=cls;
  while (currentClass != null) {
    final Field[] declaredFields=currentClass.getDeclaredFields();
    allFields.addAll(Arrays.asList(declaredFields));
    currentClass=currentClass.getSuperclass();
  }
  return allFields;
}
