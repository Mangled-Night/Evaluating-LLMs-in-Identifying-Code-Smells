public class Tag implements NamedElement {
  public enum Type {  str,   num}
  private final String name;
  private final Type type;
  private final String value;
  public Tag(  String name,  Type type,  String value){
    this.name=StringUtils.requireNotNullNorEmpty(name,"name must not be null nor empty");
    this.type=Objects.requireNonNull(type);
    this.value=StringUtils.requireNotNullNorEmpty(value,"value must not be null nor empty");
    if (this.name.length() > 32) {
      throw new IllegalArgumentException("Meta Tag names must not be longer then 32 characters (XEP-0347 ยง 5.2");
    }
    if (this.type == Type.str && this.value.length() > 128) {
      throw new IllegalArgumentException("Meta Tag string values must not be longer then 128 characters (XEP-0347 ยง 5.2");
    }
  }
  public String getName(){
    return name;
  }
  public Type getType(){
    return type;
  }
  public String getValue(){
    return value;
  }
  @Override public XmlStringBuilder toXML(  org.jivesoftware.smack.packet.XmlEnvironment enclosingNamespace){
    XmlStringBuilder xml=new XmlStringBuilder(this);
    xml.attribute("name",name);
    xml.attribute("value",value);
    xml.closeEmptyElement();
    return xml;
  }
  @Override public String getElementName(){
    return getType().toString();
  }
  @Override public String toString(){
    return name + '(' + type+ "):"+ value;
  }
}
