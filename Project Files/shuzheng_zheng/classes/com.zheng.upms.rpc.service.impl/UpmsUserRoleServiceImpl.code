/** 
 * UpmsUserRoleService实现 Created by shuzheng on 2017/3/20.
 */
@Service @Transactional @BaseService public class UpmsUserRoleServiceImpl extends BaseServiceImpl<UpmsUserRoleMapper,UpmsUserRole,UpmsUserRoleExample> implements UpmsUserRoleService {
  private static final Logger LOGGER=LoggerFactory.getLogger(UpmsUserRoleServiceImpl.class);
  @Autowired UpmsUserRoleMapper upmsUserRoleMapper;
  @Override public int role(  String[] roleIds,  int id){
    int result=0;
    UpmsUserRoleExample upmsUserRoleExample=new UpmsUserRoleExample();
    upmsUserRoleExample.createCriteria().andUserIdEqualTo(id);
    upmsUserRoleMapper.deleteByExample(upmsUserRoleExample);
    if (null != roleIds) {
      for (      String roleId : roleIds) {
        if (StringUtils.isBlank(roleId)) {
          continue;
        }
        UpmsUserRole upmsUserRole=new UpmsUserRole();
        upmsUserRole.setUserId(id);
        upmsUserRole.setRoleId(NumberUtils.toInt(roleId));
        result=upmsUserRoleMapper.insertSelective(upmsUserRole);
      }
    }
    return result;
  }
}
