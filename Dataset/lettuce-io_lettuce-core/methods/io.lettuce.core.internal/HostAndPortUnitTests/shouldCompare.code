@Test void shouldCompare(){
  HostAndPort hp1=HostAndPort.parse("foo::123");
  HostAndPort hp2=HostAndPort.parse("foo::123");
  HostAndPort hp3=HostAndPort.parse("[foo::124]");
  HostAndPort hp4=HostAndPort.of("[foo::123]",80);
  HostAndPort hp5=HostAndPort.parse("[foo::123]:80");
  assertThat(hp1.hashCode()).isEqualTo(hp1.hashCode());
  assertThat(hp2.hashCode()).isEqualTo(hp1.hashCode());
  assertThat(hp3.hashCode()).isNotEqualTo(hp1.hashCode());
  assertThat(hp3.hashCode()).isNotEqualTo(hp4.hashCode());
  assertThat(hp5.hashCode()).isNotEqualTo(hp4.hashCode());
  assertThat(hp1.equals(hp1)).isTrue();
  assertThat(hp1).isEqualTo(hp1);
  assertThat(hp1.equals(hp2)).isTrue();
  assertThat(hp1.equals(hp3)).isFalse();
  assertThat(hp1).isNotEqualTo(hp3);
  assertThat(hp3.equals(hp4)).isFalse();
  assertThat(hp4.equals(hp5)).isFalse();
  assertThat(hp1.equals(null)).isFalse();
}
