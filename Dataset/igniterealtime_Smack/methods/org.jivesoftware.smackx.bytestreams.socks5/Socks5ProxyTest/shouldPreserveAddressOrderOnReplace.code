/** 
 * When replacing network addresses of the proxy the order should remain in the order if the given list.
 * @throws UnknownHostException if unknown host.
 */
@Test public void shouldPreserveAddressOrderOnReplace() throws UnknownHostException {
  Socks5Proxy proxy=Socks5Proxy.getSocks5Proxy();
  List<InetAddress> addresses=new ArrayList<>(proxy.getLocalAddresses());
  addresses.add(InetAddress.getByName("1"));
  addresses.add(InetAddress.getByName("2"));
  addresses.add(InetAddress.getByName("3"));
  proxy.replaceLocalAddresses(addresses);
  List<InetAddress> localAddresses=proxy.getLocalAddresses();
  for (int i=0; i < addresses.size(); i++) {
    assertEquals(addresses.get(i),localAddresses.get(i));
  }
}
