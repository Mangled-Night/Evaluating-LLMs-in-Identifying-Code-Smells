SystemToast(ToastUtils toastUtils){
  super(toastUtils);
  if (Build.VERSION.SDK_INT == Build.VERSION_CODES.N_MR1) {
    try {
      Field mTNField=Toast.class.getDeclaredField("mTN");
      mTNField.setAccessible(true);
      Object mTN=mTNField.get(mToast);
      Field mTNmHandlerField=mTNField.getType().getDeclaredField("mHandler");
      mTNmHandlerField.setAccessible(true);
      Handler tnHandler=(Handler)mTNmHandlerField.get(mTN);
      mTNmHandlerField.set(mTN,new SafeHandler(tnHandler));
    }
 catch (    Exception ignored) {
    }
  }
}
