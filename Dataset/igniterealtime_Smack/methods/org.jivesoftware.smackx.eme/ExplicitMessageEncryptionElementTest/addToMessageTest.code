@Test public void addToMessageTest(){
  Message message=StanzaBuilder.buildMessage().build();
  assertNull(ExplicitMessageEncryptionElement.from(message));
  assertFalse(ExplicitMessageEncryptionElement.hasProtocol(message,ExplicitMessageEncryptionElement.ExplicitMessageEncryptionProtocol.omemoVAxolotl));
  List<XmlElement> extensions=message.getExtensions();
  assertEquals(0,extensions.size());
  MessageBuilder messageBuilder=StanzaBuilder.buildMessage();
  ExplicitMessageEncryptionElement.set(messageBuilder,ExplicitMessageEncryptionElement.ExplicitMessageEncryptionProtocol.omemoVAxolotl);
  message=messageBuilder.build();
  extensions=message.getExtensions();
  assertEquals(1,extensions.size());
  assertTrue(ExplicitMessageEncryptionElement.hasProtocol(message,ExplicitMessageEncryptionElement.ExplicitMessageEncryptionProtocol.omemoVAxolotl));
  assertTrue(ExplicitMessageEncryptionElement.hasProtocol(message,ExplicitMessageEncryptionElement.ExplicitMessageEncryptionProtocol.omemoVAxolotl.getNamespace()));
  assertFalse(ExplicitMessageEncryptionElement.hasProtocol(message,ExplicitMessageEncryptionElement.ExplicitMessageEncryptionProtocol.openpgpV0));
  assertFalse(ExplicitMessageEncryptionElement.hasProtocol(message,ExplicitMessageEncryptionElement.ExplicitMessageEncryptionProtocol.openpgpV0.getNamespace()));
  ExplicitMessageEncryptionElement.set(messageBuilder,ExplicitMessageEncryptionElement.ExplicitMessageEncryptionProtocol.openpgpV0);
  message=messageBuilder.build();
  extensions=message.getExtensions();
  assertEquals(2,extensions.size());
  assertTrue(ExplicitMessageEncryptionElement.hasProtocol(message,ExplicitMessageEncryptionElement.ExplicitMessageEncryptionProtocol.openpgpV0));
  assertTrue(ExplicitMessageEncryptionElement.hasProtocol(message,ExplicitMessageEncryptionElement.ExplicitMessageEncryptionProtocol.omemoVAxolotl));
  ExplicitMessageEncryptionElement.set(messageBuilder,ExplicitMessageEncryptionElement.ExplicitMessageEncryptionProtocol.omemoVAxolotl);
  message=messageBuilder.build();
  extensions=message.getExtensions();
  assertEquals(2,extensions.size());
}
