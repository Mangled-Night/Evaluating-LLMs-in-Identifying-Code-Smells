@Nullable private static Activity getActivityFromDecorContext(@Nullable Context context){
  if (context == null)   return null;
  if (context.getClass().getName().equals("com.android.internal.policy.DecorContext")) {
    try {
      Field mActivityContextField=context.getClass().getDeclaredField("mActivityContext");
      mActivityContextField.setAccessible(true);
      return ((WeakReference<Activity>)mActivityContextField.get(context)).get();
    }
 catch (    Exception ignore) {
    }
  }
  return null;
}
