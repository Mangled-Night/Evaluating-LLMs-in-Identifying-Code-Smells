/** 
 * 将优惠券信息更改为指定状态
 * @param couponId  优惠券id
 * @param memberId  会员id
 * @param useStatus 0->未使用；1->已使用
 */
private void updateCouponStatus(Long couponId,Long memberId,Integer useStatus){
  if (couponId == null)   return;
  SmsCouponHistoryExample example=new SmsCouponHistoryExample();
  example.createCriteria().andMemberIdEqualTo(memberId).andCouponIdEqualTo(couponId).andUseStatusEqualTo(useStatus == 0 ? 1 : 0);
  List<SmsCouponHistory> couponHistoryList=couponHistoryMapper.selectByExample(example);
  if (!CollectionUtils.isEmpty(couponHistoryList)) {
    SmsCouponHistory couponHistory=couponHistoryList.get(0);
    couponHistory.setUseTime(new Date());
    couponHistory.setUseStatus(useStatus);
    couponHistoryMapper.updateByPrimaryKeySelective(couponHistory);
  }
}
