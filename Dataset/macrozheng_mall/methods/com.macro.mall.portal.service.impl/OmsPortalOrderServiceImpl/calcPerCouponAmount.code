/** 
 * 对每个下单商品进行优惠券金额分摊的计算
 * @param orderItemList 可用优惠券的下单商品商品
 */
private void calcPerCouponAmount(List<OmsOrderItem> orderItemList,SmsCoupon coupon){
  BigDecimal totalAmount=calcTotalAmount(orderItemList);
  for (  OmsOrderItem orderItem : orderItemList) {
    BigDecimal couponAmount=orderItem.getProductPrice().divide(totalAmount,3,RoundingMode.HALF_EVEN).multiply(coupon.getAmount());
    orderItem.setCouponAmount(couponAmount);
  }
}
