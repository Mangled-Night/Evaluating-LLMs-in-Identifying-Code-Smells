@Test public void checkProvider() throws Exception {
  XMLBuilder xml=XMLBuilder.create("iq");
  xml.a("from","romeo@montague.net/orchard").a("id","last2").a("to","juliet@capulet.com/balcony").a("type","get").e("query").namespace(LastActivity.NAMESPACE);
  DummyConnection c=new DummyConnection();
  c.connect();
  IQ lastRequest=PacketParserUtils.parseStanza(xml.asString());
  assertTrue(lastRequest instanceof LastActivity);
  c.processStanza(lastRequest);
  Stanza reply=c.getSentPacket();
  assertTrue(reply instanceof LastActivity);
  LastActivity l=(LastActivity)reply;
  assertEquals("last2",l.getStanzaId());
  assertEquals(IQ.Type.result,l.getType());
}
