@Test @SuppressWarnings({"unchecked"}) void zunionstore(){
  redis.zadd("zset1",1.0,"a",2.0,"b");
  redis.zadd("zset2",2.0,"a",3.0,"b",4.0,"c");
  assertThat(redis.zunionstore(key,"zset1","zset2")).isEqualTo(3);
  assertThat(redis.zrange(key,0,-1)).isEqualTo(list("a","c","b"));
  assertThat(redis.zrangeWithScores(key,0,-1)).isEqualTo(svlist(sv(3.0,"a"),sv(4.0,"c"),sv(5.0,"b")));
  assertThat(redis.zunionstore(key,weights(new long[]{2,3}),"zset1","zset2")).isEqualTo(3);
  assertThat(redis.zrangeWithScores(key,0,-1)).isEqualTo(svlist(sv(8.0,"a"),sv(12.0,"c"),sv(13.0,"b")));
  assertThat(redis.zunionstore(key,weights(2,3).sum(),"zset1","zset2")).isEqualTo(3);
  assertThat(redis.zrangeWithScores(key,0,-1)).isEqualTo(svlist(sv(8.0,"a"),sv(12.0,"c"),sv(13.0,"b")));
  assertThat(redis.zunionstore(key,weights(2,3).min(),"zset1","zset2")).isEqualTo(3);
  assertThat(redis.zrangeWithScores(key,0,-1)).isEqualTo(svlist(sv(2.0,"a"),sv(4.0,"b"),sv(12.0,"c")));
  assertThat(redis.zunionstore(key,weights(2,3).max(),"zset1","zset2")).isEqualTo(3);
  assertThat(redis.zrangeWithScores(key,0,-1)).isEqualTo(svlist(sv(6.0,"a"),sv(9.0,"b"),sv(12.0,"c")));
}
