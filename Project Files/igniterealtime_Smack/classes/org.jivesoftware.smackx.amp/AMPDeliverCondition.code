public class AMPDeliverCondition implements AMPExtension.Condition {
  public static final String NAME="deliver";
  /** 
 * Check if server supports deliver condition.
 * @param connection Smack connection instance
 * @return true if deliver condition is supported.
 * @throws XMPPErrorException if there was an XMPP error returned.
 * @throws NoResponseException if there was no response from the remote entity.
 * @throws NotConnectedException if the XMPP connection is not connected.
 * @throws InterruptedException if the calling thread was interrupted.
 */
  public static boolean isSupported(  XMPPConnection connection) throws NoResponseException, XMPPErrorException, NotConnectedException, InterruptedException {
    return AMPManager.isConditionSupported(connection,NAME);
  }
  private final Value value;
  /** 
 * Create new amp deliver condition with value set to one of defined by XEP-0079. See http://xmpp.org/extensions/xep-0079.html#conditions-def-deliver
 * @param value AMPDeliveryCondition.Value instance that will be used as value parameter. Can't be null.
 */
  public AMPDeliverCondition(  Value value){
    if (value == null)     throw new NullPointerException("Can't create AMPDeliverCondition with null value");
    this.value=value;
  }
  @Override public String getName(){
    return NAME;
  }
  @Override public String getValue(){
    return value.toString();
  }
  /** 
 * Value for amp deliver condition as defined by XEP-0079. See http://xmpp.org/extensions/xep-0079.html#conditions-def-deliver
 */
  public enum Value {  /** 
 * The message would be immediately delivered to the intended recipient or routed to the next hop.
 */
  direct,   /** 
 * The message would be forwarded to another XMPP address or account.
 */
  forward,   /** 
 * The message would be sent through a gateway to an address or account on a non-XMPP system.
 */
  gateway,   /** 
 * The message would not be delivered at all (e.g., because the intended recipient is offline and message storage is not enabled).
 */
  none,   /** 
 * The message would be stored offline for later delivery to the intended recipient.
 */
  stored}
}
