@Override public <T>Optional<TypeWidgetBuilder<T>> getBuilder(TypeInfo<T> type){
  try (ModuleContext.ContextSpan ignored=ModuleContext.setContext(contextModule)){
    for (    TypeWidgetFactory factory : Lists.reverse(widgetFactories.getFactories())) {
      Optional<TypeWidgetBuilder<T>> widget=factory.create(type,this);
      if (widget.isPresent()) {
        return widget;
      }
    }
    return Optional.empty();
  }
 }
