/** 
 * WGS84 坐标转 GCJ02 坐标
 * @param lng WGS84 坐标经度
 * @param lat WGS84 坐标纬度
 * @return GCJ02 坐标：[经度，纬度]
 */
public static double[] wgs84ToGcj02(double lng,double lat){
  if (outOfChina(lng,lat)) {
    return new double[]{lng,lat};
  }
  double dlat=transformLat(lng - 105.0,lat - 35.0);
  double dlng=transformLng(lng - 105.0,lat - 35.0);
  double radlat=lat / 180.0 * PI;
  double magic=Math.sin(radlat);
  magic=1 - EE * magic * magic;
  double sqrtmagic=Math.sqrt(magic);
  dlat=(dlat * 180.0) / ((A * (1 - EE)) / (magic * sqrtmagic) * PI);
  dlng=(dlng * 180.0) / (A / sqrtmagic * Math.cos(radlat) * PI);
  double mglat=lat + dlat;
  double mglng=lng + dlng;
  return new double[]{mglng,mglat};
}
