/** 
 * This method is invoked if a request to close the In-Band Bytestream has been received.
 * @param closeRequest the close request from the remote peer
 * @throws NotConnectedException if the XMPP connection is not connected.
 * @throws InterruptedException if the calling thread was interrupted.
 */
protected void closeByPeer(Close closeRequest) throws NotConnectedException, InterruptedException {
  this.inputStream.closeInternal();
  this.inputStream.cleanup();
  this.outputStream.closeInternal(false);
  IQ confirmClose=IQ.createResultIQ(closeRequest);
  this.connection.sendStanza(confirmClose);
}
