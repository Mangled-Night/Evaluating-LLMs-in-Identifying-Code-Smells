/** 
 * Comparison/equality wrapper with specific  {@code byte[]} equals and hashCode implementations.
 * @param < K >
 */
static class Wrapper<K> {
  protected final K name;
  public Wrapper(  K name){
    this.name=name;
  }
  @Override public int hashCode(){
    if (name instanceof byte[]) {
      return Arrays.hashCode((byte[])name);
    }
    return name.hashCode();
  }
  @Override public boolean equals(  Object obj){
    if (!(obj instanceof Wrapper)) {
      return false;
    }
    Wrapper<K> that=(Wrapper<K>)obj;
    if (name instanceof byte[] && that.name instanceof byte[]) {
      return Arrays.equals((byte[])name,(byte[])that.name);
    }
    return name.equals(that.name);
  }
  @Override public String toString(){
    final StringBuffer sb=new StringBuffer();
    sb.append(getClass().getSimpleName());
    sb.append(" [name=").append(name);
    sb.append(']');
    return sb.toString();
  }
}
