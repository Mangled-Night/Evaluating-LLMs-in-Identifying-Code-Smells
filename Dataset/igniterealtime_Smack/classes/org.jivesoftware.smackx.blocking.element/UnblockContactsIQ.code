/** 
 * Unblock contact IQ class.
 * @author Fernando Ramirez
 * @author Florian Schmaus
 * @see <a href="http://xmpp.org/extensions/xep-0191.html">XEP-0191: Blocking
 *      Command</a>
 */
public class UnblockContactsIQ extends IQ {
  /** 
 * unblock element.
 */
  public static final String ELEMENT="unblock";
  /** 
 * the IQ NAMESPACE.
 */
  public static final String NAMESPACE=BlockingCommandManager.NAMESPACE;
  private final List<Jid> jids;
  /** 
 * Unblock contacts IQ constructor.
 * @param jids TODO javadoc me please
 */
  public UnblockContactsIQ(  List<Jid> jids){
    super(ELEMENT,NAMESPACE);
    this.setType(Type.set);
    if (jids != null) {
      this.jids=Collections.unmodifiableList(jids);
    }
 else {
      this.jids=null;
    }
  }
  /** 
 * Constructs a new unblock IQ which will unblock <b>all</b> JIDs.
 */
  public UnblockContactsIQ(){
    this(null);
  }
  /** 
 * Get the JIDs. This may return null, which means that all JIDs should be or where unblocked.
 * @return the list of JIDs or <code>null</code>.
 */
  public List<Jid> getJids(){
    return jids;
  }
  @Override protected IQChildElementXmlStringBuilder getIQChildElementBuilder(  IQChildElementXmlStringBuilder xml){
    if (jids == null) {
      xml.setEmptyElement();
      return xml;
    }
    xml.rightAngleBracket();
    for (    Jid jid : jids) {
      xml.halfOpenElement("item");
      xml.attribute("jid",jid);
      xml.closeEmptyElement();
    }
    return xml;
  }
}
