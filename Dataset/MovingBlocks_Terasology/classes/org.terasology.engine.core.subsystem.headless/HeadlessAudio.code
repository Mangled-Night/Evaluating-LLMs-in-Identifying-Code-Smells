public class HeadlessAudio implements EngineSubsystem {
  private AudioManager audioManager;
  @Override public String getName(){
    return "Audio";
  }
  @Override public void initialise(  GameEngine engine,  Context context){
    initNoSound(context);
  }
  @Override public void registerCoreAssetTypes(  ModuleAwareAssetTypeManager assetTypeManager){
    assetTypeManager.createAssetType(StaticSound.class,audioManager.getStaticSoundFactory(),"sounds");
    assetTypeManager.createAssetType(StreamingSound.class,audioManager.getStreamingSoundFactory(),"music");
  }
  @Override public void postUpdate(  GameState currentState,  float delta){
    audioManager.update(delta);
  }
  @Override public void shutdown(){
    audioManager.dispose();
  }
  private void initNoSound(  Context context){
    audioManager=new NullAudioManager();
    context.put(AudioManager.class,audioManager);
  }
}
