/** 
 * Returns the agent roster for the workgroup, which contains.
 * @return the AgentRoster
 * @throws NotConnectedException if the XMPP connection is not connected.
 * @throws InterruptedException if the calling thread was interrupted.
 */
public AgentRoster getAgentRoster() throws NotConnectedException, InterruptedException {
  if (agentRoster == null) {
    agentRoster=new AgentRoster(connection,workgroupJID);
  }
  int elapsed=0;
  while (!agentRoster.rosterInitialized && elapsed <= 2000) {
    try {
      Thread.sleep(500);
    }
 catch (    Exception e) {
    }
    elapsed+=500;
  }
  return agentRoster;
}
