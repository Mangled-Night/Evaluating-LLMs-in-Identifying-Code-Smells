/** 
 * TODO: The uri might not be following the XMPP schema. That shouldn't matter though.
 * @throws Exception if an exception occurs.
 */
@Test public void providerDataTest() throws Exception {
  String xml="<reference xmlns='urn:xmpp:reference:0' " + "type='data' " + "uri='xmpp:fdp.shakespeare.lit?;node=fdp/submitted/stan.isode.net/accidentreport;item=ndina872be' />";
  URI uri=new URI("xmpp:fdp.shakespeare.lit?;node=fdp/submitted/stan.isode.net/accidentreport;item=ndina872be");
  ReferenceElement element=new ReferenceElement(null,null,ReferenceElement.Type.data,null,uri);
  assertXmlSimilar(xml,element.toXML().toString());
  assertNull(element.getBegin());
  assertNull(element.getEnd());
  assertNull(element.getAnchor());
  assertEquals(ReferenceElement.Type.data,element.getType());
  assertEquals(uri,element.getUri());
  ReferenceElement parsed=ReferenceProvider.TEST_PROVIDER.parse(TestUtils.getParser(xml));
  assertXmlSimilar(xml,parsed.toXML().toString());
}
