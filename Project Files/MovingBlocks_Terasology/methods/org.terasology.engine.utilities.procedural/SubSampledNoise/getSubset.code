private float[] getSubset(float[] fullData,BlockAreac fullRegion,BlockAreac subRegion){
  if (subRegion.getSizeX() != fullRegion.getSizeX() || subRegion.getSizeY() != fullRegion.getSizeY()) {
    float[] result=new float[subRegion.getSizeX() * subRegion.getSizeY()];
    Vector2i offset=new Vector2i(subRegion.minX() - fullRegion.minX(),subRegion.minY() - fullRegion.minY());
    for (int y=0; y < subRegion.getSizeY(); ++y) {
      System.arraycopy(fullData,offset.x() + fullRegion.getSizeX() * (y + offset.y()),result,subRegion.getSizeX() * y,subRegion.getSizeX());
    }
    return result;
  }
 else {
    return fullData;
  }
}
private float[] getSubset(float[] fullData,BlockRegion fullRegion,BlockRegion subRegion){
  if (subRegion.getSizeX() != fullRegion.getSizeX() || subRegion.getSizeY() != fullRegion.getSizeY() || subRegion.getSizeZ() != fullRegion.getSizeZ()) {
    float[] result=new float[subRegion.getSizeX() * subRegion.getSizeY() * subRegion.getSizeZ()];
    Vector3i offset=new Vector3i(subRegion.minX() - fullRegion.minX(),subRegion.minY() - fullRegion.minY(),subRegion.minZ() - fullRegion.minZ());
    for (int z=0; z < subRegion.getSizeZ(); ++z) {
      for (int y=0; y < subRegion.getSizeY(); ++y) {
        System.arraycopy(fullData,offset.x + fullRegion.getSizeX() * (y + offset.y + fullRegion.getSizeY() * (z + offset.z)),result,subRegion.getSizeX() * (y + subRegion.getSizeY() * z),subRegion.getSizeX());
      }
    }
    return result;
  }
 else {
    return fullData;
  }
}
