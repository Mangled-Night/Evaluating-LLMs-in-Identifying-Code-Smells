@Override public void processStanza(Stanza packet){
  if (packet instanceof AgentStatusRequest) {
    AgentStatusRequest statusRequest=(AgentStatusRequest)packet;
    for (Iterator<AgentStatusRequest.Item> i=statusRequest.getAgents().iterator(); i.hasNext(); ) {
      AgentStatusRequest.Item item=i.next();
      EntityBareJid agentJID=item.getJID();
      if ("remove".equals(item.getType())) {
        presenceMap.remove(agentJID.asBareJid());
        fireEvent(EVENT_AGENT_REMOVED,agentJID);
      }
 else {
        entries.add(agentJID);
        fireEvent(EVENT_AGENT_ADDED,agentJID);
      }
    }
    rosterInitialized=true;
  }
}
