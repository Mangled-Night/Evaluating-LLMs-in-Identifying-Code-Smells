@Around("webLog()") public Object doAround(ProceedingJoinPoint joinPoint) throws Throwable {
  long startTime=System.currentTimeMillis();
  ServletRequestAttributes attributes=(ServletRequestAttributes)RequestContextHolder.getRequestAttributes();
  HttpServletRequest request=attributes.getRequest();
  WebLog webLog=new WebLog();
  Object result=joinPoint.proceed();
  Signature signature=joinPoint.getSignature();
  MethodSignature methodSignature=(MethodSignature)signature;
  Method method=methodSignature.getMethod();
  if (method.isAnnotationPresent(ApiOperation.class)) {
    ApiOperation log=method.getAnnotation(ApiOperation.class);
    webLog.setDescription(log.value());
  }
  long endTime=System.currentTimeMillis();
  String urlStr=request.getRequestURL().toString();
  webLog.setBasePath(StrUtil.removeSuffix(urlStr,URLUtil.url(urlStr).getPath()));
  webLog.setUsername(request.getRemoteUser());
  webLog.setIp(RequestUtil.getRequestIp(request));
  webLog.setMethod(request.getMethod());
  webLog.setParameter(getParameter(method,joinPoint.getArgs()));
  webLog.setResult(result);
  webLog.setSpendTime((int)(endTime - startTime));
  webLog.setStartTime(startTime);
  webLog.setUri(request.getRequestURI());
  webLog.setUrl(request.getRequestURL().toString());
  Map<String,Object> logMap=new HashMap<>();
  logMap.put("url",webLog.getUrl());
  logMap.put("method",webLog.getMethod());
  logMap.put("parameter",webLog.getParameter());
  logMap.put("spendTime",webLog.getSpendTime());
  logMap.put("description",webLog.getDescription());
  LOGGER.info(Markers.appendEntries(logMap),JSONUtil.parse(webLog).toString());
  return result;
}
