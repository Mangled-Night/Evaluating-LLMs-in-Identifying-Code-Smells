/** 
 * 子类可覆盖（如果该方法解析得不到表名、字段等信息的，就覆盖该方法，覆盖成空方法，然后通过statementPparse去解析） 通过visitor解析：有些类型的Statement通过visitor解析得不到表名、
 * @param stmt
 */
@Override public void visitorParse(SchemaConfig schema,RouteResultset rrs,SQLStatement stmt,MycatSchemaStatVisitor visitor) throws SQLNonTransientException {
  stmt.accept(visitor);
  ctx.setVisitor(visitor);
  if (stmt instanceof SQLSelectStatement) {
    SQLSelectQuery query=((SQLSelectStatement)stmt).getSelect().getQuery();
    if (query instanceof MySqlSelectQueryBlock) {
      if (((MySqlSelectQueryBlock)query).isForUpdate()) {
        rrs.setSelectForUpdate(true);
      }
    }
  }
  List<List<Condition>> mergedConditionList=new ArrayList<List<Condition>>();
  if (visitor.hasOrCondition()) {
    mergedConditionList=visitor.splitConditions();
  }
 else {
    mergedConditionList.add(visitor.getConditions());
  }
  if (visitor.isHasChange()) {
    ctx.setSql(stmt.toString());
    rrs.setStatement(ctx.getSql());
  }
  buildTableAliasMap(schema,visitor);
  ctx.setRouteCalculateUnits(this.buildRouteCalculateUnits(visitor,mergedConditionList));
}
