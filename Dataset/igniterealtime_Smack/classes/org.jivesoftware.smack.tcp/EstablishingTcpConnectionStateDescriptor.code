static final class EstablishingTcpConnectionStateDescriptor extends StateDescriptor {
  private EstablishingTcpConnectionStateDescriptor(){
    super(XmppTcpTransportModule.EstablishingTcpConnectionState.class);
    addPredeccessor(LookupRemoteConnectionEndpointsStateDescriptor.class);
    addSuccessor(EstablishTlsStateDescriptor.class);
    addSuccessor(ConnectedButUnauthenticatedStateDescriptor.class);
  }
  @Override protected XmppTcpTransportModule.EstablishingTcpConnectionState constructState(  ModularXmppClientToServerConnectionInternal connectionInternal){
    XmppTcpTransportModule tcpTransportModule=connectionInternal.connection.getConnectionModuleFor(XmppTcpTransportModuleDescriptor.class);
    return tcpTransportModule.constructEstablishingTcpConnectionState(this,connectionInternal);
  }
}
