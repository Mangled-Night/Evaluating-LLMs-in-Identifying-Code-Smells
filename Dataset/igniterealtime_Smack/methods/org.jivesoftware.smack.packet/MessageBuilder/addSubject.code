/** 
 * Adds a subject with a corresponding language.
 * @param language the language of the subject being added.
 * @param subject the subject being added to the message.
 * @return a reference to this builder.
 * @throws NullPointerException if the subject is null.
 */
public MessageBuilder addSubject(String language,String subject){
  language=StringUtils.requireNullOrNotEmpty(language,"language must be null or not empty");
  for (  Subject currentSubject : getExtensions(Subject.class)) {
    if (StringUtils.nullSafeCharSequenceEquals(language,currentSubject.getLanguage())) {
      throw new IllegalArgumentException("Subject with the language " + language + " already exists");
    }
  }
  Subject messageSubject=new Subject(language,subject);
  addExtension(messageSubject);
  return this;
}
