private synchronized long tilNextMillis(long lastTimestamp){
  long timestamp=this.timeGen();
  while (timestamp <= lastTimestamp) {
    timestamp=this.timeGen();
  }
  return timestamp;
}
