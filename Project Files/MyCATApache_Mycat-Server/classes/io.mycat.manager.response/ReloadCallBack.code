/** 
 * 异步执行回调类，用于回写数据给用户等。
 */
private static class ReloadCallBack implements FutureCallback<Boolean> {
  private ManagerConnection mc;
  private ReloadCallBack(  ManagerConnection c){
    this.mc=c;
  }
  @Override public void onSuccess(  Boolean result){
    if (result) {
      LOGGER.warn("send ok package to client " + String.valueOf(mc));
      OkPacket ok=new OkPacket();
      ok.packetId=1;
      ok.affectedRows=1;
      ok.serverStatus=2;
      ok.message="Reload config success".getBytes();
      ok.write(mc);
    }
 else {
      mc.writeErrMessage(ErrorCode.ER_YES,"Reload config failure");
    }
  }
  @Override public void onFailure(  Throwable t){
    mc.writeErrMessage(ErrorCode.ER_YES,"Reload config failure");
  }
}
